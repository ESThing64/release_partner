{"ast":null,"code":"import _objectSpread from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';// material-ui\nimport{Grid,InputAdornment,OutlinedInput,Typography}from'@mui/material';// project imports\nimport FollowerCard from'ui-component/cards/FollowerCard';import MainCard from'ui-component/cards/MainCard';import axios from'utils/axios';import{gridSpacing}from'store/constant';// assets\nimport{IconSearch}from'@tabler/icons';// ==============================|| SOCIAL PROFILE - FOLLOWERS ||============================== //\nimport{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Followers=function Followers(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),followers=_useState2[0],setFollowers=_useState2[1];var getFollowers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/followers/list');case 2:response=_context.sent;setFollowers(response.data.followers);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getFollowers(){return _ref.apply(this,arguments);};}();useEffect(function(){getFollowers();},[]);var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var handleSearch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var newString;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:newString=event===null||event===void 0?void 0:event.target.value;setSearch(newString);if(!newString){_context2.next=7;break;}_context2.next=5;return axios.post('/api/followers/filter',{key:newString}).then(function(response){setFollowers(response.data.results);});case 5:_context2.next=8;break;case 7:getFollowers();case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSearch(_x){return _ref2.apply(this,arguments);};}();var followersResult=/*#__PURE__*/_jsx(_Fragment,{});if(followers){followersResult=followers.map(function(follower,index){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,lg:3,children:/*#__PURE__*/_jsx(FollowerCard,_objectSpread({},follower))},index);});}return/*#__PURE__*/_jsx(MainCard,{title:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",justifyContent:\"space-between\",spacing:gridSpacing,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h3\",children:\"Followers\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(OutlinedInput,{size:\"small\",id:\"input-search-user-profile\",placeholder:\"Search Followers\",value:search,onChange:handleSearch,startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(IconSearch,{stroke:1.5,size:\"1rem\"})})})})]}),children:/*#__PURE__*/_jsx(Grid,{container:true,direction:\"row\",spacing:gridSpacing,children:followersResult})});};export default Followers;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/views/application/users/social-profile/Followers.js"],"names":["useState","useEffect","Grid","InputAdornment","OutlinedInput","Typography","FollowerCard","MainCard","axios","gridSpacing","IconSearch","Followers","followers","setFollowers","getFollowers","get","response","data","search","setSearch","handleSearch","event","newString","target","value","post","key","then","results","followersResult","map","follower","index"],"mappings":"orBAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA;AACA,OAASC,IAAT,CAAeC,cAAf,CAA+BC,aAA/B,CAA8CC,UAA9C,KAAgE,eAAhE,CAEA;AACA,MAAOC,CAAAA,YAAP,KAAyB,iCAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,6BAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,OAASC,WAAT,KAA4B,gBAA5B,CAEA;AACA,OAASC,UAAT,KAA2B,eAA3B,CAEA;6IAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB,cAAkCX,QAAQ,CAAC,EAAD,CAA1C,wCAAOY,SAAP,eAAkBC,YAAlB,eACA,GAAMC,CAAAA,YAAY,0FAAG,sKACMN,CAAAA,KAAK,CAACO,GAAN,CAAU,qBAAV,CADN,QACXC,QADW,eAEjBH,YAAY,CAACG,QAAQ,CAACC,IAAT,CAAcL,SAAf,CAAZ,CAFiB,sDAAH,kBAAZE,CAAAA,YAAY,0CAAlB,CAKAb,SAAS,CAAC,UAAM,CACZa,YAAY,GACf,CAFQ,CAEN,EAFM,CAAT,CAIA,eAA4Bd,QAAQ,CAAC,EAAD,CAApC,yCAAOkB,MAAP,eAAeC,SAAf,eACA,GAAMC,CAAAA,YAAY,2FAAG,kBAAOC,KAAP,oIACXC,SADW,CACCD,KADD,SACCA,KADD,iBACCA,KAAK,CAAEE,MAAP,CAAcC,KADf,CAEjBL,SAAS,CAACG,SAAD,CAAT,CAFiB,IAIbA,SAJa,iDAKPd,CAAAA,KAAK,CACNiB,IADC,CACI,uBADJ,CAC6B,CAC3BC,GAAG,CAAEJ,SADsB,CAD7B,EAIDK,IAJC,CAII,SAACX,QAAD,CAAc,CAChBH,YAAY,CAACG,QAAQ,CAACC,IAAT,CAAcW,OAAf,CAAZ,CACH,CANC,CALO,sCAabd,YAAY,GAbC,wDAAH,kBAAZM,CAAAA,YAAY,6CAAlB,CAiBA,GAAIS,CAAAA,eAAe,cAAG,kBAAtB,CACA,GAAIjB,SAAJ,CAAe,CACXiB,eAAe,CAAGjB,SAAS,CAACkB,GAAV,CAAc,SAACC,QAAD,CAAWC,KAAX,qBAC5B,KAAC,IAAD,EAAkB,IAAI,KAAtB,CAAuB,EAAE,CAAE,EAA3B,CAA+B,EAAE,CAAE,CAAnC,CAAsC,EAAE,CAAE,CAA1C,CAA6C,EAAE,CAAE,CAAjD,uBACI,KAAC,YAAD,kBAAkBD,QAAlB,EADJ,EAAWC,KAAX,CAD4B,EAAd,CAAlB,CAKH,CAED,mBACI,KAAC,QAAD,EACI,KAAK,cACD,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,UAAU,CAAC,QAA3B,CAAoC,cAAc,CAAC,eAAnD,CAAmE,OAAO,CAAEvB,WAA5E,wBACI,KAAC,IAAD,EAAM,IAAI,KAAV,uBACI,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,uBADJ,EADJ,cAII,KAAC,IAAD,EAAM,IAAI,KAAV,uBACI,KAAC,aAAD,EACI,IAAI,CAAC,OADT,CAEI,EAAE,CAAC,2BAFP,CAGI,WAAW,CAAC,kBAHhB,CAII,KAAK,CAAES,MAJX,CAKI,QAAQ,CAAEE,YALd,CAMI,cAAc,cACV,KAAC,cAAD,EAAgB,QAAQ,CAAC,OAAzB,uBACI,KAAC,UAAD,EAAY,MAAM,CAAE,GAApB,CAAyB,IAAI,CAAC,MAA9B,EADJ,EAPR,EADJ,EAJJ,GAFR,uBAuBI,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,SAAS,CAAC,KAA1B,CAAgC,OAAO,CAAEX,WAAzC,UACKoB,eADL,EAvBJ,EADJ,CA6BH,CAnED,CAqEA,cAAelB,CAAAA,SAAf","sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\n// material-ui\r\nimport { Grid, InputAdornment, OutlinedInput, Typography } from '@mui/material';\r\n\r\n// project imports\r\nimport FollowerCard from 'ui-component/cards/FollowerCard';\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport axios from 'utils/axios';\r\nimport { gridSpacing } from 'store/constant';\r\n\r\n// assets\r\nimport { IconSearch } from '@tabler/icons';\r\n\r\n// ==============================|| SOCIAL PROFILE - FOLLOWERS ||============================== //\r\n\r\nconst Followers = () => {\r\n    const [followers, setFollowers] = useState([]);\r\n    const getFollowers = async () => {\r\n        const response = await axios.get('/api/followers/list');\r\n        setFollowers(response.data.followers);\r\n    };\r\n\r\n    useEffect(() => {\r\n        getFollowers();\r\n    }, []);\r\n\r\n    const [search, setSearch] = useState('');\r\n    const handleSearch = async (event) => {\r\n        const newString = event?.target.value;\r\n        setSearch(newString);\r\n\r\n        if (newString) {\r\n            await axios\r\n                .post('/api/followers/filter', {\r\n                    key: newString\r\n                })\r\n                .then((response) => {\r\n                    setFollowers(response.data.results);\r\n                });\r\n        } else {\r\n            getFollowers();\r\n        }\r\n    };\r\n\r\n    let followersResult = <></>;\r\n    if (followers) {\r\n        followersResult = followers.map((follower, index) => (\r\n            <Grid key={index} item xs={12} sm={6} md={4} lg={3}>\r\n                <FollowerCard {...follower} />\r\n            </Grid>\r\n        ));\r\n    }\r\n\r\n    return (\r\n        <MainCard\r\n            title={\r\n                <Grid container alignItems=\"center\" justifyContent=\"space-between\" spacing={gridSpacing}>\r\n                    <Grid item>\r\n                        <Typography variant=\"h3\">Followers</Typography>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <OutlinedInput\r\n                            size=\"small\"\r\n                            id=\"input-search-user-profile\"\r\n                            placeholder=\"Search Followers\"\r\n                            value={search}\r\n                            onChange={handleSearch}\r\n                            startAdornment={\r\n                                <InputAdornment position=\"start\">\r\n                                    <IconSearch stroke={1.5} size=\"1rem\" />\r\n                                </InputAdornment>\r\n                            }\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            }\r\n        >\r\n            <Grid container direction=\"row\" spacing={gridSpacing}>\r\n                {followersResult}\r\n            </Grid>\r\n        </MainCard>\r\n    );\r\n};\r\n\r\nexport default Followers;\r\n"]},"metadata":{},"sourceType":"module"}