{"ast":null,"code":"import _regeneratorRuntime from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{Link}from'react-router-dom';// material-ui\nimport{useTheme}from'@mui/material/styles';import{CardContent,Checkbox,Fab,Grid,IconButton,InputAdornment,Menu,MenuItem,Table,TableBody,TableCell,TableContainer,TableHead,TablePagination,TableRow,TableSortLabel,TextField,Toolbar,Tooltip,Typography}from'@mui/material';// third-party\nimport{format}from'date-fns';// project imports\nimport MainCard from'ui-component/cards/MainCard';import Avatar from'ui-component/extended/Avatar';import Chip from'ui-component/extended/Chip';import axios from'utils/axios';// assets\nimport DeleteIcon from'@mui/icons-material/Delete';import FilterListIcon from'@mui/icons-material/FilterListTwoTone';import PrintIcon from'@mui/icons-material/PrintTwoTone';import FileCopyIcon from'@mui/icons-material/FileCopyTwoTone';import SearchIcon from'@mui/icons-material/Search';import AddIcon from'@mui/icons-material/AddTwoTone';import MoreHorizOutlinedIcon from'@mui/icons-material/MoreHorizOutlined';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var prodImage=require.context('assets/images/e-commerce',true);// table sort\nfunction descendingComparator(a,b,orderBy){if(b[orderBy]<a[orderBy]){return-1;}if(b[orderBy]>a[orderBy]){return 1;}return 0;}var getComparator=function getComparator(order,orderBy){return order==='desc'?function(a,b){return descendingComparator(a,b,orderBy);}:function(a,b){return-descendingComparator(a,b,orderBy);};};function stableSort(array,comparator){var stabilizedThis=array.map(function(el,index){return[el,index];});stabilizedThis.sort(function(a,b){var order=comparator(a[0],b[0]);if(order!==0)return order;return a[1]-b[1];});return stabilizedThis.map(function(el){return el[0];});}// table header options\nvar headCells=[{id:'id',numeric:true,label:'#',align:'center'},{id:'name',numeric:false,label:'Product Name',align:'left'},{id:'created',numeric:false,label:'Created',align:'left'},{id:'price',numeric:true,label:'Price',align:'right'},{id:'sale-price',numeric:true,label:'Sale Price',align:'right'},{id:'status',numeric:true,label:'Status',align:'center'}];// ==============================|| TABLE HEADER ||============================== //\nfunction EnhancedTableHead(_ref){var onSelectAllClick=_ref.onSelectAllClick,order=_ref.order,orderBy=_ref.orderBy,numSelected=_ref.numSelected,rowCount=_ref.rowCount,onRequestSort=_ref.onRequestSort,theme=_ref.theme,selected=_ref.selected;var createSortHandler=function createSortHandler(property){return function(event){onRequestSort(event,property);};};return/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{padding:\"checkbox\",sx:{pl:3},children:/*#__PURE__*/_jsx(Checkbox,{color:\"primary\",indeterminate:numSelected>0&&numSelected<rowCount,checked:rowCount>0&&numSelected===rowCount,onChange:onSelectAllClick,inputProps:{'aria-label':'select all desserts'}})}),numSelected>0&&/*#__PURE__*/_jsx(TableCell,{padding:\"none\",colSpan:7,children:/*#__PURE__*/_jsx(EnhancedTableToolbar,{numSelected:selected.length})}),numSelected<=0&&headCells.map(function(headCell){return/*#__PURE__*/_jsx(TableCell,{align:headCell.align,padding:headCell.disablePadding?'none':'normal',sortDirection:orderBy===headCell.id?order:false,children:/*#__PURE__*/_jsxs(TableSortLabel,{active:orderBy===headCell.id,direction:orderBy===headCell.id?order:'asc',onClick:createSortHandler(headCell.id),children:[headCell.label,orderBy===headCell.id?/*#__PURE__*/_jsx(Typography,{component:\"span\",sx:{display:'none'},children:order==='desc'?'sorted descending':'sorted ascending'}):null]})},headCell.id);}),numSelected<=0&&/*#__PURE__*/_jsx(TableCell,{sortDirection:false,align:\"center\",sx:{pr:3},children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{color:theme.palette.mode==='dark'?theme.palette.grey[600]:'grey.900'},children:\"Action\"})})]})});}// ==============================|| TABLE HEADER TOOLBAR ||============================== //\nvar EnhancedTableToolbar=function EnhancedTableToolbar(_ref2){var numSelected=_ref2.numSelected;return/*#__PURE__*/_jsxs(Toolbar,{sx:{p:0,pl:2,pr:1,color:numSelected>0?'secondary.main':'inherit'},children:[numSelected>0?/*#__PURE__*/_jsxs(Typography,{sx:{flex:'1 1 100%'},color:\"inherit\",variant:\"h4\",component:\"div\",children:[numSelected,\" Selected\"]}):/*#__PURE__*/_jsx(Typography,{sx:{flex:'1 1 100%'},variant:\"h6\",id:\"tableTitle\",component:\"div\",children:\"Nutrition\"}),numSelected>0&&/*#__PURE__*/_jsx(Tooltip,{title:\"Delete\",children:/*#__PURE__*/_jsx(IconButton,{size:\"large\",children:/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"small\"})})})]});};// ==============================|| PRODUCT LIST ||============================== //\nvar ProductList=function ProductList(){var theme=useTheme();var _useState=useState('asc'),_useState2=_slicedToArray(_useState,2),order=_useState2[0],setOrder=_useState2[1];var _useState3=useState('calories'),_useState4=_slicedToArray(_useState3,2),orderBy=_useState4[0],setOrderBy=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),selected=_useState6[0],setSelected=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setPage=_useState8[1];var _useState9=useState(5),_useState10=_slicedToArray(_useState9,2),rowsPerPage=_useState10[0],setRowsPerPage=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),search=_useState12[0],setSearch=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),rows=_useState14[0],setRows=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),anchorEl=_useState16[0],setAnchorEl=_useState16[1];var handleMenuClick=function handleMenuClick(event){setAnchorEl(event===null||event===void 0?void 0:event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var getProducts=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/products/list');case 2:response=_context.sent;setRows(response.data.products);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getProducts(){return _ref3.apply(this,arguments);};}();useEffect(function(){getProducts();},[]);var handleSearch=function handleSearch(event){var newString=event===null||event===void 0?void 0:event.target.value;setSearch(newString||'');if(newString){var newRows=rows===null||rows===void 0?void 0:rows.filter(function(row){var matches=true;var properties=['name','description','rating','salePrice','offerPrice','gender'];var containsQuery=false;properties.forEach(function(property){if(row[property].toString().toLowerCase().includes(newString.toString().toLowerCase())){containsQuery=true;}});if(!containsQuery){matches=false;}return matches;});setRows(newRows);}else{getProducts();}};var handleRequestSort=function handleRequestSort(event,property){var isAsc=orderBy===property&&order==='asc';setOrder(isAsc?'desc':'asc');setOrderBy(property);};var handleSelectAllClick=function handleSelectAllClick(event){if(event.target.checked){var newSelectedId=rows===null||rows===void 0?void 0:rows.map(function(n){return n.name;});setSelected(newSelectedId);return;}setSelected([]);};var handleClick=function handleClick(event,name){var selectedIndex=selected.indexOf(name);var newSelected=[];if(selectedIndex===-1){newSelected=newSelected.concat(selected,name);}else if(selectedIndex===0){newSelected=newSelected.concat(selected.slice(1));}else if(selectedIndex===selected.length-1){newSelected=newSelected.concat(selected.slice(0,-1));}else if(selectedIndex>0){newSelected=newSelected.concat(selected.slice(0,selectedIndex),selected.slice(selectedIndex+1));}setSelected(newSelected);};var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){if(event===null||event===void 0?void 0:event.target.value)setRowsPerPage(parseInt(event===null||event===void 0?void 0:event.target.value,10));setPage(0);};var isSelected=function isSelected(name){return selected.indexOf(name)!==-1;};var emptyRows=page>0?Math.max(0,(1+page)*rowsPerPage-rows.length):0;return/*#__PURE__*/_jsxs(MainCard,{title:\"Product List\",content:false,children:[/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"space-between\",alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{fontSize:\"small\"})})},onChange:handleSearch,placeholder:\"Search Product\",value:search,size:\"small\"})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,sx:{textAlign:'right'},children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Copy\",children:/*#__PURE__*/_jsx(IconButton,{size:\"large\",children:/*#__PURE__*/_jsx(FileCopyIcon,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Print\",children:/*#__PURE__*/_jsx(IconButton,{size:\"large\",children:/*#__PURE__*/_jsx(PrintIcon,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Filter\",children:/*#__PURE__*/_jsx(IconButton,{size:\"large\",children:/*#__PURE__*/_jsx(FilterListIcon,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Add Product\",children:/*#__PURE__*/_jsx(Fab,{color:\"primary\",size:\"small\",sx:{boxShadow:'none',ml:1,width:32,height:32,minHeight:32},children:/*#__PURE__*/_jsx(AddIcon,{fontSize:\"small\"})})})]})]})}),/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:750},\"aria-labelledby\":\"tableTitle\",children:[/*#__PURE__*/_jsx(EnhancedTableHead,{numSelected:selected.length,order:order,orderBy:orderBy,onSelectAllClick:handleSelectAllClick,onRequestSort:handleRequestSort,rowCount:rows.length,theme:theme,selected:selected}),/*#__PURE__*/_jsxs(TableBody,{children:[stableSort(rows,getComparator(order,orderBy)).slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(row,index){if(typeof row==='number')return null;var isItemSelected=isSelected(row.name);var labelId=\"enhanced-table-checkbox-\".concat(index);return/*#__PURE__*/_jsxs(TableRow,{hover:true,role:\"checkbox\",\"aria-checked\":isItemSelected,tabIndex:-1,selected:isItemSelected,children:[/*#__PURE__*/_jsx(TableCell,{padding:\"checkbox\",sx:{pl:3},onClick:function onClick(event){return handleClick(event,row.name);},children:/*#__PURE__*/_jsx(Checkbox,{color:\"primary\",checked:isItemSelected,inputProps:{'aria-labelledby':labelId}})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",id:labelId,scope:\"row\",onClick:function onClick(event){return handleClick(event,row.name);},sx:{cursor:'pointer'},children:/*#__PURE__*/_jsx(Avatar,{src:row.image&&prodImage(\"./\".concat(row.image)).default,size:\"md\",variant:\"rounded\"})}),/*#__PURE__*/_jsx(TableCell,{component:\"th\",id:labelId,scope:\"row\",sx:{cursor:'pointer'},children:/*#__PURE__*/_jsx(Typography,{component:Link,to:\"/e-commerce/product-details/\".concat(row.id),variant:\"subtitle1\",sx:{color:theme.palette.mode==='dark'?theme.palette.grey[600]:'grey.900',textDecoration:'none'},children:row.name})}),/*#__PURE__*/_jsx(TableCell,{children:format(new Date(row.created),'E, MMM d yyyy')}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[\"$\",row.offerPrice]}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[\"$\",row.salePrice]}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Chip,{size:\"small\",label:row.isStock?'In Stock':'Out of Stock',chipcolor:row.isStock?'success':'error',sx:{borderRadius:'4px',textTransform:'capitalize'}})}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",sx:{pr:3},children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleMenuClick,size:\"large\",children:/*#__PURE__*/_jsx(MoreHorizOutlinedIcon,{fontSize:\"small\",\"aria-controls\":\"menu-popular-card-1\",\"aria-haspopup\":\"true\",sx:{color:'grey.500'}})}),/*#__PURE__*/_jsxs(Menu,{id:\"menu-popular-card-1\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleClose,variant:\"selectedMenu\",anchorOrigin:{vertical:'bottom',horizontal:'right'},transformOrigin:{vertical:'top',horizontal:'right'},sx:{'& .MuiMenu-paper':{boxShadow:theme.customShadows.z1}},children:[/*#__PURE__*/_jsx(MenuItem,{onClick:handleClose,children:\" Edit\"}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleClose,children:\" Delete\"})]})]})]},index);}),emptyRows>0&&/*#__PURE__*/_jsx(TableRow,{style:{height:53*emptyRows},children:/*#__PURE__*/_jsx(TableCell,{colSpan:6})})]})]})}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[5,10,25],component:\"div\",count:rows.length,rowsPerPage:rowsPerPage,page:page,onPageChange:handleChangePage,onRowsPerPageChange:handleChangeRowsPerPage})]});};export default ProductList;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/views/application/e-commerce/ProductList.js"],"names":["useState","useEffect","Link","useTheme","CardContent","Checkbox","Fab","Grid","IconButton","InputAdornment","Menu","MenuItem","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","TableSortLabel","TextField","Toolbar","Tooltip","Typography","format","MainCard","Avatar","Chip","axios","DeleteIcon","FilterListIcon","PrintIcon","FileCopyIcon","SearchIcon","AddIcon","MoreHorizOutlinedIcon","prodImage","require","context","descendingComparator","a","b","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","map","el","index","sort","headCells","id","numeric","label","align","EnhancedTableHead","onSelectAllClick","numSelected","rowCount","onRequestSort","theme","selected","createSortHandler","property","event","pl","length","headCell","disablePadding","display","pr","color","palette","mode","grey","EnhancedTableToolbar","p","flex","ProductList","setOrder","setOrderBy","setSelected","page","setPage","rowsPerPage","setRowsPerPage","search","setSearch","rows","setRows","anchorEl","setAnchorEl","handleMenuClick","currentTarget","handleClose","getProducts","get","response","data","products","handleSearch","newString","target","value","newRows","filter","row","matches","properties","containsQuery","forEach","toString","toLowerCase","includes","handleRequestSort","isAsc","handleSelectAllClick","checked","newSelectedId","n","name","handleClick","selectedIndex","indexOf","newSelected","concat","slice","handleChangePage","newPage","handleChangeRowsPerPage","parseInt","isSelected","emptyRows","Math","max","startAdornment","textAlign","boxShadow","ml","width","height","minHeight","minWidth","isItemSelected","labelId","cursor","image","default","textDecoration","Date","created","offerPrice","salePrice","isStock","borderRadius","textTransform","Boolean","vertical","horizontal","customShadows","z1"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// material-ui\r\nimport { useTheme } from '@mui/material/styles';\r\nimport {\r\n    CardContent,\r\n    Checkbox,\r\n    Fab,\r\n    Grid,\r\n    IconButton,\r\n    InputAdornment,\r\n    Menu,\r\n    MenuItem,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TablePagination,\r\n    TableRow,\r\n    TableSortLabel,\r\n    TextField,\r\n    Toolbar,\r\n    Tooltip,\r\n    Typography\r\n} from '@mui/material';\r\n\r\n// third-party\r\nimport { format } from 'date-fns';\r\n\r\n// project imports\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport Avatar from 'ui-component/extended/Avatar';\r\nimport Chip from 'ui-component/extended/Chip';\r\nimport axios from 'utils/axios';\r\n\r\n// assets\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport FilterListIcon from '@mui/icons-material/FilterListTwoTone';\r\nimport PrintIcon from '@mui/icons-material/PrintTwoTone';\r\nimport FileCopyIcon from '@mui/icons-material/FileCopyTwoTone';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport AddIcon from '@mui/icons-material/AddTwoTone';\r\nimport MoreHorizOutlinedIcon from '@mui/icons-material/MoreHorizOutlined';\r\n\r\nconst prodImage = require.context('assets/images/e-commerce', true);\r\n\r\n// table sort\r\nfunction descendingComparator(a, b, orderBy) {\r\n    if (b[orderBy] < a[orderBy]) {\r\n        return -1;\r\n    }\r\n    if (b[orderBy] > a[orderBy]) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nconst getComparator = (order, orderBy) =>\r\n    order === 'desc' ? (a, b) => descendingComparator(a, b, orderBy) : (a, b) => -descendingComparator(a, b, orderBy);\r\n\r\nfunction stableSort(array, comparator) {\r\n    const stabilizedThis = array.map((el, index) => [el, index]);\r\n    stabilizedThis.sort((a, b) => {\r\n        const order = comparator(a[0], b[0]);\r\n        if (order !== 0) return order;\r\n        return a[1] - b[1];\r\n    });\r\n    return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\n// table header options\r\nconst headCells = [\r\n    {\r\n        id: 'id',\r\n        numeric: true,\r\n        label: '#',\r\n        align: 'center'\r\n    },\r\n    {\r\n        id: 'name',\r\n        numeric: false,\r\n        label: 'Product Name',\r\n        align: 'left'\r\n    },\r\n    {\r\n        id: 'created',\r\n        numeric: false,\r\n        label: 'Created',\r\n        align: 'left'\r\n    },\r\n    {\r\n        id: 'price',\r\n        numeric: true,\r\n        label: 'Price',\r\n        align: 'right'\r\n    },\r\n    {\r\n        id: 'sale-price',\r\n        numeric: true,\r\n        label: 'Sale Price',\r\n        align: 'right'\r\n    },\r\n    {\r\n        id: 'status',\r\n        numeric: true,\r\n        label: 'Status',\r\n        align: 'center'\r\n    }\r\n];\r\n\r\n// ==============================|| TABLE HEADER ||============================== //\r\n\r\nfunction EnhancedTableHead({ onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort, theme, selected }) {\r\n    const createSortHandler = (property) => (event) => {\r\n        onRequestSort(event, property);\r\n    };\r\n\r\n    return (\r\n        <TableHead>\r\n            <TableRow>\r\n                <TableCell padding=\"checkbox\" sx={{ pl: 3 }}>\r\n                    <Checkbox\r\n                        color=\"primary\"\r\n                        indeterminate={numSelected > 0 && numSelected < rowCount}\r\n                        checked={rowCount > 0 && numSelected === rowCount}\r\n                        onChange={onSelectAllClick}\r\n                        inputProps={{\r\n                            'aria-label': 'select all desserts'\r\n                        }}\r\n                    />\r\n                </TableCell>\r\n                {numSelected > 0 && (\r\n                    <TableCell padding=\"none\" colSpan={7}>\r\n                        <EnhancedTableToolbar numSelected={selected.length} />\r\n                    </TableCell>\r\n                )}\r\n                {numSelected <= 0 &&\r\n                    headCells.map((headCell) => (\r\n                        <TableCell\r\n                            key={headCell.id}\r\n                            align={headCell.align}\r\n                            padding={headCell.disablePadding ? 'none' : 'normal'}\r\n                            sortDirection={orderBy === headCell.id ? order : false}\r\n                        >\r\n                            <TableSortLabel\r\n                                active={orderBy === headCell.id}\r\n                                direction={orderBy === headCell.id ? order : 'asc'}\r\n                                onClick={createSortHandler(headCell.id)}\r\n                            >\r\n                                {headCell.label}\r\n                                {orderBy === headCell.id ? (\r\n                                    <Typography component=\"span\" sx={{ display: 'none' }}>\r\n                                        {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                                    </Typography>\r\n                                ) : null}\r\n                            </TableSortLabel>\r\n                        </TableCell>\r\n                    ))}\r\n                {numSelected <= 0 && (\r\n                    <TableCell sortDirection={false} align=\"center\" sx={{ pr: 3 }}>\r\n                        <Typography\r\n                            variant=\"subtitle1\"\r\n                            sx={{ color: theme.palette.mode === 'dark' ? theme.palette.grey[600] : 'grey.900' }}\r\n                        >\r\n                            Action\r\n                        </Typography>\r\n                    </TableCell>\r\n                )}\r\n            </TableRow>\r\n        </TableHead>\r\n    );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n    theme: PropTypes.object,\r\n    selected: PropTypes.array,\r\n    numSelected: PropTypes.number.isRequired,\r\n    onRequestSort: PropTypes.func.isRequired,\r\n    onSelectAllClick: PropTypes.func.isRequired,\r\n    order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n    orderBy: PropTypes.string.isRequired,\r\n    rowCount: PropTypes.number.isRequired\r\n};\r\n\r\n// ==============================|| TABLE HEADER TOOLBAR ||============================== //\r\n\r\nconst EnhancedTableToolbar = ({ numSelected }) => (\r\n    <Toolbar\r\n        sx={{\r\n            p: 0,\r\n            pl: 2,\r\n            pr: 1,\r\n            color: numSelected > 0 ? 'secondary.main' : 'inherit'\r\n        }}\r\n    >\r\n        {numSelected > 0 ? (\r\n            <Typography sx={{ flex: '1 1 100%' }} color=\"inherit\" variant=\"h4\" component=\"div\">\r\n                {numSelected} Selected\r\n            </Typography>\r\n        ) : (\r\n            <Typography sx={{ flex: '1 1 100%' }} variant=\"h6\" id=\"tableTitle\" component=\"div\">\r\n                Nutrition\r\n            </Typography>\r\n        )}\r\n\r\n        {numSelected > 0 && (\r\n            <Tooltip title=\"Delete\">\r\n                <IconButton size=\"large\">\r\n                    <DeleteIcon fontSize=\"small\" />\r\n                </IconButton>\r\n            </Tooltip>\r\n        )}\r\n    </Toolbar>\r\n);\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n    numSelected: PropTypes.number.isRequired\r\n};\r\n\r\n// ==============================|| PRODUCT LIST ||============================== //\r\n\r\nconst ProductList = () => {\r\n    const theme = useTheme();\r\n\r\n    const [order, setOrder] = useState('asc');\r\n    const [orderBy, setOrderBy] = useState('calories');\r\n    const [selected, setSelected] = useState([]);\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(5);\r\n    const [search, setSearch] = useState('');\r\n    const [rows, setRows] = useState([]);\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n    const handleMenuClick = (event) => {\r\n        setAnchorEl(event?.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const getProducts = async () => {\r\n        const response = await axios.get('/api/products/list');\r\n        setRows(response.data.products);\r\n    };\r\n\r\n    useEffect(() => {\r\n        getProducts();\r\n    }, []);\r\n\r\n    const handleSearch = (event) => {\r\n        const newString = event?.target.value;\r\n        setSearch(newString || '');\r\n\r\n        if (newString) {\r\n            const newRows = rows?.filter((row) => {\r\n                let matches = true;\r\n\r\n                const properties = ['name', 'description', 'rating', 'salePrice', 'offerPrice', 'gender'];\r\n                let containsQuery = false;\r\n\r\n                properties.forEach((property) => {\r\n                    if (row[property].toString().toLowerCase().includes(newString.toString().toLowerCase())) {\r\n                        containsQuery = true;\r\n                    }\r\n                });\r\n\r\n                if (!containsQuery) {\r\n                    matches = false;\r\n                }\r\n                return matches;\r\n            });\r\n            setRows(newRows);\r\n        } else {\r\n            getProducts();\r\n        }\r\n    };\r\n\r\n    const handleRequestSort = (event, property) => {\r\n        const isAsc = orderBy === property && order === 'asc';\r\n        setOrder(isAsc ? 'desc' : 'asc');\r\n        setOrderBy(property);\r\n    };\r\n\r\n    const handleSelectAllClick = (event) => {\r\n        if (event.target.checked) {\r\n            const newSelectedId = rows?.map((n) => n.name);\r\n            setSelected(newSelectedId);\r\n            return;\r\n        }\r\n        setSelected([]);\r\n    };\r\n\r\n    const handleClick = (event, name) => {\r\n        const selectedIndex = selected.indexOf(name);\r\n        let newSelected = [];\r\n\r\n        if (selectedIndex === -1) {\r\n            newSelected = newSelected.concat(selected, name);\r\n        } else if (selectedIndex === 0) {\r\n            newSelected = newSelected.concat(selected.slice(1));\r\n        } else if (selectedIndex === selected.length - 1) {\r\n            newSelected = newSelected.concat(selected.slice(0, -1));\r\n        } else if (selectedIndex > 0) {\r\n            newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\r\n        }\r\n\r\n        setSelected(newSelected);\r\n    };\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        if (event?.target.value) setRowsPerPage(parseInt(event?.target.value, 10));\r\n        setPage(0);\r\n    };\r\n\r\n    const isSelected = (name) => selected.indexOf(name) !== -1;\r\n    const emptyRows = page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0;\r\n\r\n    return (\r\n        <MainCard title=\"Product List\" content={false}>\r\n            <CardContent>\r\n                <Grid container justifyContent=\"space-between\" alignItems=\"center\" spacing={2}>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                            InputProps={{\r\n                                startAdornment: (\r\n                                    <InputAdornment position=\"start\">\r\n                                        <SearchIcon fontSize=\"small\" />\r\n                                    </InputAdornment>\r\n                                )\r\n                            }}\r\n                            onChange={handleSearch}\r\n                            placeholder=\"Search Product\"\r\n                            value={search}\r\n                            size=\"small\"\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} sx={{ textAlign: 'right' }}>\r\n                        <Tooltip title=\"Copy\">\r\n                            <IconButton size=\"large\">\r\n                                <FileCopyIcon />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title=\"Print\">\r\n                            <IconButton size=\"large\">\r\n                                <PrintIcon />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title=\"Filter\">\r\n                            <IconButton size=\"large\">\r\n                                <FilterListIcon />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n\r\n                        {/* product add & dialog */}\r\n                        <Tooltip title=\"Add Product\">\r\n                            <Fab color=\"primary\" size=\"small\" sx={{ boxShadow: 'none', ml: 1, width: 32, height: 32, minHeight: 32 }}>\r\n                                <AddIcon fontSize=\"small\" />\r\n                            </Fab>\r\n                        </Tooltip>\r\n                    </Grid>\r\n                </Grid>\r\n            </CardContent>\r\n\r\n            {/* table */}\r\n            <TableContainer>\r\n                <Table sx={{ minWidth: 750 }} aria-labelledby=\"tableTitle\">\r\n                    <EnhancedTableHead\r\n                        numSelected={selected.length}\r\n                        order={order}\r\n                        orderBy={orderBy}\r\n                        onSelectAllClick={handleSelectAllClick}\r\n                        onRequestSort={handleRequestSort}\r\n                        rowCount={rows.length}\r\n                        theme={theme}\r\n                        selected={selected}\r\n                    />\r\n                    <TableBody>\r\n                        {stableSort(rows, getComparator(order, orderBy))\r\n                            .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                            .map((row, index) => {\r\n                                if (typeof row === 'number') return null;\r\n                                const isItemSelected = isSelected(row.name);\r\n                                const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                                return (\r\n                                    <TableRow\r\n                                        hover\r\n                                        role=\"checkbox\"\r\n                                        aria-checked={isItemSelected}\r\n                                        tabIndex={-1}\r\n                                        key={index}\r\n                                        selected={isItemSelected}\r\n                                    >\r\n                                        <TableCell padding=\"checkbox\" sx={{ pl: 3 }} onClick={(event) => handleClick(event, row.name)}>\r\n                                            <Checkbox\r\n                                                color=\"primary\"\r\n                                                checked={isItemSelected}\r\n                                                inputProps={{\r\n                                                    'aria-labelledby': labelId\r\n                                                }}\r\n                                            />\r\n                                        </TableCell>\r\n                                        <TableCell\r\n                                            align=\"center\"\r\n                                            component=\"th\"\r\n                                            id={labelId}\r\n                                            scope=\"row\"\r\n                                            onClick={(event) => handleClick(event, row.name)}\r\n                                            sx={{ cursor: 'pointer' }}\r\n                                        >\r\n                                            <Avatar src={row.image && prodImage(`./${row.image}`).default} size=\"md\" variant=\"rounded\" />\r\n                                        </TableCell>\r\n                                        <TableCell component=\"th\" id={labelId} scope=\"row\" sx={{ cursor: 'pointer' }}>\r\n                                            <Typography\r\n                                                component={Link}\r\n                                                to={`/e-commerce/product-details/${row.id}`}\r\n                                                variant=\"subtitle1\"\r\n                                                sx={{\r\n                                                    color: theme.palette.mode === 'dark' ? theme.palette.grey[600] : 'grey.900',\r\n                                                    textDecoration: 'none'\r\n                                                }}\r\n                                            >\r\n                                                {row.name}\r\n                                            </Typography>\r\n                                        </TableCell>\r\n                                        <TableCell>{format(new Date(row.created), 'E, MMM d yyyy')}</TableCell>\r\n                                        <TableCell align=\"right\">${row.offerPrice}</TableCell>\r\n                                        <TableCell align=\"right\">${row.salePrice}</TableCell>\r\n                                        <TableCell align=\"center\">\r\n                                            <Chip\r\n                                                size=\"small\"\r\n                                                label={row.isStock ? 'In Stock' : 'Out of Stock'}\r\n                                                chipcolor={row.isStock ? 'success' : 'error'}\r\n                                                sx={{ borderRadius: '4px', textTransform: 'capitalize' }}\r\n                                            />\r\n                                        </TableCell>\r\n                                        <TableCell align=\"center\" sx={{ pr: 3 }}>\r\n                                            <IconButton onClick={handleMenuClick} size=\"large\">\r\n                                                <MoreHorizOutlinedIcon\r\n                                                    fontSize=\"small\"\r\n                                                    aria-controls=\"menu-popular-card-1\"\r\n                                                    aria-haspopup=\"true\"\r\n                                                    sx={{ color: 'grey.500' }}\r\n                                                />\r\n                                            </IconButton>\r\n                                            <Menu\r\n                                                id=\"menu-popular-card-1\"\r\n                                                anchorEl={anchorEl}\r\n                                                keepMounted\r\n                                                open={Boolean(anchorEl)}\r\n                                                onClose={handleClose}\r\n                                                variant=\"selectedMenu\"\r\n                                                anchorOrigin={{\r\n                                                    vertical: 'bottom',\r\n                                                    horizontal: 'right'\r\n                                                }}\r\n                                                transformOrigin={{\r\n                                                    vertical: 'top',\r\n                                                    horizontal: 'right'\r\n                                                }}\r\n                                                sx={{\r\n                                                    '& .MuiMenu-paper': {\r\n                                                        boxShadow: theme.customShadows.z1\r\n                                                    }\r\n                                                }}\r\n                                            >\r\n                                                <MenuItem onClick={handleClose}> Edit</MenuItem>\r\n                                                <MenuItem onClick={handleClose}> Delete</MenuItem>\r\n                                            </Menu>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                );\r\n                            })}\r\n                        {emptyRows > 0 && (\r\n                            <TableRow\r\n                                style={{\r\n                                    height: 53 * emptyRows\r\n                                }}\r\n                            >\r\n                                <TableCell colSpan={6} />\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n\r\n            {/* table pagination */}\r\n            <TablePagination\r\n                rowsPerPageOptions={[5, 10, 25]}\r\n                component=\"div\"\r\n                count={rows.length}\r\n                rowsPerPage={rowsPerPage}\r\n                page={page}\r\n                onPageChange={handleChangePage}\r\n                onRowsPerPageChange={handleChangeRowsPerPage}\r\n            />\r\n        </MainCard>\r\n    );\r\n};\r\n\r\nexport default ProductList;\r\n"]},"metadata":{},"sourceType":"module"}