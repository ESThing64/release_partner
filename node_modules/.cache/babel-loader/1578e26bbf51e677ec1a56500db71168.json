{"ast":null,"code":"import _objectSpread from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";// material-ui\nimport{useTheme}from'@mui/material/styles';import{Box,Button,FormControl,FormHelperText,InputLabel,OutlinedInput}from'@mui/material';import{useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';// third party\nimport*as Yup from'yup';import{Formik}from'formik';// project imports\nimport AnimateButton from'ui-component/extended/AnimateButton';import useAuth from'hooks/useAuth';import useScriptRef from'hooks/useScriptRef';import{SNACKBAR_OPEN}from'store/actions';// ========================|| FIREBASE - FORGOT PASSWORD ||======================== //\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AuthForgotPassword=function AuthForgotPassword(_ref){var others=Object.assign({},_ref);var theme=useTheme();var scriptedRef=useScriptRef();var dispatch=useDispatch();var navigate=useNavigate();var _useAuth=useAuth(),resetPassword=_useAuth.resetPassword;return/*#__PURE__*/_jsx(Formik,{initialValues:{email:'',password:'',submit:null},validationSchema:Yup.object().shape({email:Yup.string().email('Must be a valid email').max(255).required('Email is required')}),onSubmit:/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref2){var setErrors,setStatus,setSubmitting;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setErrors=_ref2.setErrors,setStatus=_ref2.setStatus,setSubmitting=_ref2.setSubmitting;_context.prev=1;_context.next=4;return resetPassword(values.email);case 4:if(scriptedRef.current){setStatus({success:true});setSubmitting(false);dispatch({type:SNACKBAR_OPEN,open:true,message:'Check mail for reset password link',variant:'alert',alertSeverity:'success'});setTimeout(function(){navigate('/login',{replace:true});},1500);}_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);console.error(_context.t0);if(scriptedRef.current){setStatus({success:false});setErrors({submit:_context.t0.message});setSubmitting(false);}case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function(_x,_x2){return _ref3.apply(this,arguments);};}(),children:function children(_ref4){var errors=_ref4.errors,handleBlur=_ref4.handleBlur,handleChange=_ref4.handleChange,handleSubmit=_ref4.handleSubmit,isSubmitting=_ref4.isSubmitting,touched=_ref4.touched,values=_ref4.values;return/*#__PURE__*/_jsxs(\"form\",_objectSpread(_objectSpread({noValidate:true,onSubmit:handleSubmit},others),{},{children:[/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,error:Boolean(touched.email&&errors.email),sx:_objectSpread({},theme.typography.customInput),children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"outlined-adornment-email-forgot\",children:\"Email Address / Username\"}),/*#__PURE__*/_jsx(OutlinedInput,{id:\"outlined-adornment-email-forgot\",type:\"email\",value:values.email,name:\"email\",onBlur:handleBlur,onChange:handleChange,label:\"Email Address / Username\",inputProps:{}}),touched.email&&errors.email&&/*#__PURE__*/_jsx(FormHelperText,{error:true,id:\"standard-weight-helper-text-email-forgot\",children:errors.email})]}),errors.submit&&/*#__PURE__*/_jsx(Box,{sx:{mt:3},children:/*#__PURE__*/_jsx(FormHelperText,{error:true,children:errors.submit})}),/*#__PURE__*/_jsx(Box,{sx:{mt:2},children:/*#__PURE__*/_jsx(AnimateButton,{children:/*#__PURE__*/_jsx(Button,{disableElevation:true,disabled:isSubmitting,fullWidth:true,size:\"large\",type:\"submit\",variant:\"contained\",color:\"secondary\",children:\"Send Mail\"})})})]}));}});};export default AuthForgotPassword;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/views/pages/authentication/auth-forms/AuthForgotPassword.js"],"names":["useTheme","Box","Button","FormControl","FormHelperText","InputLabel","OutlinedInput","useDispatch","useNavigate","Yup","Formik","AnimateButton","useAuth","useScriptRef","SNACKBAR_OPEN","AuthForgotPassword","others","theme","scriptedRef","dispatch","navigate","resetPassword","email","password","submit","object","shape","string","max","required","values","setErrors","setStatus","setSubmitting","current","success","type","open","message","variant","alertSeverity","setTimeout","replace","console","error","errors","handleBlur","handleChange","handleSubmit","isSubmitting","touched","Boolean","typography","customInput","mt"],"mappings":"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","sourcesContent":["// material-ui\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { Box, Button, FormControl, FormHelperText, InputLabel, OutlinedInput } from '@mui/material';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// third party\r\nimport * as Yup from 'yup';\r\nimport { Formik } from 'formik';\r\n\r\n// project imports\r\nimport AnimateButton from 'ui-component/extended/AnimateButton';\r\nimport useAuth from 'hooks/useAuth';\r\nimport useScriptRef from 'hooks/useScriptRef';\r\nimport { SNACKBAR_OPEN } from 'store/actions';\r\n\r\n// ========================|| FIREBASE - FORGOT PASSWORD ||======================== //\r\n\r\nconst AuthForgotPassword = ({ ...others }) => {\r\n    const theme = useTheme();\r\n    const scriptedRef = useScriptRef();\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n\r\n    const { resetPassword } = useAuth();\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={{\r\n                email: '',\r\n                password: '',\r\n                submit: null\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n                email: Yup.string().email('Must be a valid email').max(255).required('Email is required')\r\n            })}\r\n            onSubmit={async (values, { setErrors, setStatus, setSubmitting }) => {\r\n                try {\r\n                    await resetPassword(values.email);\r\n\r\n                    if (scriptedRef.current) {\r\n                        setStatus({ success: true });\r\n                        setSubmitting(false);\r\n                        dispatch({\r\n                            type: SNACKBAR_OPEN,\r\n                            open: true,\r\n                            message: 'Check mail for reset password link',\r\n                            variant: 'alert',\r\n                            alertSeverity: 'success'\r\n                        });\r\n                        setTimeout(() => {\r\n                            navigate('/login', { replace: true });\r\n                        }, 1500);\r\n                    }\r\n                } catch (err) {\r\n                    console.error(err);\r\n                    if (scriptedRef.current) {\r\n                        setStatus({ success: false });\r\n                        setErrors({ submit: err.message });\r\n                        setSubmitting(false);\r\n                    }\r\n                }\r\n            }}\r\n        >\r\n            {({ errors, handleBlur, handleChange, handleSubmit, isSubmitting, touched, values }) => (\r\n                <form noValidate onSubmit={handleSubmit} {...others}>\r\n                    <FormControl fullWidth error={Boolean(touched.email && errors.email)} sx={{ ...theme.typography.customInput }}>\r\n                        <InputLabel htmlFor=\"outlined-adornment-email-forgot\">Email Address / Username</InputLabel>\r\n                        <OutlinedInput\r\n                            id=\"outlined-adornment-email-forgot\"\r\n                            type=\"email\"\r\n                            value={values.email}\r\n                            name=\"email\"\r\n                            onBlur={handleBlur}\r\n                            onChange={handleChange}\r\n                            label=\"Email Address / Username\"\r\n                            inputProps={{}}\r\n                        />\r\n                        {touched.email && errors.email && (\r\n                            <FormHelperText error id=\"standard-weight-helper-text-email-forgot\">\r\n                                {errors.email}\r\n                            </FormHelperText>\r\n                        )}\r\n                    </FormControl>\r\n\r\n                    {errors.submit && (\r\n                        <Box sx={{ mt: 3 }}>\r\n                            <FormHelperText error>{errors.submit}</FormHelperText>\r\n                        </Box>\r\n                    )}\r\n\r\n                    <Box sx={{ mt: 2 }}>\r\n                        <AnimateButton>\r\n                            <Button\r\n                                disableElevation\r\n                                disabled={isSubmitting}\r\n                                fullWidth\r\n                                size=\"large\"\r\n                                type=\"submit\"\r\n                                variant=\"contained\"\r\n                                color=\"secondary\"\r\n                            >\r\n                                Send Mail\r\n                            </Button>\r\n                        </AnimateButton>\r\n                    </Box>\r\n                </form>\r\n            )}\r\n        </Formik>\r\n    );\r\n};\r\n\r\nexport default AuthForgotPassword;\r\n"]},"metadata":{},"sourceType":"module"}