{"ast":null,"code":"import{Fragment,useCallback,useEffect,useRef}from'react';// material-ui\nimport{Card,CardContent,Grid,Typography}from'@mui/material';// project imports\nimport{gridSpacing}from'store/constant';// ==============================|| CHAT MESSAGE HISTORY ||============================== //\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChartHistory=function ChartHistory(_ref){var data=_ref.data,theme=_ref.theme,user=_ref.user;// scroll to bottom when new message is sent or received\nvar wrapper=useRef(document.createElement('div'));var el=wrapper.current;var scrollToBottom=useCallback(function(){el.scrollIntoView(false);},[el]);useEffect(function(){scrollToBottom();},[data.length,scrollToBottom]);return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:gridSpacing,ref:wrapper,children:data.map(function(history,index){return/*#__PURE__*/_jsx(Fragment,{children:history.from!==user.name?/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:gridSpacing,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:2}),/*#__PURE__*/_jsx(Grid,{item:true,xs:10,children:/*#__PURE__*/_jsx(Card,{sx:{display:'inline-block',float:'right',bgcolor:theme.palette.mode==='dark'?'grey.600':theme.palette.primary.light},children:/*#__PURE__*/_jsx(CardContent,{sx:{p:2,pb:'16px !important',width:'fit-content',ml:'auto'},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:theme.palette.mode==='dark'?'dark.900':'',children:history.text})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{align:\"right\",variant:\"subtitle2\",color:theme.palette.mode==='dark'?'dark.900':'',children:history.time})})]})})})})]})}):/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:gridSpacing,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:7,children:/*#__PURE__*/_jsx(Card,{sx:{display:'inline-block',float:'left',background:theme.palette.mode==='dark'?theme.palette.dark[900]:theme.palette.secondary.light},children:/*#__PURE__*/_jsx(CardContent,{sx:{p:2,pb:'16px !important'},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:history.text})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{align:\"right\",variant:\"subtitle2\",children:history.time})})]})})})})})})},index);})})});};export default ChartHistory;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/views/application/chat/ChartHistory.js"],"names":["Fragment","useCallback","useEffect","useRef","Card","CardContent","Grid","Typography","gridSpacing","ChartHistory","data","theme","user","wrapper","document","createElement","el","current","scrollToBottom","scrollIntoView","length","map","history","index","from","name","display","float","bgcolor","palette","mode","primary","light","p","pb","width","ml","text","time","background","dark","secondary"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\n\r\nimport { Fragment, useCallback, useEffect, useRef } from 'react';\r\n\r\n// material-ui\r\nimport { Card, CardContent, Grid, Typography } from '@mui/material';\r\n\r\n// project imports\r\nimport { gridSpacing } from 'store/constant';\r\n\r\n// ==============================|| CHAT MESSAGE HISTORY ||============================== //\r\n\r\nconst ChartHistory = ({ data, theme, user }) => {\r\n    // scroll to bottom when new message is sent or received\r\n    const wrapper = useRef(document.createElement('div'));\r\n    const el = wrapper.current;\r\n    const scrollToBottom = useCallback(() => {\r\n        el.scrollIntoView(false);\r\n    }, [el]);\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [data.length, scrollToBottom]);\r\n\r\n    return (\r\n        <Grid item xs={12}>\r\n            <Grid container spacing={gridSpacing} ref={wrapper}>\r\n                {data.map((history, index) => (\r\n                    <Fragment key={index}>\r\n                        {history.from !== user.name ? (\r\n                            <Grid item xs={12}>\r\n                                <Grid container spacing={gridSpacing}>\r\n                                    <Grid item xs={2} />\r\n                                    <Grid item xs={10}>\r\n                                        <Card\r\n                                            sx={{\r\n                                                display: 'inline-block',\r\n                                                float: 'right',\r\n                                                bgcolor: theme.palette.mode === 'dark' ? 'grey.600' : theme.palette.primary.light\r\n                                            }}\r\n                                        >\r\n                                            <CardContent sx={{ p: 2, pb: '16px !important', width: 'fit-content', ml: 'auto' }}>\r\n                                                <Grid container spacing={1}>\r\n                                                    <Grid item xs={12}>\r\n                                                        <Typography variant=\"body2\" color={theme.palette.mode === 'dark' ? 'dark.900' : ''}>\r\n                                                            {history.text}\r\n                                                        </Typography>\r\n                                                    </Grid>\r\n                                                    <Grid item xs={12}>\r\n                                                        <Typography\r\n                                                            align=\"right\"\r\n                                                            variant=\"subtitle2\"\r\n                                                            color={theme.palette.mode === 'dark' ? 'dark.900' : ''}\r\n                                                        >\r\n                                                            {history.time}\r\n                                                        </Typography>\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </CardContent>\r\n                                        </Card>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                        ) : (\r\n                            <Grid item xs={12}>\r\n                                <Grid container spacing={gridSpacing}>\r\n                                    <Grid item xs={12} sm={7}>\r\n                                        <Card\r\n                                            sx={{\r\n                                                display: 'inline-block',\r\n                                                float: 'left',\r\n                                                background:\r\n                                                    theme.palette.mode === 'dark' ? theme.palette.dark[900] : theme.palette.secondary.light\r\n                                            }}\r\n                                        >\r\n                                            <CardContent sx={{ p: 2, pb: '16px !important' }}>\r\n                                                <Grid container spacing={1}>\r\n                                                    <Grid item xs={12}>\r\n                                                        <Typography variant=\"body2\">{history.text}</Typography>\r\n                                                    </Grid>\r\n                                                    <Grid item xs={12}>\r\n                                                        <Typography align=\"right\" variant=\"subtitle2\">\r\n                                                            {history.time}\r\n                                                        </Typography>\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </CardContent>\r\n                                        </Card>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                        )}\r\n                    </Fragment>\r\n                ))}\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nChartHistory.propTypes = {\r\n    theme: PropTypes.object,\r\n    data: PropTypes.array,\r\n    user: PropTypes.object\r\n};\r\n\r\nexport default ChartHistory;\r\n"]},"metadata":{},"sourceType":"module"}