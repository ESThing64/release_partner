{"ast":null,"code":"import _objectSpread from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useRef,useEffect}from'react';// material-ui\nimport{useTheme}from'@mui/material/styles';import{AppBar,Box,ButtonBase,ClickAwayListener,Grid,Paper,Popper,Toolbar,useMediaQuery}from'@mui/material';// project imports\nimport LocalizationSection from'../LocalizationSection';import Transitions from'ui-component/extended/Transitions';// assets\nimport{IconDotsVertical}from'@tabler/icons';// ==============================|| MOBILE HEADER ||============================== //\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MobileSection=function MobileSection(){var theme=useTheme();var matchMobile=useMediaQuery(theme.breakpoints.down('md'));var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];/**\r\n     * anchorRef is used on different componets and specifying one type leads to other components throwing an error\r\n     * */var anchorRef=useRef(null);var handleToggle=function handleToggle(){setOpen(function(prevOpen){return!prevOpen;});};var handleClose=function handleClose(event){if(anchorRef.current&&anchorRef.current.contains(event.target)){return;}setOpen(false);};var prevOpen=useRef(open);useEffect(function(){if(prevOpen.current===true&&open===false){anchorRef.current.focus();}prevOpen.current=open;},[open]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{component:\"span\",ref:anchorRef,sx:{mt:1,ml:1},children:/*#__PURE__*/_jsx(ButtonBase,{centerRipple:true,sx:{color:theme.palette.mode==='dark'?'primary.main':'inherit',ml:0.5,cursor:'pointer'},children:/*#__PURE__*/_jsx(IconDotsVertical,{stroke:1.5,\"aria-controls\":open?'menu-list-grow':undefined,\"aria-haspopup\":\"true\",onClick:handleToggle,style:{fontSize:'1.5rem'}})})}),/*#__PURE__*/_jsx(Popper,{placement:\"bottom-end\",open:open,anchorEl:anchorRef.current,role:undefined,transition:true,disablePortal:true,style:{width:'100%',zIndex:1},popperOptions:{modifiers:[{name:'offset',options:{offset:[0,matchMobile?30:10]}}]},children:function children(_ref){var TransitionProps=_ref.TransitionProps;return/*#__PURE__*/_jsx(Transitions,_objectSpread(_objectSpread({type:\"zoom\",in:open},TransitionProps),{},{sx:{transformOrigin:'top right'},children:/*#__PURE__*/_jsx(Paper,{children:/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleClose,children:/*#__PURE__*/_jsx(AppBar,{color:\"inherit\",sx:_defineProperty({},theme.breakpoints.down('md'),{background:theme.palette.mode==='dark'?theme.palette.dark[800]:'#fff'}),children:/*#__PURE__*/_jsx(Toolbar,{sx:{pt:2.75,pb:2.75},children:/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:matchMobile?'space-between':'flex-end',alignItems:\"center\",children:/*#__PURE__*/_jsx(LocalizationSection,{})})})})})})}));}})]});};export default MobileSection;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/layout/MainLayout/Header/MobileSection/index.js"],"names":["useState","useRef","useEffect","useTheme","AppBar","Box","ButtonBase","ClickAwayListener","Grid","Paper","Popper","Toolbar","useMediaQuery","LocalizationSection","Transitions","IconDotsVertical","MobileSection","theme","matchMobile","breakpoints","down","open","setOpen","anchorRef","handleToggle","prevOpen","handleClose","event","current","contains","target","focus","mt","ml","color","palette","mode","cursor","undefined","fontSize","width","zIndex","modifiers","name","options","offset","TransitionProps","transformOrigin","background","dark","pt","pb"],"mappings":"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","sourcesContent":["import { useState, useRef, useEffect } from 'react';\r\n\r\n// material-ui\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { AppBar, Box, ButtonBase, ClickAwayListener, Grid, Paper, Popper, Toolbar, useMediaQuery } from '@mui/material';\r\n\r\n// project imports\r\nimport LocalizationSection from '../LocalizationSection';\r\nimport Transitions from 'ui-component/extended/Transitions';\r\n\r\n// assets\r\nimport { IconDotsVertical } from '@tabler/icons';\r\n\r\n// ==============================|| MOBILE HEADER ||============================== //\r\n\r\nconst MobileSection = () => {\r\n    const theme = useTheme();\r\n    const matchMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n\r\n    const [open, setOpen] = useState(false);\r\n    /**\r\n     * anchorRef is used on different componets and specifying one type leads to other components throwing an error\r\n     * */\r\n    const anchorRef = useRef(null);\r\n\r\n    const handleToggle = () => {\r\n        setOpen((prevOpen) => !prevOpen);\r\n    };\r\n\r\n    const handleClose = (event) => {\r\n        if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n            return;\r\n        }\r\n\r\n        setOpen(false);\r\n    };\r\n\r\n    const prevOpen = useRef(open);\r\n    useEffect(() => {\r\n        if (prevOpen.current === true && open === false) {\r\n            anchorRef.current.focus();\r\n        }\r\n\r\n        prevOpen.current = open;\r\n    }, [open]);\r\n\r\n    return (\r\n        <>\r\n            <Box component=\"span\" ref={anchorRef} sx={{ mt: 1, ml: 1 }}>\r\n                <ButtonBase\r\n                    centerRipple\r\n                    sx={{ color: theme.palette.mode === 'dark' ? 'primary.main' : 'inherit', ml: 0.5, cursor: 'pointer' }}\r\n                >\r\n                    <IconDotsVertical\r\n                        stroke={1.5}\r\n                        aria-controls={open ? 'menu-list-grow' : undefined}\r\n                        aria-haspopup=\"true\"\r\n                        onClick={handleToggle}\r\n                        style={{ fontSize: '1.5rem' }}\r\n                    />\r\n                </ButtonBase>\r\n            </Box>\r\n            <Popper\r\n                placement=\"bottom-end\"\r\n                open={open}\r\n                anchorEl={anchorRef.current}\r\n                role={undefined}\r\n                transition\r\n                disablePortal\r\n                style={{ width: '100%', zIndex: 1 }}\r\n                popperOptions={{\r\n                    modifiers: [\r\n                        {\r\n                            name: 'offset',\r\n                            options: {\r\n                                offset: [0, matchMobile ? 30 : 10]\r\n                            }\r\n                        }\r\n                    ]\r\n                }}\r\n            >\r\n                {({ TransitionProps }) => (\r\n                    <Transitions type=\"zoom\" in={open} {...TransitionProps} sx={{ transformOrigin: 'top right' }}>\r\n                        <Paper>\r\n                            <ClickAwayListener onClickAway={handleClose}>\r\n                                <AppBar\r\n                                    color=\"inherit\"\r\n                                    sx={{\r\n                                        [theme.breakpoints.down('md')]: {\r\n                                            background: theme.palette.mode === 'dark' ? theme.palette.dark[800] : '#fff'\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    <Toolbar sx={{ pt: 2.75, pb: 2.75 }}>\r\n                                        <Grid container justifyContent={matchMobile ? 'space-between' : 'flex-end'} alignItems=\"center\">\r\n                                            <LocalizationSection />\r\n                                        </Grid>\r\n                                    </Toolbar>\r\n                                </AppBar>\r\n                            </ClickAwayListener>\r\n                        </Paper>\r\n                    </Transitions>\r\n                )}\r\n            </Popper>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default MobileSection;\r\n"]},"metadata":{},"sourceType":"module"}