{"ast":null,"code":"import _objectSpread from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';// material-ui\nimport{useTheme}from'@mui/material/styles';import{Grid,InputAdornment,OutlinedInput,Typography}from'@mui/material';// project imports\nimport FriendsCard from'ui-component/cards/FriendsCard';import MainCard from'ui-component/cards/MainCard';import axios from'utils/axios';import{gridSpacing}from'store/constant';// assets\nimport{IconSearch}from'@tabler/icons';// ==============================|| SOCIAL PROFILE - FRIENDS ||============================== //\nimport{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Friends=function Friends(){var theme=useTheme();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),friends=_useState2[0],setFriends=_useState2[1];var getFriends=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/friends/list');case 2:response=_context.sent;setFriends(response.data.friends);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getFriends(){return _ref.apply(this,arguments);};}();useEffect(function(){getFriends();},[]);var friendsResult=/*#__PURE__*/_jsx(_Fragment,{});if(friends){friendsResult=friends.map(function(friend,index){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,lg:3,xl:2,children:/*#__PURE__*/_jsx(FriendsCard,_objectSpread({},friend))},index);});}var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var handleSearch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var newString;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:newString=event===null||event===void 0?void 0:event.target.value;setSearch(newString);if(!newString){_context2.next=7;break;}_context2.next=5;return axios.post('/api/friends/filter',{key:newString}).then(function(response){setFriends(response.data.results);});case 5:_context2.next=8;break;case 7:getFriends();case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSearch(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(MainCard,{title:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",justifyContent:\"space-between\",spacing:gridSpacing,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Typography,{variant:\"h3\",children:[\"Friends\",' ',/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"span\",sx:{color:theme.palette.grey[300],fontWeight:500},children:\"(463)\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(OutlinedInput,{size:\"small\",id:\"input-search-user-profile\",placeholder:\"Search\",value:search,onChange:handleSearch,startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(IconSearch,{stroke:1.5,size:\"1rem\"})})})})]}),children:/*#__PURE__*/_jsx(Grid,{container:true,direction:\"row\",spacing:gridSpacing,children:friendsResult})});};export default Friends;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/views/application/users/social-profile/Friends.js"],"names":["useState","useEffect","useTheme","Grid","InputAdornment","OutlinedInput","Typography","FriendsCard","MainCard","axios","gridSpacing","IconSearch","Friends","theme","friends","setFriends","getFriends","get","response","data","friendsResult","map","friend","index","search","setSearch","handleSearch","event","newString","target","value","post","key","then","results","color","palette","grey","fontWeight"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\n// material-ui\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { Grid, InputAdornment, OutlinedInput, Typography } from '@mui/material';\r\n\r\n// project imports\r\nimport FriendsCard from 'ui-component/cards/FriendsCard';\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport axios from 'utils/axios';\r\nimport { gridSpacing } from 'store/constant';\r\n\r\n// assets\r\nimport { IconSearch } from '@tabler/icons';\r\n\r\n// ==============================|| SOCIAL PROFILE - FRIENDS ||============================== //\r\n\r\nconst Friends = () => {\r\n    const theme = useTheme();\r\n    const [friends, setFriends] = useState([]);\r\n    const getFriends = async () => {\r\n        const response = await axios.get('/api/friends/list');\r\n        setFriends(response.data.friends);\r\n    };\r\n\r\n    useEffect(() => {\r\n        getFriends();\r\n    }, []);\r\n\r\n    let friendsResult = <></>;\r\n    if (friends) {\r\n        friendsResult = friends.map((friend, index) => (\r\n            <Grid key={index} item xs={12} sm={6} md={4} lg={3} xl={2}>\r\n                <FriendsCard {...friend} />\r\n            </Grid>\r\n        ));\r\n    }\r\n\r\n    const [search, setSearch] = useState('');\r\n    const handleSearch = async (event) => {\r\n        const newString = event?.target.value;\r\n        setSearch(newString);\r\n\r\n        if (newString) {\r\n            await axios\r\n                .post('/api/friends/filter', {\r\n                    key: newString\r\n                })\r\n                .then((response) => {\r\n                    setFriends(response.data.results);\r\n                });\r\n        } else {\r\n            getFriends();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <MainCard\r\n            title={\r\n                <Grid container alignItems=\"center\" justifyContent=\"space-between\" spacing={gridSpacing}>\r\n                    <Grid item>\r\n                        <Typography variant=\"h3\">\r\n                            Friends{' '}\r\n                            <Typography variant=\"h3\" component=\"span\" sx={{ color: theme.palette.grey[300], fontWeight: 500 }}>\r\n                                (463)\r\n                            </Typography>\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <OutlinedInput\r\n                            size=\"small\"\r\n                            id=\"input-search-user-profile\"\r\n                            placeholder=\"Search\"\r\n                            value={search}\r\n                            onChange={handleSearch}\r\n                            startAdornment={\r\n                                <InputAdornment position=\"start\">\r\n                                    <IconSearch stroke={1.5} size=\"1rem\" />\r\n                                </InputAdornment>\r\n                            }\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            }\r\n        >\r\n            <Grid container direction=\"row\" spacing={gridSpacing}>\r\n                {friendsResult}\r\n            </Grid>\r\n        </MainCard>\r\n    );\r\n};\r\n\r\nexport default Friends;\r\n"]},"metadata":{},"sourceType":"module"}