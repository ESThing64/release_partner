{"ast":null,"code":"import _objectSpread from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useSelector}from'react-redux';// material-ui\nimport{useTheme}from'@mui/material/styles';import{Box,Button,Checkbox,Divider,FormControl,FormControlLabel,FormHelperText,Grid,IconButton,InputAdornment,InputLabel,OutlinedInput,TextField,Typography,useMediaQuery}from'@mui/material';// third party\nimport*as Yup from'yup';import{Formik}from'formik';// project imports\nimport useAuth from'hooks/useAuth';import useScriptRef from'hooks/useScriptRef';import Google from\"assets/images/icons/social-google.svg\";import AnimateButton from'ui-component/extended/AnimateButton';import{strengthColor,strengthIndicator}from'utils/password-strength';// assets\nimport Visibility from'@mui/icons-material/Visibility';import VisibilityOff from'@mui/icons-material/VisibilityOff';// ===========================|| FIREBASE - REGISTER ||=========================== //\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FirebaseRegister=function FirebaseRegister(_ref){var others=Object.assign({},_ref);var theme=useTheme();var scriptedRef=useScriptRef();var matchDownSM=useMediaQuery(theme.breakpoints.down('md'));var customization=useSelector(function(state){return state.customization;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPassword=_useState2[0],setShowPassword=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),checked=_useState4[0],setChecked=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),strength=_useState6[0],setStrength=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),level=_useState8[0],setLevel=_useState8[1];var _useAuth=useAuth(),firebaseRegister=_useAuth.firebaseRegister,firebaseGoogleSignIn=_useAuth.firebaseGoogleSignIn;var googleHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return firebaseGoogleSignIn();case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function googleHandler(){return _ref2.apply(this,arguments);};}();var handleClickShowPassword=function handleClickShowPassword(){setShowPassword(!showPassword);};var handleMouseDownPassword=function handleMouseDownPassword(event){event.preventDefault();};var changePassword=function changePassword(value){var temp=strengthIndicator(value);setStrength(temp);setLevel(strengthColor(temp));};useEffect(function(){changePassword('123456');},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",justifyContent:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(AnimateButton,{children:/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",fullWidth:true,onClick:googleHandler,size:\"large\",sx:{color:'grey.700',backgroundColor:theme.palette.mode==='dark'?theme.palette.dark.main:theme.palette.grey[50],borderColor:theme.palette.mode==='dark'?theme.palette.dark.light+20:theme.palette.grey[100]},children:[/*#__PURE__*/_jsx(Box,{sx:{mr:{xs:1,sm:2,width:20}},children:/*#__PURE__*/_jsx(\"img\",{src:Google,alt:\"google\",width:16,height:16,style:{marginRight:matchDownSM?8:16}})}),\"Sign up with Google\"]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Box,{sx:{alignItems:'center',display:'flex'},children:[/*#__PURE__*/_jsx(Divider,{sx:{flexGrow:1},orientation:\"horizontal\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",sx:{cursor:'unset',m:2,py:0.5,px:7,borderColor:theme.palette.mode==='dark'?\"\".concat(theme.palette.dark.light+20,\" !important\"):\"\".concat(theme.palette.grey[100],\" !important\"),color:\"\".concat(theme.palette.grey[900],\"!important\"),fontWeight:500,borderRadius:\"\".concat(customization.borderRadius,\"px\")},disableRipple:true,disabled:true,children:\"OR\"}),/*#__PURE__*/_jsx(Divider,{sx:{flexGrow:1},orientation:\"horizontal\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,container:true,alignItems:\"center\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(Box,{sx:{mb:2},children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Sign up with Email address\"})})})]}),/*#__PURE__*/_jsx(Formik,{initialValues:{email:'',password:'',submit:null},validationSchema:Yup.object().shape({email:Yup.string().email('Must be a valid email').max(255).required('Email is required'),password:Yup.string().max(255).required('Password is required')}),onSubmit:/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(values,_ref3){var setErrors,setStatus,setSubmitting;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setErrors=_ref3.setErrors,setStatus=_ref3.setStatus,setSubmitting=_ref3.setSubmitting;_context2.prev=1;_context2.next=4;return firebaseRegister(values.email,values.password).then(function(){// WARNING: do not set any formik state here as formik might be already destroyed here. You may get following error by doing so.\n// Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application.\n// To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function.\n// github issue: https://github.com/formium/formik/issues/2430\n},function(err){if(scriptedRef.current){setStatus({success:false});setErrors({submit:err.message});setSubmitting(false);}});case 4:_context2.next=10;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](1);console.error(_context2.t0);if(scriptedRef.current){setStatus({success:false});setErrors({submit:_context2.t0.message});setSubmitting(false);}case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[1,6]]);}));return function(_x,_x2){return _ref4.apply(this,arguments);};}(),children:function children(_ref5){var errors=_ref5.errors,handleBlur=_ref5.handleBlur,handleChange=_ref5.handleChange,handleSubmit=_ref5.handleSubmit,isSubmitting=_ref5.isSubmitting,touched=_ref5.touched,values=_ref5.values;return/*#__PURE__*/_jsxs(\"form\",_objectSpread(_objectSpread({noValidate:true,onSubmit:handleSubmit},others),{},{children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:matchDownSM?0:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"First Name\",margin:\"normal\",name:\"fname\",type:\"text\",defaultValue:\"\",sx:_objectSpread({},theme.typography.customInput)})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Last Name\",margin:\"normal\",name:\"lname\",type:\"text\",defaultValue:\"\",sx:_objectSpread({},theme.typography.customInput)})})]}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,error:Boolean(touched.email&&errors.email),sx:_objectSpread({},theme.typography.customInput),children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"outlined-adornment-email-register\",children:\"Email Address / Username\"}),/*#__PURE__*/_jsx(OutlinedInput,{id:\"outlined-adornment-email-register\",type:\"email\",value:values.email,name:\"email\",onBlur:handleBlur,onChange:handleChange,inputProps:{}}),touched.email&&errors.email&&/*#__PURE__*/_jsx(FormHelperText,{error:true,id:\"standard-weight-helper-text--register\",children:errors.email})]}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,error:Boolean(touched.password&&errors.password),sx:_objectSpread({},theme.typography.customInput),children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"outlined-adornment-password-register\",children:\"Password\"}),/*#__PURE__*/_jsx(OutlinedInput,{id:\"outlined-adornment-password-register\",type:showPassword?'text':'password',value:values.password,name:\"password\",label:\"Password\",onBlur:handleBlur,onChange:function onChange(e){handleChange(e);changePassword(e.target.value);},endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"toggle password visibility\",onClick:handleClickShowPassword,onMouseDown:handleMouseDownPassword,edge:\"end\",size:\"large\",children:showPassword?/*#__PURE__*/_jsx(Visibility,{}):/*#__PURE__*/_jsx(VisibilityOff,{})})}),inputProps:{}}),touched.password&&errors.password&&/*#__PURE__*/_jsx(FormHelperText,{error:true,id:\"standard-weight-helper-text-password-register\",children:errors.password})]}),strength!==0&&/*#__PURE__*/_jsx(FormControl,{fullWidth:true,children:/*#__PURE__*/_jsx(Box,{sx:{mb:2},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Box,{style:{backgroundColor:level===null||level===void 0?void 0:level.color},sx:{width:85,height:8,borderRadius:'7px'}})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",fontSize:\"0.75rem\",children:level===null||level===void 0?void 0:level.label})})]})})}),/*#__PURE__*/_jsx(Grid,{container:true,alignItems:\"center\",justifyContent:\"space-between\",children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:checked,onChange:function onChange(event){return setChecked(event.target.checked);},name:\"checked\",color:\"primary\"}),label:/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Agree with \\xA0\",/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",component:Link,to:\"#\",children:\"Terms & Condition.\"})]})})})}),errors.submit&&/*#__PURE__*/_jsx(Box,{sx:{mt:3},children:/*#__PURE__*/_jsx(FormHelperText,{error:true,children:errors.submit})}),/*#__PURE__*/_jsx(Box,{sx:{mt:2},children:/*#__PURE__*/_jsx(AnimateButton,{children:/*#__PURE__*/_jsx(Button,{disableElevation:true,disabled:isSubmitting,fullWidth:true,size:\"large\",type:\"submit\",variant:\"contained\",color:\"secondary\",children:\"Sign up\"})})})]}));}})]});};export default FirebaseRegister;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/views/pages/authentication/auth-forms/AuthRegister.js"],"names":["useState","useEffect","Link","useSelector","useTheme","Box","Button","Checkbox","Divider","FormControl","FormControlLabel","FormHelperText","Grid","IconButton","InputAdornment","InputLabel","OutlinedInput","TextField","Typography","useMediaQuery","Yup","Formik","useAuth","useScriptRef","AnimateButton","strengthColor","strengthIndicator","Visibility","VisibilityOff","FirebaseRegister","others","theme","scriptedRef","matchDownSM","breakpoints","down","customization","state","showPassword","setShowPassword","checked","setChecked","strength","setStrength","level","setLevel","firebaseRegister","firebaseGoogleSignIn","googleHandler","console","error","handleClickShowPassword","handleMouseDownPassword","event","preventDefault","changePassword","value","temp","color","backgroundColor","palette","mode","dark","main","grey","borderColor","light","mr","xs","sm","width","Google","marginRight","alignItems","display","flexGrow","cursor","m","py","px","fontWeight","borderRadius","mb","email","password","submit","object","shape","string","max","required","values","setErrors","setStatus","setSubmitting","then","err","current","success","message","errors","handleBlur","handleChange","handleSubmit","isSubmitting","touched","typography","customInput","Boolean","e","target","height","label","mt"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\n// material-ui\r\nimport { useTheme } from '@mui/material/styles';\r\nimport {\r\n    Box,\r\n    Button,\r\n    Checkbox,\r\n    Divider,\r\n    FormControl,\r\n    FormControlLabel,\r\n    FormHelperText,\r\n    Grid,\r\n    IconButton,\r\n    InputAdornment,\r\n    InputLabel,\r\n    OutlinedInput,\r\n    TextField,\r\n    Typography,\r\n    useMediaQuery\r\n} from '@mui/material';\r\n\r\n// third party\r\nimport * as Yup from 'yup';\r\nimport { Formik } from 'formik';\r\n\r\n// project imports\r\nimport useAuth from 'hooks/useAuth';\r\nimport useScriptRef from 'hooks/useScriptRef';\r\nimport Google from 'assets/images/icons/social-google.svg';\r\nimport AnimateButton from 'ui-component/extended/AnimateButton';\r\nimport { strengthColor, strengthIndicator } from 'utils/password-strength';\r\n\r\n// assets\r\nimport Visibility from '@mui/icons-material/Visibility';\r\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\r\n\r\n// ===========================|| FIREBASE - REGISTER ||=========================== //\r\n\r\nconst FirebaseRegister = ({ ...others }) => {\r\n    const theme = useTheme();\r\n    const scriptedRef = useScriptRef();\r\n    const matchDownSM = useMediaQuery(theme.breakpoints.down('md'));\r\n    const customization = useSelector((state) => state.customization);\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [checked, setChecked] = useState(true);\r\n\r\n    const [strength, setStrength] = useState(0);\r\n    const [level, setLevel] = useState();\r\n    const { firebaseRegister, firebaseGoogleSignIn } = useAuth();\r\n\r\n    const googleHandler = async () => {\r\n        try {\r\n            await firebaseGoogleSignIn();\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const handleClickShowPassword = () => {\r\n        setShowPassword(!showPassword);\r\n    };\r\n\r\n    const handleMouseDownPassword = (event) => {\r\n        event.preventDefault();\r\n    };\r\n\r\n    const changePassword = (value) => {\r\n        const temp = strengthIndicator(value);\r\n        setStrength(temp);\r\n        setLevel(strengthColor(temp));\r\n    };\r\n\r\n    useEffect(() => {\r\n        changePassword('123456');\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Grid container direction=\"column\" justifyContent=\"center\" spacing={2}>\r\n                <Grid item xs={12}>\r\n                    <AnimateButton>\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            onClick={googleHandler}\r\n                            size=\"large\"\r\n                            sx={{\r\n                                color: 'grey.700',\r\n                                backgroundColor: theme.palette.mode === 'dark' ? theme.palette.dark.main : theme.palette.grey[50],\r\n                                borderColor: theme.palette.mode === 'dark' ? theme.palette.dark.light + 20 : theme.palette.grey[100]\r\n                            }}\r\n                        >\r\n                            <Box sx={{ mr: { xs: 1, sm: 2, width: 20 } }}>\r\n                                <img src={Google} alt=\"google\" width={16} height={16} style={{ marginRight: matchDownSM ? 8 : 16 }} />\r\n                            </Box>\r\n                            Sign up with Google\r\n                        </Button>\r\n                    </AnimateButton>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Box sx={{ alignItems: 'center', display: 'flex' }}>\r\n                        <Divider sx={{ flexGrow: 1 }} orientation=\"horizontal\" />\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            sx={{\r\n                                cursor: 'unset',\r\n                                m: 2,\r\n                                py: 0.5,\r\n                                px: 7,\r\n                                borderColor:\r\n                                    theme.palette.mode === 'dark'\r\n                                        ? `${theme.palette.dark.light + 20} !important`\r\n                                        : `${theme.palette.grey[100]} !important`,\r\n                                color: `${theme.palette.grey[900]}!important`,\r\n                                fontWeight: 500,\r\n                                borderRadius: `${customization.borderRadius}px`\r\n                            }}\r\n                            disableRipple\r\n                            disabled\r\n                        >\r\n                            OR\r\n                        </Button>\r\n                        <Divider sx={{ flexGrow: 1 }} orientation=\"horizontal\" />\r\n                    </Box>\r\n                </Grid>\r\n                <Grid item xs={12} container alignItems=\"center\" justifyContent=\"center\">\r\n                    <Box sx={{ mb: 2 }}>\r\n                        <Typography variant=\"subtitle1\">Sign up with Email address</Typography>\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            <Formik\r\n                initialValues={{\r\n                    email: '',\r\n                    password: '',\r\n                    submit: null\r\n                }}\r\n                validationSchema={Yup.object().shape({\r\n                    email: Yup.string().email('Must be a valid email').max(255).required('Email is required'),\r\n                    password: Yup.string().max(255).required('Password is required')\r\n                })}\r\n                onSubmit={async (values, { setErrors, setStatus, setSubmitting }) => {\r\n                    try {\r\n                        await firebaseRegister(values.email, values.password).then(\r\n                            () => {\r\n                                // WARNING: do not set any formik state here as formik might be already destroyed here. You may get following error by doing so.\r\n                                // Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application.\r\n                                // To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function.\r\n                                // github issue: https://github.com/formium/formik/issues/2430\r\n                            },\r\n                            (err) => {\r\n                                if (scriptedRef.current) {\r\n                                    setStatus({ success: false });\r\n                                    setErrors({ submit: err.message });\r\n                                    setSubmitting(false);\r\n                                }\r\n                            }\r\n                        );\r\n                    } catch (err) {\r\n                        console.error(err);\r\n                        if (scriptedRef.current) {\r\n                            setStatus({ success: false });\r\n                            setErrors({ submit: err.message });\r\n                            setSubmitting(false);\r\n                        }\r\n                    }\r\n                }}\r\n            >\r\n                {({ errors, handleBlur, handleChange, handleSubmit, isSubmitting, touched, values }) => (\r\n                    <form noValidate onSubmit={handleSubmit} {...others}>\r\n                        <Grid container spacing={matchDownSM ? 0 : 2}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"First Name\"\r\n                                    margin=\"normal\"\r\n                                    name=\"fname\"\r\n                                    type=\"text\"\r\n                                    defaultValue=\"\"\r\n                                    sx={{ ...theme.typography.customInput }}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Last Name\"\r\n                                    margin=\"normal\"\r\n                                    name=\"lname\"\r\n                                    type=\"text\"\r\n                                    defaultValue=\"\"\r\n                                    sx={{ ...theme.typography.customInput }}\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                        <FormControl fullWidth error={Boolean(touched.email && errors.email)} sx={{ ...theme.typography.customInput }}>\r\n                            <InputLabel htmlFor=\"outlined-adornment-email-register\">Email Address / Username</InputLabel>\r\n                            <OutlinedInput\r\n                                id=\"outlined-adornment-email-register\"\r\n                                type=\"email\"\r\n                                value={values.email}\r\n                                name=\"email\"\r\n                                onBlur={handleBlur}\r\n                                onChange={handleChange}\r\n                                inputProps={{}}\r\n                            />\r\n                            {touched.email && errors.email && (\r\n                                <FormHelperText error id=\"standard-weight-helper-text--register\">\r\n                                    {errors.email}\r\n                                </FormHelperText>\r\n                            )}\r\n                        </FormControl>\r\n\r\n                        <FormControl\r\n                            fullWidth\r\n                            error={Boolean(touched.password && errors.password)}\r\n                            sx={{ ...theme.typography.customInput }}\r\n                        >\r\n                            <InputLabel htmlFor=\"outlined-adornment-password-register\">Password</InputLabel>\r\n                            <OutlinedInput\r\n                                id=\"outlined-adornment-password-register\"\r\n                                type={showPassword ? 'text' : 'password'}\r\n                                value={values.password}\r\n                                name=\"password\"\r\n                                label=\"Password\"\r\n                                onBlur={handleBlur}\r\n                                onChange={(e) => {\r\n                                    handleChange(e);\r\n                                    changePassword(e.target.value);\r\n                                }}\r\n                                endAdornment={\r\n                                    <InputAdornment position=\"end\">\r\n                                        <IconButton\r\n                                            aria-label=\"toggle password visibility\"\r\n                                            onClick={handleClickShowPassword}\r\n                                            onMouseDown={handleMouseDownPassword}\r\n                                            edge=\"end\"\r\n                                            size=\"large\"\r\n                                        >\r\n                                            {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                                        </IconButton>\r\n                                    </InputAdornment>\r\n                                }\r\n                                inputProps={{}}\r\n                            />\r\n                            {touched.password && errors.password && (\r\n                                <FormHelperText error id=\"standard-weight-helper-text-password-register\">\r\n                                    {errors.password}\r\n                                </FormHelperText>\r\n                            )}\r\n                        </FormControl>\r\n\r\n                        {strength !== 0 && (\r\n                            <FormControl fullWidth>\r\n                                <Box sx={{ mb: 2 }}>\r\n                                    <Grid container spacing={2} alignItems=\"center\">\r\n                                        <Grid item>\r\n                                            <Box\r\n                                                style={{ backgroundColor: level?.color }}\r\n                                                sx={{ width: 85, height: 8, borderRadius: '7px' }}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item>\r\n                                            <Typography variant=\"subtitle1\" fontSize=\"0.75rem\">\r\n                                                {level?.label}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Box>\r\n                            </FormControl>\r\n                        )}\r\n\r\n                        <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n                            <Grid item>\r\n                                <FormControlLabel\r\n                                    control={\r\n                                        <Checkbox\r\n                                            checked={checked}\r\n                                            onChange={(event) => setChecked(event.target.checked)}\r\n                                            name=\"checked\"\r\n                                            color=\"primary\"\r\n                                        />\r\n                                    }\r\n                                    label={\r\n                                        <Typography variant=\"subtitle1\">\r\n                                            Agree with &nbsp;\r\n                                            <Typography variant=\"subtitle1\" component={Link} to=\"#\">\r\n                                                Terms & Condition.\r\n                                            </Typography>\r\n                                        </Typography>\r\n                                    }\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                        {errors.submit && (\r\n                            <Box sx={{ mt: 3 }}>\r\n                                <FormHelperText error>{errors.submit}</FormHelperText>\r\n                            </Box>\r\n                        )}\r\n\r\n                        <Box sx={{ mt: 2 }}>\r\n                            <AnimateButton>\r\n                                <Button\r\n                                    disableElevation\r\n                                    disabled={isSubmitting}\r\n                                    fullWidth\r\n                                    size=\"large\"\r\n                                    type=\"submit\"\r\n                                    variant=\"contained\"\r\n                                    color=\"secondary\"\r\n                                >\r\n                                    Sign up\r\n                                </Button>\r\n                            </AnimateButton>\r\n                        </Box>\r\n                    </form>\r\n                )}\r\n            </Formik>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default FirebaseRegister;\r\n"]},"metadata":{},"sourceType":"module"}