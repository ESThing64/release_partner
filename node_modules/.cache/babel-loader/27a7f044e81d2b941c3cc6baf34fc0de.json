{"ast":null,"code":"import _slicedToArray from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{useDispatch}from'react-redux';// material-ui\nimport{Box,Button,FormControl,FormControlLabel,Grid,RadioGroup,Radio,Stack,Table,TableBody,TableCell,TableContainer,TableRow,Typography}from'@mui/material';// third-party\nimport CurrencyFormat from'react-currency-format';// project imports\nimport OrderSummary from'./OrderSummary';import AddressCard from'./AddressCard';import PaymentSelect from'./PaymentSelect';import ColorOptions from'../ColorOptions';import PaymentOptions from'./PaymentOptions';import PaymentCard from'./PaymentCard';import AddPaymentCard from'./AddPaymentCard';import OrderComplete from'./OrderComplete';import SubCard from'ui-component/cards/SubCard';import Avatar from'ui-component/extended/Avatar';import{SNACKBAR_OPEN,SET_PAYMENT_METHOD,SET_PAYMENT_CARD}from'store/actions';import{gridSpacing}from'store/constant';// assets\nimport AddTwoToneIcon from'@mui/icons-material/AddTwoTone';import KeyboardBackspaceIcon from'@mui/icons-material/KeyboardBackspace';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var prodImage=require.context('assets/images/e-commerce',true);// product color select\nfunction getColor(color){return ColorOptions.filter(function(item){return item.value===color;});}// ==============================|| CHECKOUT PAYMENT - MAIN ||============================== //\nvar Payment=function Payment(_ref){var checkout=_ref.checkout,onBack=_ref.onBack,onNext=_ref.onNext,handleShippingCharge=_ref.handleShippingCharge;var dispatch=useDispatch();var _useState=useState(checkout.payment.type),_useState2=_slicedToArray(_useState,2),type=_useState2[0],setType=_useState2[1];var _useState3=useState(checkout.payment.method),_useState4=_slicedToArray(_useState3,2),payment=_useState4[0],setPayment=_useState4[1];var _useState5=useState(checkout.products),_useState6=_slicedToArray(_useState5,2),rows=_useState6[0],setRows=_useState6[1];var _useState7=useState(checkout.payment.card),_useState8=_slicedToArray(_useState7,2),cards=_useState8[0],setCards=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),open=_useState10[0],setOpen=_useState10[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),complete=_useState12[0],setComplete=_useState12[1];useEffect(function(){if(checkout.step>2){setComplete(true);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(function(){setRows(checkout.products);},[checkout.products]);var cardHandler=function cardHandler(card){if(payment==='card'){setCards(card);dispatch({type:SET_PAYMENT_CARD,card:card});}};var handlePaymentMethod=function handlePaymentMethod(value){setPayment(value);dispatch({type:SET_PAYMENT_METHOD,method:value});};var completeHandler=function completeHandler(){if(payment==='card'&&(cards===''||cards===null)){dispatch({type:SNACKBAR_OPEN,open:true,message:'Select Payment Card',variant:'alert',alertSeverity:'error'});}else{onNext();setComplete(true);}};return/*#__PURE__*/_jsxs(Grid,{container:true,spacing:gridSpacing,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,lg:8,xl:9,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:gridSpacing,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Stack,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Delivery Options\"}),/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsx(RadioGroup,{row:true,\"aria-label\":\"delivery-options\",value:type,onChange:function onChange(e){setType(e.target.value);handleShippingCharge(e.target.value);},name:\"delivery-options\",children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:gridSpacing,alignItems:\"center\",sx:{pt:2},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:12,lg:6,children:/*#__PURE__*/_jsx(SubCard,{content:false,children:/*#__PURE__*/_jsx(Box,{sx:{p:2},children:/*#__PURE__*/_jsx(FormControlLabel,{value:\"free\",control:/*#__PURE__*/_jsx(Radio,{}),label:/*#__PURE__*/_jsxs(Stack,{spacing:0.25,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Standard Delivery (Free)\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:\"Delivered on Monday 8 Jun\"})]}),sx:{'& .MuiSvgIcon-root':{fontSize:32}}})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:12,lg:6,children:/*#__PURE__*/_jsx(SubCard,{content:false,children:/*#__PURE__*/_jsx(Box,{sx:{p:2},children:/*#__PURE__*/_jsx(FormControlLabel,{value:\"fast\",control:/*#__PURE__*/_jsx(Radio,{}),label:/*#__PURE__*/_jsxs(Stack,{spacing:0.25,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Fast Delivery ($5.00)\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:\"Delivered on Friday 5 Jun\"})]}),sx:{'& .MuiSvgIcon-root':{fontSize:32}}})})})})]})})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Payment Options\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,lg:6,children:/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsx(RadioGroup,{\"aria-label\":\"delivery-options\",value:payment,onChange:function onChange(e){return handlePaymentMethod(e.target.value);},name:\"delivery-options\",children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:gridSpacing,alignItems:\"center\",children:PaymentOptions.map(function(item,index){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(PaymentSelect,{item:item})},index);})})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,lg:6,sx:{opacity:payment==='card'?1:0.4},children:/*#__PURE__*/_jsxs(SubCard,{title:\"Add Your Card\",secondary:/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",startIcon:/*#__PURE__*/_jsx(AddTwoToneIcon,{}),onClick:handleClickOpen,children:\"Add Card\"}),children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:gridSpacing,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,xl:6,children:/*#__PURE__*/_jsx(PaymentCard,{type:\"mastercard\",cards:cards,cardHandler:cardHandler})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,xl:6,children:/*#__PURE__*/_jsx(PaymentCard,{type:\"visa\",cards:cards,cardHandler:cardHandler})})]}),/*#__PURE__*/_jsx(AddPaymentCard,{open:open,handleClose:handleClose})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,alignItems:\"center\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"text\",startIcon:/*#__PURE__*/_jsx(KeyboardBackspaceIcon,{}),onClick:onBack,children:\"Back\"})}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:completeHandler,children:\"Complete Order\"}),/*#__PURE__*/_jsx(OrderComplete,{open:complete})]})]})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,lg:4,xl:3,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:gridSpacing,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Stack,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{pb:2},children:\"Cart Items\"}),/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsx(Table,{sx:{minWidth:280},\"aria-label\":\"simple table\",children:/*#__PURE__*/_jsx(TableBody,{children:rows.map(function(row,index){var colorsData=row.color?getColor(row.color):false;return/*#__PURE__*/_jsxs(TableRow,{sx:{'&:last-child td, &:last-child th':{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Avatar,{size:\"md\",variant:\"rounded\",src:row.image?prodImage(\"./\".concat(row.image)).default:''})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Stack,{spacing:0,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:row.name}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle2\",sx:{fontWeight:500},children:[\"Size:\",' ',/*#__PURE__*/_jsx(Typography,{variant:\"caption\",component:\"span\",children:row.size})]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{fontSize:'1rem'},children:\"|\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle2\",sx:{fontWeight:500},children:[\"Color:\",' ',/*#__PURE__*/_jsx(Typography,{variant:\"caption\",component:\"span\",children:colorsData?colorsData[0].label:'Multicolor'})]})]})]})})]})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:/*#__PURE__*/_jsx(CurrencyFormat,{decimalScale:2,fixedDecimalScale:true,value:row.offerPrice*row.quantity,displayType:\"text\",thousandSeparator:true,prefix:\"$\"})})})]},index);})})})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(OrderSummary,{checkout:checkout})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(AddressCard,{single:true,change:true,address:checkout.billing,onBack:onBack})})]})})]});};export default Payment;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/views/application/e-commerce/Checkout/Payment.js"],"names":["useState","useEffect","useDispatch","Box","Button","FormControl","FormControlLabel","Grid","RadioGroup","Radio","Stack","Table","TableBody","TableCell","TableContainer","TableRow","Typography","CurrencyFormat","OrderSummary","AddressCard","PaymentSelect","ColorOptions","PaymentOptions","PaymentCard","AddPaymentCard","OrderComplete","SubCard","Avatar","SNACKBAR_OPEN","SET_PAYMENT_METHOD","SET_PAYMENT_CARD","gridSpacing","AddTwoToneIcon","KeyboardBackspaceIcon","prodImage","require","context","getColor","color","filter","item","value","Payment","checkout","onBack","onNext","handleShippingCharge","dispatch","payment","type","setType","method","setPayment","products","rows","setRows","card","cards","setCards","open","setOpen","handleClickOpen","handleClose","complete","setComplete","step","cardHandler","handlePaymentMethod","completeHandler","message","variant","alertSeverity","e","target","pt","p","fontSize","map","index","opacity","pb","minWidth","row","colorsData","border","image","default","name","fontWeight","size","label","offerPrice","quantity","billing"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\n// material-ui\r\nimport {\r\n    Box,\r\n    Button,\r\n    FormControl,\r\n    FormControlLabel,\r\n    Grid,\r\n    RadioGroup,\r\n    Radio,\r\n    Stack,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableRow,\r\n    Typography\r\n} from '@mui/material';\r\n\r\n// third-party\r\nimport CurrencyFormat from 'react-currency-format';\r\n\r\n// project imports\r\nimport OrderSummary from './OrderSummary';\r\nimport AddressCard from './AddressCard';\r\nimport PaymentSelect from './PaymentSelect';\r\nimport ColorOptions from '../ColorOptions';\r\nimport PaymentOptions from './PaymentOptions';\r\nimport PaymentCard from './PaymentCard';\r\nimport AddPaymentCard from './AddPaymentCard';\r\nimport OrderComplete from './OrderComplete';\r\nimport SubCard from 'ui-component/cards/SubCard';\r\nimport Avatar from 'ui-component/extended/Avatar';\r\nimport { SNACKBAR_OPEN, SET_PAYMENT_METHOD, SET_PAYMENT_CARD } from 'store/actions';\r\nimport { gridSpacing } from 'store/constant';\r\n\r\n// assets\r\nimport AddTwoToneIcon from '@mui/icons-material/AddTwoTone';\r\nimport KeyboardBackspaceIcon from '@mui/icons-material/KeyboardBackspace';\r\n\r\nconst prodImage = require.context('assets/images/e-commerce', true);\r\n\r\n// product color select\r\nfunction getColor(color) {\r\n    return ColorOptions.filter((item) => item.value === color);\r\n}\r\n\r\n// ==============================|| CHECKOUT PAYMENT - MAIN ||============================== //\r\n\r\nconst Payment = ({ checkout, onBack, onNext, handleShippingCharge }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [type, setType] = useState(checkout.payment.type);\r\n    const [payment, setPayment] = useState(checkout.payment.method);\r\n    const [rows, setRows] = useState(checkout.products);\r\n    const [cards, setCards] = useState(checkout.payment.card);\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const [complete, setComplete] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (checkout.step > 2) {\r\n            setComplete(true);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setRows(checkout.products);\r\n    }, [checkout.products]);\r\n\r\n    const cardHandler = (card) => {\r\n        if (payment === 'card') {\r\n            setCards(card);\r\n            dispatch({ type: SET_PAYMENT_CARD, card });\r\n        }\r\n    };\r\n\r\n    const handlePaymentMethod = (value) => {\r\n        setPayment(value);\r\n        dispatch({ type: SET_PAYMENT_METHOD, method: value });\r\n    };\r\n\r\n    const completeHandler = () => {\r\n        if (payment === 'card' && (cards === '' || cards === null)) {\r\n            dispatch({\r\n                type: SNACKBAR_OPEN,\r\n                open: true,\r\n                message: 'Select Payment Card',\r\n                variant: 'alert',\r\n                alertSeverity: 'error'\r\n            });\r\n        } else {\r\n            onNext();\r\n            setComplete(true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Grid container spacing={gridSpacing}>\r\n            <Grid item xs={12} md={6} lg={8} xl={9}>\r\n                <Grid container spacing={gridSpacing}>\r\n                    <Grid item xs={12}>\r\n                        <Stack>\r\n                            <Typography variant=\"subtitle1\">Delivery Options</Typography>\r\n                            <FormControl>\r\n                                <RadioGroup\r\n                                    row\r\n                                    aria-label=\"delivery-options\"\r\n                                    value={type}\r\n                                    onChange={(e) => {\r\n                                        setType(e.target.value);\r\n                                        handleShippingCharge(e.target.value);\r\n                                    }}\r\n                                    name=\"delivery-options\"\r\n                                >\r\n                                    <Grid container spacing={gridSpacing} alignItems=\"center\" sx={{ pt: 2 }}>\r\n                                        <Grid item xs={12} sm={6} md={12} lg={6}>\r\n                                            <SubCard content={false}>\r\n                                                <Box sx={{ p: 2 }}>\r\n                                                    <FormControlLabel\r\n                                                        value=\"free\"\r\n                                                        control={<Radio />}\r\n                                                        label={\r\n                                                            <Stack spacing={0.25}>\r\n                                                                <Typography variant=\"subtitle1\">Standard Delivery (Free)</Typography>\r\n                                                                <Typography variant=\"caption\">Delivered on Monday 8 Jun</Typography>\r\n                                                            </Stack>\r\n                                                        }\r\n                                                        sx={{ '& .MuiSvgIcon-root': { fontSize: 32 } }}\r\n                                                    />\r\n                                                </Box>\r\n                                            </SubCard>\r\n                                        </Grid>\r\n                                        <Grid item xs={12} sm={6} md={12} lg={6}>\r\n                                            <SubCard content={false}>\r\n                                                <Box sx={{ p: 2 }}>\r\n                                                    <FormControlLabel\r\n                                                        value=\"fast\"\r\n                                                        control={<Radio />}\r\n                                                        label={\r\n                                                            <Stack spacing={0.25}>\r\n                                                                <Typography variant=\"subtitle1\">Fast Delivery ($5.00)</Typography>\r\n                                                                <Typography variant=\"caption\">Delivered on Friday 5 Jun</Typography>\r\n                                                            </Stack>\r\n                                                        }\r\n                                                        sx={{ '& .MuiSvgIcon-root': { fontSize: 32 } }}\r\n                                                    />\r\n                                                </Box>\r\n                                            </SubCard>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </RadioGroup>\r\n                            </FormControl>\r\n                        </Stack>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"subtitle1\">Payment Options</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12} lg={6}>\r\n                        <FormControl>\r\n                            <RadioGroup\r\n                                aria-label=\"delivery-options\"\r\n                                value={payment}\r\n                                onChange={(e) => handlePaymentMethod(e.target.value)}\r\n                                name=\"delivery-options\"\r\n                            >\r\n                                <Grid container spacing={gridSpacing} alignItems=\"center\">\r\n                                    {PaymentOptions.map((item, index) => (\r\n                                        <Grid item xs={12} key={index}>\r\n                                            <PaymentSelect item={item} />\r\n                                        </Grid>\r\n                                    ))}\r\n                                </Grid>\r\n                            </RadioGroup>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12} lg={6} sx={{ opacity: payment === 'card' ? 1 : 0.4 }}>\r\n                        <SubCard\r\n                            title=\"Add Your Card\"\r\n                            secondary={\r\n                                <Button variant=\"contained\" size=\"small\" startIcon={<AddTwoToneIcon />} onClick={handleClickOpen}>\r\n                                    Add Card\r\n                                </Button>\r\n                            }\r\n                        >\r\n                            <Grid container spacing={gridSpacing}>\r\n                                <Grid item xs={12} xl={6}>\r\n                                    <PaymentCard type=\"mastercard\" cards={cards} cardHandler={cardHandler} />\r\n                                </Grid>\r\n                                <Grid item xs={12} xl={6}>\r\n                                    <PaymentCard type=\"visa\" cards={cards} cardHandler={cardHandler} />\r\n                                </Grid>\r\n                            </Grid>\r\n                            <AddPaymentCard open={open} handleClose={handleClose} />\r\n                        </SubCard>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Grid container spacing={3} alignItems=\"center\" justifyContent=\"space-between\">\r\n                            <Grid item>\r\n                                <Button variant=\"text\" startIcon={<KeyboardBackspaceIcon />} onClick={onBack}>\r\n                                    Back\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Button variant=\"contained\" onClick={completeHandler}>\r\n                                    Complete Order\r\n                                </Button>\r\n                                <OrderComplete open={complete} />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item xs={12} md={6} lg={4} xl={3}>\r\n                <Grid container spacing={gridSpacing}>\r\n                    <Grid item xs={12}>\r\n                        <Stack>\r\n                            <Typography variant=\"subtitle1\" sx={{ pb: 2 }}>\r\n                                Cart Items\r\n                            </Typography>\r\n                            <TableContainer>\r\n                                <Table sx={{ minWidth: 280 }} aria-label=\"simple table\">\r\n                                    <TableBody>\r\n                                        {rows.map((row, index) => {\r\n                                            const colorsData = row.color ? getColor(row.color) : false;\r\n                                            return (\r\n                                                <TableRow key={index} sx={{ '&:last-child td, &:last-child th': { border: 0 } }}>\r\n                                                    <TableCell component=\"th\" scope=\"row\">\r\n                                                        <Grid container alignItems=\"center\" spacing={2}>\r\n                                                            <Grid item>\r\n                                                                <Avatar\r\n                                                                    size=\"md\"\r\n                                                                    variant=\"rounded\"\r\n                                                                    src={row.image ? prodImage(`./${row.image}`).default : ''}\r\n                                                                />\r\n                                                            </Grid>\r\n                                                            <Grid item>\r\n                                                                <Stack spacing={0}>\r\n                                                                    <Typography variant=\"subtitle1\">{row.name}</Typography>\r\n                                                                    <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                                                                        <Typography variant=\"subtitle2\" sx={{ fontWeight: 500 }}>\r\n                                                                            Size:{' '}\r\n                                                                            <Typography variant=\"caption\" component=\"span\">\r\n                                                                                {row.size}\r\n                                                                            </Typography>\r\n                                                                        </Typography>\r\n                                                                        <Typography variant=\"caption\" sx={{ fontSize: '1rem' }}>\r\n                                                                            |\r\n                                                                        </Typography>\r\n                                                                        <Typography variant=\"subtitle2\" sx={{ fontWeight: 500 }}>\r\n                                                                            Color:{' '}\r\n                                                                            <Typography variant=\"caption\" component=\"span\">\r\n                                                                                {colorsData ? colorsData[0].label : 'Multicolor'}\r\n                                                                            </Typography>\r\n                                                                        </Typography>\r\n                                                                    </Stack>\r\n                                                                </Stack>\r\n                                                            </Grid>\r\n                                                        </Grid>\r\n                                                    </TableCell>\r\n                                                    <TableCell align=\"right\">\r\n                                                        <Typography variant=\"subtitle1\">\r\n                                                            <CurrencyFormat\r\n                                                                decimalScale={2}\r\n                                                                fixedDecimalScale\r\n                                                                value={row.offerPrice * row.quantity}\r\n                                                                displayType=\"text\"\r\n                                                                thousandSeparator\r\n                                                                prefix=\"$\"\r\n                                                            />\r\n                                                        </Typography>\r\n                                                    </TableCell>\r\n                                                </TableRow>\r\n                                            );\r\n                                        })}\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        </Stack>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <OrderSummary checkout={checkout} />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <AddressCard single change address={checkout.billing} onBack={onBack} />\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nPayment.propTypes = {\r\n    checkout: PropTypes.object,\r\n    handleShippingCharge: PropTypes.func,\r\n    onBack: PropTypes.func,\r\n    onNext: PropTypes.func\r\n};\r\n\r\nexport default Payment;\r\n"]},"metadata":{},"sourceType":"module"}