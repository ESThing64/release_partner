{"ast":null,"code":"import _toConsumableArray from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';// material-ui\nimport{styled,useTheme}from'@mui/material/styles';import{Box,Button,ButtonBase,Divider,Drawer,Grid,IconButton,InputAdornment,Menu,MenuItem,Stack,TextField,Typography,useMediaQuery}from'@mui/material';// third party\nimport PerfectScrollbar from'react-perfect-scrollbar';// project imports\nimport SortOptions from'./SortOptions';import ProductEmpty from'./ProductEmpty';import ProductFilter from'./ProductFilter';import ProductFilterView from'./ProductFilterView';import ProductCard from'ui-component/cards/ProductCard';import FloatingCart from'ui-component/cards/FloatingCart';import SkeletonProductPlaceholder from'ui-component/cards/Skeleton/ProductPlaceholder';import axios from'utils/axios';import{SET_MENU,RESET_CART}from'store/actions';import{appDrawerWidth,gridSpacing}from'store/constant';// assets\nimport ArrowForwardIosIcon from'@mui/icons-material/ArrowForwardIos';import FilterAltIcon from'@mui/icons-material/FilterAlt';import KeyboardArrowDownIcon from'@mui/icons-material/KeyboardArrowDown';import SearchIcon from'@mui/icons-material/Search';// product list container\nimport{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=styled('main',{shouldForwardProp:function shouldForwardProp(prop){return prop!=='open';}})(function(_ref){var theme=_ref.theme,open=_ref.open;return _objectSpread(_defineProperty({flexGrow:1,transition:theme.transitions.create('margin',{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),marginRight:-appDrawerWidth},theme.breakpoints.down('xl'),{paddingRight:0,marginRight:0}),open&&{transition:theme.transitions.create('margin',{easing:theme.transitions.easing.easeOut,duration:theme.transitions.duration.enteringScreen}),marginRight:0});});// ==============================|| E-COMMERCE - PRODUCT GRID ||============================== //\nvar Products=function Products(){var theme=useTheme();var dispatch=useDispatch();var customization=useSelector(function(state){return state.customization;});var cart=useSelector(function(state){return state.cart;});var matchDownSM=useMediaQuery(theme.breakpoints.down('md'));var matchDownMD=useMediaQuery(theme.breakpoints.down('lg'));var matchDownLG=useMediaQuery(theme.breakpoints.down('xl'));var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];useEffect(function(){setLoading(false);},[]);// drawer\nvar _useState3=useState(isLoading),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var handleDrawerOpen=function handleDrawerOpen(){setOpen(function(prevState){return!prevState;});};// product data\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),products=_useState6[0],setProducts=_useState6[1];var getProducts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/products/list');case 2:response=_context.sent;setProducts(response.data.products);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getProducts(){return _ref2.apply(this,arguments);};}();useEffect(function(){getProducts();// hide left drawer when email app opens\ndispatch({type:SET_MENU,opened:false});// clear cart if complete order\nif(cart.checkout.step>2){dispatch({type:RESET_CART});}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);// filter\nvar initialState={search:'',sort:'low',gender:[],categories:['all'],colors:[],price:'',rating:0};var _useState7=useState(initialState),_useState8=_slicedToArray(_useState7,2),filter=_useState8[0],setFilter=_useState8[1];// search filter\nvar handleSearch=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var newString;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:newString=event===null||event===void 0?void 0:event.target.value;setFilter(_objectSpread(_objectSpread({},filter),{},{search:newString}));case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSearch(_x){return _ref3.apply(this,arguments);};}();// sort options\nvar _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),anchorEl=_useState10[0],setAnchorEl=_useState10[1];var openSort=Boolean(anchorEl);var handleClickListItem=function handleClickListItem(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var filterIsEqual=function filterIsEqual(a1,a2){return a1===a2||a1.length===a2.length&&a1.search===a2.search&&a1.sort===a2.sort&&a1.price===a2.price&&a1.rating===a2.rating&&JSON.stringify(a1.gender)===JSON.stringify(a2.gender)&&JSON.stringify(a1.categories)===JSON.stringify(a2.categories)&&JSON.stringify(a1.colors)===JSON.stringify(a2.colors);};var handelFilter=function handelFilter(type,params,rating){setLoading(true);switch(type){case'gender':if(filter.gender.some(function(item){return item===params;})){setFilter(_objectSpread(_objectSpread({},filter),{},{gender:filter.gender.filter(function(item){return item!==params;})}));}else{setFilter(_objectSpread(_objectSpread({},filter),{},{gender:[].concat(_toConsumableArray(filter.gender),[params])}));}break;case'categories':if(filter.categories.some(function(item){return item===params;})){setFilter(_objectSpread(_objectSpread({},filter),{},{categories:filter.categories.filter(function(item){return item!==params;})}));}else if(filter.categories.some(function(item){return item==='all';})||params==='all'){setFilter(_objectSpread(_objectSpread({},filter),{},{categories:[params]}));}else{setFilter(_objectSpread(_objectSpread({},filter),{},{categories:[].concat(_toConsumableArray(filter.categories),[params])}));}break;case'colors':if(filter.colors.some(function(item){return item===params;})){setFilter(_objectSpread(_objectSpread({},filter),{},{colors:filter.colors.filter(function(item){return item!==params;})}));}else{setFilter(_objectSpread(_objectSpread({},filter),{},{colors:[].concat(_toConsumableArray(filter.colors),[params])}));}break;case'price':setFilter(_objectSpread(_objectSpread({},filter),{},{price:params}));break;case'search':setFilter(_objectSpread(_objectSpread({},filter),{},{search:params}));break;case'sort':setFilter(_objectSpread(_objectSpread({},filter),{},{sort:params}));break;case'rating':setFilter(_objectSpread(_objectSpread({},filter),{},{rating:rating}));break;case'reset':setFilter(initialState);break;default:// no options\n}};var filterData=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post('/api/products/filter',{filter:filter}).then(function(res){setProducts(res.data.results);setLoading(false);});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function filterData(){return _ref4.apply(this,arguments);};}();useEffect(function(){filterData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[filter]);useEffect(function(){setOpen(!matchDownLG);},[matchDownLG]);// sort filter\nvar handleMenuItemClick=function handleMenuItemClick(event,index){setFilter(_objectSpread(_objectSpread({},filter),{},{sort:index}));setAnchorEl(null);};var sortLabel=SortOptions.filter(function(items){return items.value===filter.sort;});var productResult=/*#__PURE__*/_jsx(_Fragment,{});if(products){productResult=products.map(function(product,index){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,lg:3,children:/*#__PURE__*/_jsx(ProductCard,{id:product.id,image:product.image,name:product.name,description:product.description,offerPrice:product.offerPrice,salePrice:product.salePrice,rating:product.rating,color:product.colors?product.colors[0]:undefined})},index);});}var spacingMD=matchDownMD?1:1.5;return/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",justifyContent:\"space-between\",spacing:matchDownMD?0.5:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Shop\"}),/*#__PURE__*/_jsx(IconButton,{size:\"large\",children:/*#__PURE__*/_jsx(ArrowForwardIosIcon,{sx:{width:'0.875rem',height:'0.875rem',fontWeight:500,color:'grey.500'}})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",justifyContent:\"center\",spacing:matchDownSM?0.5:spacingMD,children:[/*#__PURE__*/_jsx(TextField,{sx:{width:{xs:140,md:'auto'}},InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{fontSize:\"small\"})})},value:filter.search,placeholder:\"Search Product\",size:\"small\",onChange:handleSearch}),/*#__PURE__*/_jsx(Typography,{sx:{pl:1.5,fontSize:'1rem',color:'grey.500',fontWeight:400},children:\"|\"}),/*#__PURE__*/_jsxs(ButtonBase,{disableRipple:true,onClick:handleDrawerOpen,children:[/*#__PURE__*/_jsx(FilterAltIcon,{sx:{fontWeight:500,color:'secondary.200'}}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",sx:{mt:0.5,display:{xs:'none',sm:'block'}},children:\"Filter\"})]}),/*#__PURE__*/_jsx(Typography,{sx:{display:{xs:'none',sm:'flex'},fontSize:'1rem',color:'grey.500',fontWeight:400},children:\"|\"}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",justifyContent:\"center\",sx:{display:{xs:'none',sm:'flex'}},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Sort by: \"}),/*#__PURE__*/_jsx(Button,{id:\"demo-positioned-button\",\"aria-controls\":\"demo-positioned-menu\",\"aria-haspopup\":\"true\",\"aria-expanded\":openSort?'true':undefined,onClick:handleClickListItem,sx:{color:'grey.500',fontWeight:400},endIcon:/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{}),children:sortLabel.length>0&&sortLabel[0].label}),/*#__PURE__*/_jsx(Menu,{id:\"demo-positioned-menu\",\"aria-labelledby\":\"demo-positioned-button\",anchorEl:anchorEl,open:openSort,onClose:handleClose,anchorOrigin:{vertical:'bottom',horizontal:'right'},transformOrigin:{vertical:'top',horizontal:'right'},children:SortOptions.map(function(option,index){return/*#__PURE__*/_jsx(MenuItem,{sx:{p:1.5},selected:option.value===filter.sort,onClick:function onClick(event){return handleMenuItemClick(event,option.value);},children:option.label},index);})})]})]})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Divider,{sx:{borderColor:'grey.400'}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex'},children:[/*#__PURE__*/_jsxs(Main,{open:open,children:[/*#__PURE__*/_jsx(ProductFilterView,{filter:filter,filterIsEqual:filterIsEqual,handelFilter:handelFilter,initialState:initialState}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:gridSpacing,children:[isLoading?[1,2,3,4,5,6,7,8].map(function(item){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,lg:3,children:/*#__PURE__*/_jsx(SkeletonProductPlaceholder,{})},item);}):productResult,products.length<=0&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sx:{mt:3},children:/*#__PURE__*/_jsx(ProductEmpty,{})})]})]}),/*#__PURE__*/_jsx(Drawer,{sx:{ml:open?3:0,height:matchDownLG?'100vh':'auto',flexShrink:0,zIndex:{xs:1200,lg:open?0:-1},overflowX:'hidden',width:appDrawerWidth,'& .MuiDrawer-paper':{height:'auto',width:appDrawerWidth,position:matchDownLG?'fixed':'relative',border:'none',borderRadius:matchDownLG?0:\"\".concat(customization.borderRadius,\"px\")}},variant:matchDownLG?'temporary':'persistent',anchor:\"right\",open:open,ModalProps:{keepMounted:true},onClose:handleDrawerOpen,children:/*#__PURE__*/_jsx(PerfectScrollbar,{component:\"div\",children:/*#__PURE__*/_jsx(ProductFilter,{filter:filter,handelFilter:handelFilter})})})]})}),/*#__PURE__*/_jsx(FloatingCart,{})]});};export default Products;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/views/application/e-commerce/Products/index.js"],"names":["useState","useEffect","useDispatch","useSelector","styled","useTheme","Box","Button","ButtonBase","Divider","Drawer","Grid","IconButton","InputAdornment","Menu","MenuItem","Stack","TextField","Typography","useMediaQuery","PerfectScrollbar","SortOptions","ProductEmpty","ProductFilter","ProductFilterView","ProductCard","FloatingCart","SkeletonProductPlaceholder","axios","SET_MENU","RESET_CART","appDrawerWidth","gridSpacing","ArrowForwardIosIcon","FilterAltIcon","KeyboardArrowDownIcon","SearchIcon","Main","shouldForwardProp","prop","theme","open","flexGrow","transition","transitions","create","easing","sharp","duration","leavingScreen","marginRight","breakpoints","down","paddingRight","easeOut","enteringScreen","Products","dispatch","customization","state","cart","matchDownSM","matchDownMD","matchDownLG","isLoading","setLoading","setOpen","handleDrawerOpen","prevState","products","setProducts","getProducts","get","response","data","type","opened","checkout","step","initialState","search","sort","gender","categories","colors","price","rating","filter","setFilter","handleSearch","event","newString","target","value","anchorEl","setAnchorEl","openSort","Boolean","handleClickListItem","currentTarget","handleClose","filterIsEqual","a1","a2","length","JSON","stringify","handelFilter","params","some","item","filterData","post","then","res","results","handleMenuItemClick","index","sortLabel","items","productResult","map","product","id","image","name","description","offerPrice","salePrice","undefined","spacingMD","width","height","fontWeight","color","xs","md","startAdornment","pl","fontSize","mt","display","sm","label","vertical","horizontal","option","p","borderColor","ml","flexShrink","zIndex","lg","overflowX","position","border","borderRadius","keepMounted"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n// material-ui\r\nimport { styled, useTheme } from '@mui/material/styles';\r\nimport {\r\n    Box,\r\n    Button,\r\n    ButtonBase,\r\n    Divider,\r\n    Drawer,\r\n    Grid,\r\n    IconButton,\r\n    InputAdornment,\r\n    Menu,\r\n    MenuItem,\r\n    Stack,\r\n    TextField,\r\n    Typography,\r\n    useMediaQuery\r\n} from '@mui/material';\r\n\r\n// third party\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\n\r\n// project imports\r\nimport SortOptions from './SortOptions';\r\nimport ProductEmpty from './ProductEmpty';\r\nimport ProductFilter from './ProductFilter';\r\nimport ProductFilterView from './ProductFilterView';\r\nimport ProductCard from 'ui-component/cards/ProductCard';\r\nimport FloatingCart from 'ui-component/cards/FloatingCart';\r\nimport SkeletonProductPlaceholder from 'ui-component/cards/Skeleton/ProductPlaceholder';\r\nimport axios from 'utils/axios';\r\n\r\nimport { SET_MENU, RESET_CART } from 'store/actions';\r\nimport { appDrawerWidth, gridSpacing } from 'store/constant';\r\n\r\n// assets\r\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\r\nimport FilterAltIcon from '@mui/icons-material/FilterAlt';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\n\r\n// product list container\r\nconst Main = styled('main', { shouldForwardProp: (prop) => prop !== 'open' })(({ theme, open }) => ({\r\n    flexGrow: 1,\r\n    transition: theme.transitions.create('margin', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen\r\n    }),\r\n    marginRight: -appDrawerWidth,\r\n    [theme.breakpoints.down('xl')]: {\r\n        paddingRight: 0,\r\n        marginRight: 0\r\n    },\r\n    ...(open && {\r\n        transition: theme.transitions.create('margin', {\r\n            easing: theme.transitions.easing.easeOut,\r\n            duration: theme.transitions.duration.enteringScreen\r\n        }),\r\n        marginRight: 0\r\n    })\r\n}));\r\n\r\n// ==============================|| E-COMMERCE - PRODUCT GRID ||============================== //\r\n\r\nconst Products = () => {\r\n    const theme = useTheme();\r\n    const dispatch = useDispatch();\r\n\r\n    const customization = useSelector((state) => state.customization);\r\n    const cart = useSelector((state) => state.cart);\r\n\r\n    const matchDownSM = useMediaQuery(theme.breakpoints.down('md'));\r\n    const matchDownMD = useMediaQuery(theme.breakpoints.down('lg'));\r\n    const matchDownLG = useMediaQuery(theme.breakpoints.down('xl'));\r\n\r\n    const [isLoading, setLoading] = useState(true);\r\n    useEffect(() => {\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    // drawer\r\n    const [open, setOpen] = useState(isLoading);\r\n\r\n    const handleDrawerOpen = () => {\r\n        setOpen((prevState) => !prevState);\r\n    };\r\n\r\n    // product data\r\n    const [products, setProducts] = useState([]);\r\n    const getProducts = async () => {\r\n        const response = await axios.get('/api/products/list');\r\n        setProducts(response.data.products);\r\n    };\r\n\r\n    useEffect(() => {\r\n        getProducts();\r\n\r\n        // hide left drawer when email app opens\r\n        dispatch({ type: SET_MENU, opened: false });\r\n\r\n        // clear cart if complete order\r\n        if (cart.checkout.step > 2) {\r\n            dispatch({ type: RESET_CART });\r\n        }\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    // filter\r\n    const initialState = {\r\n        search: '',\r\n        sort: 'low',\r\n        gender: [],\r\n        categories: ['all'],\r\n        colors: [],\r\n        price: '',\r\n        rating: 0\r\n    };\r\n    const [filter, setFilter] = useState(initialState);\r\n\r\n    // search filter\r\n    const handleSearch = async (event) => {\r\n        const newString = event?.target.value;\r\n        setFilter({ ...filter, search: newString });\r\n    };\r\n\r\n    // sort options\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const openSort = Boolean(anchorEl);\r\n    const handleClickListItem = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const filterIsEqual = (a1, a2) =>\r\n        a1 === a2 ||\r\n        (a1.length === a2.length &&\r\n            a1.search === a2.search &&\r\n            a1.sort === a2.sort &&\r\n            a1.price === a2.price &&\r\n            a1.rating === a2.rating &&\r\n            JSON.stringify(a1.gender) === JSON.stringify(a2.gender) &&\r\n            JSON.stringify(a1.categories) === JSON.stringify(a2.categories) &&\r\n            JSON.stringify(a1.colors) === JSON.stringify(a2.colors));\r\n\r\n    const handelFilter = (type, params, rating) => {\r\n        setLoading(true);\r\n        switch (type) {\r\n            case 'gender':\r\n                if (filter.gender.some((item) => item === params)) {\r\n                    setFilter({ ...filter, gender: filter.gender.filter((item) => item !== params) });\r\n                } else {\r\n                    setFilter({ ...filter, gender: [...filter.gender, params] });\r\n                }\r\n                break;\r\n            case 'categories':\r\n                if (filter.categories.some((item) => item === params)) {\r\n                    setFilter({ ...filter, categories: filter.categories.filter((item) => item !== params) });\r\n                } else if (filter.categories.some((item) => item === 'all') || params === 'all') {\r\n                    setFilter({ ...filter, categories: [params] });\r\n                } else {\r\n                    setFilter({ ...filter, categories: [...filter.categories, params] });\r\n                }\r\n\r\n                break;\r\n            case 'colors':\r\n                if (filter.colors.some((item) => item === params)) {\r\n                    setFilter({ ...filter, colors: filter.colors.filter((item) => item !== params) });\r\n                } else {\r\n                    setFilter({ ...filter, colors: [...filter.colors, params] });\r\n                }\r\n                break;\r\n            case 'price':\r\n                setFilter({ ...filter, price: params });\r\n                break;\r\n            case 'search':\r\n                setFilter({ ...filter, search: params });\r\n                break;\r\n            case 'sort':\r\n                setFilter({ ...filter, sort: params });\r\n                break;\r\n            case 'rating':\r\n                setFilter({ ...filter, rating });\r\n                break;\r\n            case 'reset':\r\n                setFilter(initialState);\r\n                break;\r\n            default:\r\n            // no options\r\n        }\r\n    };\r\n\r\n    const filterData = async () => {\r\n        await axios\r\n            .post('/api/products/filter', {\r\n                filter\r\n            })\r\n            .then((res) => {\r\n                setProducts(res.data.results);\r\n                setLoading(false);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        filterData();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [filter]);\r\n\r\n    useEffect(() => {\r\n        setOpen(!matchDownLG);\r\n    }, [matchDownLG]);\r\n\r\n    // sort filter\r\n    const handleMenuItemClick = (event, index) => {\r\n        setFilter({ ...filter, sort: index });\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const sortLabel = SortOptions.filter((items) => items.value === filter.sort);\r\n\r\n    let productResult = <></>;\r\n    if (products) {\r\n        productResult = products.map((product, index) => (\r\n            <Grid key={index} item xs={12} sm={6} md={4} lg={3}>\r\n                <ProductCard\r\n                    id={product.id}\r\n                    image={product.image}\r\n                    name={product.name}\r\n                    description={product.description}\r\n                    offerPrice={product.offerPrice}\r\n                    salePrice={product.salePrice}\r\n                    rating={product.rating}\r\n                    color={product.colors ? product.colors[0] : undefined}\r\n                />\r\n            </Grid>\r\n        ));\r\n    }\r\n\r\n    const spacingMD = matchDownMD ? 1 : 1.5;\r\n\r\n    return (\r\n        <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n                <Grid container alignItems=\"center\" justifyContent=\"space-between\" spacing={matchDownMD ? 0.5 : 2}>\r\n                    <Grid item>\r\n                        <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                            <Typography variant=\"h4\">Shop</Typography>\r\n                            <IconButton size=\"large\">\r\n                                <ArrowForwardIosIcon sx={{ width: '0.875rem', height: '0.875rem', fontWeight: 500, color: 'grey.500' }} />\r\n                            </IconButton>\r\n                        </Stack>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"center\" spacing={matchDownSM ? 0.5 : spacingMD}>\r\n                            <TextField\r\n                                sx={{ width: { xs: 140, md: 'auto' } }}\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <SearchIcon fontSize=\"small\" />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                                value={filter.search}\r\n                                placeholder=\"Search Product\"\r\n                                size=\"small\"\r\n                                onChange={handleSearch}\r\n                            />\r\n\r\n                            <Typography sx={{ pl: 1.5, fontSize: '1rem', color: 'grey.500', fontWeight: 400 }}>|</Typography>\r\n\r\n                            <ButtonBase disableRipple onClick={handleDrawerOpen}>\r\n                                <FilterAltIcon sx={{ fontWeight: 500, color: 'secondary.200' }} />\r\n                                <Typography variant=\"h5\" sx={{ mt: 0.5, display: { xs: 'none', sm: 'block' } }}>\r\n                                    Filter\r\n                                </Typography>\r\n                            </ButtonBase>\r\n\r\n                            <Typography sx={{ display: { xs: 'none', sm: 'flex' }, fontSize: '1rem', color: 'grey.500', fontWeight: 400 }}>\r\n                                |\r\n                            </Typography>\r\n                            <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"center\" sx={{ display: { xs: 'none', sm: 'flex' } }}>\r\n                                <Typography variant=\"h5\">Sort by: </Typography>\r\n                                <Button\r\n                                    id=\"demo-positioned-button\"\r\n                                    aria-controls=\"demo-positioned-menu\"\r\n                                    aria-haspopup=\"true\"\r\n                                    aria-expanded={openSort ? 'true' : undefined}\r\n                                    onClick={handleClickListItem}\r\n                                    sx={{ color: 'grey.500', fontWeight: 400 }}\r\n                                    endIcon={<KeyboardArrowDownIcon />}\r\n                                >\r\n                                    {sortLabel.length > 0 && sortLabel[0].label}\r\n                                </Button>\r\n                                <Menu\r\n                                    id=\"demo-positioned-menu\"\r\n                                    aria-labelledby=\"demo-positioned-button\"\r\n                                    anchorEl={anchorEl}\r\n                                    open={openSort}\r\n                                    onClose={handleClose}\r\n                                    anchorOrigin={{\r\n                                        vertical: 'bottom',\r\n                                        horizontal: 'right'\r\n                                    }}\r\n                                    transformOrigin={{\r\n                                        vertical: 'top',\r\n                                        horizontal: 'right'\r\n                                    }}\r\n                                >\r\n                                    {SortOptions.map((option, index) => (\r\n                                        <MenuItem\r\n                                            sx={{ p: 1.5 }}\r\n                                            key={index}\r\n                                            selected={option.value === filter.sort}\r\n                                            onClick={(event) => handleMenuItemClick(event, option.value)}\r\n                                        >\r\n                                            {option.label}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Menu>\r\n                            </Stack>\r\n                        </Stack>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <Divider sx={{ borderColor: 'grey.400' }} />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <Box sx={{ display: 'flex' }}>\r\n                    <Main open={open}>\r\n                        <ProductFilterView\r\n                            filter={filter}\r\n                            filterIsEqual={filterIsEqual}\r\n                            handelFilter={handelFilter}\r\n                            initialState={initialState}\r\n                        />\r\n                        <Grid container spacing={gridSpacing}>\r\n                            {isLoading\r\n                                ? [1, 2, 3, 4, 5, 6, 7, 8].map((item) => (\r\n                                      <Grid key={item} item xs={12} sm={6} md={4} lg={3}>\r\n                                          <SkeletonProductPlaceholder />\r\n                                      </Grid>\r\n                                  ))\r\n                                : productResult}\r\n                            {products.length <= 0 && (\r\n                                <Grid item xs={12} sx={{ mt: 3 }}>\r\n                                    <ProductEmpty />\r\n                                </Grid>\r\n                            )}\r\n                        </Grid>\r\n                    </Main>\r\n                    <Drawer\r\n                        sx={{\r\n                            ml: open ? 3 : 0,\r\n                            height: matchDownLG ? '100vh' : 'auto',\r\n                            flexShrink: 0,\r\n                            zIndex: { xs: 1200, lg: open ? 0 : -1 },\r\n                            overflowX: 'hidden',\r\n                            width: appDrawerWidth,\r\n                            '& .MuiDrawer-paper': {\r\n                                height: 'auto',\r\n                                width: appDrawerWidth,\r\n                                position: matchDownLG ? 'fixed' : 'relative',\r\n                                border: 'none',\r\n                                borderRadius: matchDownLG ? 0 : `${customization.borderRadius}px`\r\n                            }\r\n                        }}\r\n                        variant={matchDownLG ? 'temporary' : 'persistent'}\r\n                        anchor=\"right\"\r\n                        open={open}\r\n                        ModalProps={{ keepMounted: true }}\r\n                        onClose={handleDrawerOpen}\r\n                    >\r\n                        <PerfectScrollbar component=\"div\">\r\n                            <ProductFilter filter={filter} handelFilter={handelFilter} />\r\n                        </PerfectScrollbar>\r\n                    </Drawer>\r\n                </Box>\r\n            </Grid>\r\n            <FloatingCart />\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Products;\r\n"]},"metadata":{},"sourceType":"module"}