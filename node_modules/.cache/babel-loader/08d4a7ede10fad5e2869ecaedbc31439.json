{"ast":null,"code":"import _toConsumableArray from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";// action - state management\nimport*as actionTypes from'./actions';import{filter}from'lodash';import{Chance}from'chance';var chance=new Chance();export var initialState={checkout:{step:0,products:[],subtotal:0,total:0,discount:0,shipping:0,billing:null,payment:{type:'free',method:'cod',card:''}}};// ==============================|| E-COMMERCE REDUCER ||============================== //\nvar cartReducer=function cartReducer(){var _newProduct;var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var payload=arguments.length>1?arguments[1]:undefined;var subtotal;var result;var latestProducts;var newProduct;var inCartProduct;var oldSubTotal;var amount;var difference;var newShipping;switch(payload.type){case actionTypes.ADD_PRODUCTS:newProduct=_objectSpread(_objectSpread({},payload.product),{},{itemId:chance.timestamp()});subtotal=((_newProduct=newProduct)===null||_newProduct===void 0?void 0:_newProduct.quantity)*newProduct.offerPrice;inCartProduct=filter(state.checkout.products,{id:newProduct.id,color:newProduct.color,size:newProduct.size});if(inCartProduct&&inCartProduct.length>0){var newProducts=state.checkout.products.map(function(item){var _newProduct2,_newProduct3;if(((_newProduct2=newProduct)===null||_newProduct2===void 0?void 0:_newProduct2.id)===item.id&&((_newProduct3=newProduct)===null||_newProduct3===void 0?void 0:_newProduct3.color)===item.color&&newProduct.size===item.size){return _objectSpread(_objectSpread({},newProduct),{},{quantity:newProduct.quantity+inCartProduct[0].quantity});}return item;});latestProducts=newProducts;}else{latestProducts=[].concat(_toConsumableArray(state.checkout.products),[newProduct]);}return _objectSpread(_objectSpread({},state),{},{checkout:_objectSpread(_objectSpread({},state.checkout),{},{products:latestProducts,subtotal:state.checkout.subtotal+subtotal,total:state.checkout.total+subtotal})});case actionTypes.REMOVE_PRODUCT:result=filter(state.checkout.products,{itemId:payload.id});subtotal=result[0].quantity*result[0].offerPrice;return _objectSpread(_objectSpread({},state),{},{checkout:_objectSpread(_objectSpread({},state.checkout),{},{products:filter(state.checkout.products,function(item){return item.itemId!==payload.id;}),subtotal:state.checkout.subtotal-subtotal,total:state.checkout.total+-subtotal})});case actionTypes.UPDATE_QUANTITY:result=filter(state.checkout.products,{itemId:payload.id});subtotal=payload.quantity*result[0].offerPrice;oldSubTotal=0;latestProducts=state.checkout.products.map(function(item){if(payload.id===item.itemId){oldSubTotal=item.quantity*item.offerPrice;return _objectSpread(_objectSpread({},item),{},{quantity:payload.quantity});}return item;});return _objectSpread(_objectSpread({},state),{},{checkout:_objectSpread(_objectSpread({},state.checkout),{},{products:latestProducts,subtotal:state.checkout.subtotal-oldSubTotal+subtotal,total:state.checkout.total-oldSubTotal+subtotal})});case actionTypes.SET_STEP:return _objectSpread(_objectSpread({},state),{},{checkout:_objectSpread(_objectSpread({},state.checkout),{},{step:payload.step})});case actionTypes.BACK_STEP:return _objectSpread(_objectSpread({},state),{},{checkout:_objectSpread(_objectSpread({},state.checkout),{},{step:state.checkout.step-1})});case actionTypes.NEXT_STEP:return _objectSpread(_objectSpread({},state),{},{checkout:_objectSpread(_objectSpread({},state.checkout),{},{step:state.checkout.step+1})});case actionTypes.SET_BILLING_ADDRESS:return _objectSpread(_objectSpread({},state),{},{checkout:_objectSpread(_objectSpread({},state.checkout),{},{billing:payload.address})});case actionTypes.SET_DISCOUNT:amount=0;difference=0;if(state.checkout.total>0){switch(payload.code){case'BERRY50':amount=chance.integer({min:1,max:state.checkout.total<49?state.checkout.total:49});break;case'FLAT05':amount=state.checkout.total<5?state.checkout.total:5;break;case'SUB150':amount=state.checkout.total<150?state.checkout.total:150;break;case'UPTO200':amount=chance.integer({min:1,max:state.checkout.total<199?state.checkout.total:199});break;default:amount=0;}}if(state.checkout.discount>0){difference=state.checkout.discount;}return _objectSpread(_objectSpread({},state),{},{checkout:_objectSpread(_objectSpread({},state.checkout),{},{discount:amount,total:state.checkout.total+difference-amount})});case actionTypes.SET_SHIPPING_CHARGE:newShipping=0;if(state.checkout.shipping>0&&payload.charge==='free'){newShipping=-5;}if(payload.charge==='fast'){newShipping=5;}return _objectSpread(_objectSpread({},state),{},{checkout:_objectSpread(_objectSpread({},state.checkout),{},{shipping:payload.charge==='fast'?5:0,total:state.checkout.total+newShipping,payment:_objectSpread(_objectSpread({},state.checkout.payment),{},{type:payload.charge})})});case actionTypes.SET_PAYMENT_METHOD:return _objectSpread(_objectSpread({},state),{},{checkout:_objectSpread(_objectSpread({},state.checkout),{},{payment:_objectSpread(_objectSpread({},state.checkout.payment),{},{method:payload.method})})});case actionTypes.SET_PAYMENT_CARD:return _objectSpread(_objectSpread({},state),{},{checkout:_objectSpread(_objectSpread({},state.checkout),{},{payment:_objectSpread(_objectSpread({},state.checkout.payment),{},{card:payload.card})})});case actionTypes.RESET_CART:return initialState;default:return state;}};export default cartReducer;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/store/cartReducer.js"],"names":["actionTypes","filter","Chance","chance","initialState","checkout","step","products","subtotal","total","discount","shipping","billing","payment","type","method","card","cartReducer","state","payload","result","latestProducts","newProduct","inCartProduct","oldSubTotal","amount","difference","newShipping","ADD_PRODUCTS","product","itemId","timestamp","quantity","offerPrice","id","color","size","length","newProducts","map","item","REMOVE_PRODUCT","UPDATE_QUANTITY","SET_STEP","BACK_STEP","NEXT_STEP","SET_BILLING_ADDRESS","address","SET_DISCOUNT","code","integer","min","max","SET_SHIPPING_CHARGE","charge","SET_PAYMENT_METHOD","SET_PAYMENT_CARD","RESET_CART"],"mappings":"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","sourcesContent":["// action - state management\r\nimport * as actionTypes from './actions';\r\n\r\nimport { filter } from 'lodash';\r\nimport { Chance } from 'chance';\r\n\r\nconst chance = new Chance();\r\n\r\nexport const initialState = {\r\n    checkout: {\r\n        step: 0,\r\n        products: [],\r\n        subtotal: 0,\r\n        total: 0,\r\n        discount: 0,\r\n        shipping: 0,\r\n        billing: null,\r\n        payment: {\r\n            type: 'free',\r\n            method: 'cod',\r\n            card: ''\r\n        }\r\n    }\r\n};\r\n\r\n// ==============================|| E-COMMERCE REDUCER ||============================== //\r\n\r\nconst cartReducer = (state = initialState, payload) => {\r\n    let subtotal;\r\n    let result;\r\n\r\n    let latestProducts;\r\n    let newProduct;\r\n    let inCartProduct;\r\n    let oldSubTotal;\r\n    let amount;\r\n    let difference;\r\n    let newShipping;\r\n\r\n    switch (payload.type) {\r\n        case actionTypes.ADD_PRODUCTS:\r\n            newProduct = { ...payload.product, itemId: chance.timestamp() };\r\n\r\n            subtotal = newProduct?.quantity * newProduct.offerPrice;\r\n\r\n            inCartProduct = filter(state.checkout.products, {\r\n                id: newProduct.id,\r\n                color: newProduct.color,\r\n                size: newProduct.size\r\n            });\r\n            if (inCartProduct && inCartProduct.length > 0) {\r\n                const newProducts = state.checkout.products.map((item) => {\r\n                    if (newProduct?.id === item.id && newProduct?.color === item.color && newProduct.size === item.size) {\r\n                        return { ...newProduct, quantity: newProduct.quantity + inCartProduct[0].quantity };\r\n                    }\r\n                    return item;\r\n                });\r\n                latestProducts = newProducts;\r\n            } else {\r\n                latestProducts = [...state.checkout.products, newProduct];\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                checkout: {\r\n                    ...state.checkout,\r\n                    products: latestProducts,\r\n                    subtotal: state.checkout.subtotal + subtotal,\r\n                    total: state.checkout.total + subtotal\r\n                }\r\n            };\r\n        case actionTypes.REMOVE_PRODUCT:\r\n            result = filter(state.checkout.products, { itemId: payload.id });\r\n            subtotal = result[0].quantity * result[0].offerPrice;\r\n\r\n            return {\r\n                ...state,\r\n                checkout: {\r\n                    ...state.checkout,\r\n                    products: filter(state.checkout.products, (item) => item.itemId !== payload.id),\r\n                    subtotal: state.checkout.subtotal - subtotal,\r\n                    total: state.checkout.total + -subtotal\r\n                }\r\n            };\r\n        case actionTypes.UPDATE_QUANTITY:\r\n            result = filter(state.checkout.products, { itemId: payload.id });\r\n            subtotal = payload.quantity * result[0].offerPrice;\r\n            oldSubTotal = 0;\r\n\r\n            latestProducts = state.checkout.products.map((item) => {\r\n                if (payload.id === item.itemId) {\r\n                    oldSubTotal = item.quantity * item.offerPrice;\r\n                    return { ...item, quantity: payload.quantity };\r\n                }\r\n                return item;\r\n            });\r\n\r\n            return {\r\n                ...state,\r\n                checkout: {\r\n                    ...state.checkout,\r\n                    products: latestProducts,\r\n                    subtotal: state.checkout.subtotal - oldSubTotal + subtotal,\r\n                    total: state.checkout.total - oldSubTotal + subtotal\r\n                }\r\n            };\r\n        case actionTypes.SET_STEP:\r\n            return {\r\n                ...state,\r\n                checkout: {\r\n                    ...state.checkout,\r\n                    step: payload.step\r\n                }\r\n            };\r\n        case actionTypes.BACK_STEP:\r\n            return {\r\n                ...state,\r\n                checkout: {\r\n                    ...state.checkout,\r\n                    step: state.checkout.step - 1\r\n                }\r\n            };\r\n        case actionTypes.NEXT_STEP:\r\n            return {\r\n                ...state,\r\n                checkout: {\r\n                    ...state.checkout,\r\n                    step: state.checkout.step + 1\r\n                }\r\n            };\r\n        case actionTypes.SET_BILLING_ADDRESS:\r\n            return {\r\n                ...state,\r\n                checkout: {\r\n                    ...state.checkout,\r\n                    billing: payload.address\r\n                }\r\n            };\r\n        case actionTypes.SET_DISCOUNT:\r\n            amount = 0;\r\n            difference = 0;\r\n            if (state.checkout.total > 0) {\r\n                switch (payload.code) {\r\n                    case 'BERRY50':\r\n                        amount = chance.integer({ min: 1, max: state.checkout.total < 49 ? state.checkout.total : 49 });\r\n                        break;\r\n                    case 'FLAT05':\r\n                        amount = state.checkout.total < 5 ? state.checkout.total : 5;\r\n                        break;\r\n                    case 'SUB150':\r\n                        amount = state.checkout.total < 150 ? state.checkout.total : 150;\r\n                        break;\r\n                    case 'UPTO200':\r\n                        amount = chance.integer({ min: 1, max: state.checkout.total < 199 ? state.checkout.total : 199 });\r\n                        break;\r\n                    default:\r\n                        amount = 0;\r\n                }\r\n            }\r\n            if (state.checkout.discount > 0) {\r\n                difference = state.checkout.discount;\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                checkout: {\r\n                    ...state.checkout,\r\n                    discount: amount,\r\n                    total: state.checkout.total + difference - amount\r\n                }\r\n            };\r\n        case actionTypes.SET_SHIPPING_CHARGE:\r\n            newShipping = 0;\r\n            if (state.checkout.shipping > 0 && payload.charge === 'free') {\r\n                newShipping = -5;\r\n            }\r\n            if (payload.charge === 'fast') {\r\n                newShipping = 5;\r\n            }\r\n            return {\r\n                ...state,\r\n                checkout: {\r\n                    ...state.checkout,\r\n                    shipping: payload.charge === 'fast' ? 5 : 0,\r\n                    total: state.checkout.total + newShipping,\r\n                    payment: {\r\n                        ...state.checkout.payment,\r\n                        type: payload.charge\r\n                    }\r\n                }\r\n            };\r\n        case actionTypes.SET_PAYMENT_METHOD:\r\n            return {\r\n                ...state,\r\n                checkout: {\r\n                    ...state.checkout,\r\n                    payment: {\r\n                        ...state.checkout.payment,\r\n                        method: payload.method\r\n                    }\r\n                }\r\n            };\r\n        case actionTypes.SET_PAYMENT_CARD:\r\n            return {\r\n                ...state,\r\n                checkout: {\r\n                    ...state.checkout,\r\n                    payment: {\r\n                        ...state.checkout.payment,\r\n                        card: payload.card\r\n                    }\r\n                }\r\n            };\r\n        case actionTypes.RESET_CART:\r\n            return initialState;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default cartReducer;\r\n"]},"metadata":{},"sourceType":"module"}