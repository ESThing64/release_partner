{"ast":null,"code":"import _slicedToArray from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useState}from'react';import{useDispatch,useSelector}from'react-redux';// material-ui\nimport{useTheme}from'@mui/material/styles';import{Grid,IconButton}from'@mui/material';// third-party\nimport{Droppable,Draggable}from'react-beautiful-dnd';// project imports\nimport EditColumn from'./EditColumn';import Items from'./Items';import AddItem from'./AddItem';import AlertColumnDelete from'./AlertColumnDelete';import{gridSpacing}from'store/constant';import{DELETE_COLUMN,SNACKBAR_OPEN}from'store/actions';// assets\nimport DeleteTwoToneIcon from'@mui/icons-material/DeleteTwoTone';// column drag wrapper\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getDragWrapper=function getDragWrapper(isDragging,draggableStyle,theme,radius){return _objectSpread({minWidth:250,border:'1px solid',borderColor:theme.palette.mode==='dark'?theme.palette.background.default:theme.palette.primary[200]+75,backgroundColor:isDragging?theme.palette.grey[50]:theme.palette.primary.light,borderRadius:radius,userSelect:'none',margin:\"0 \".concat(16,\"px 0 0\"),height:'100%'},draggableStyle);};// column drop wrapper\nvar getDropWrapper=function getDropWrapper(isDraggingOver,theme,radius){return{background:isDraggingOver?theme.palette.primary[200]:theme.palette.primary.light,padding:'8px 16px 14px',width:'auto',borderRadius:radius};};// ==============================|| KANBAN BOARD - COLUMN ||============================== //\nvar Columns=function Columns(_ref){var column=_ref.column,index=_ref.index;var theme=useTheme();var dispatch=useDispatch();var customization=useSelector(function(state){return state.customization;});var kanban=useSelector(function(state){return state.kanban;});var items=kanban.items;var columnItems=column.itemIds.map(function(itemId){return items.filter(function(item){return item.id===itemId;})[0];});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var handleColumnDelete=function handleColumnDelete(){setOpen(true);};var handleClose=function handleClose(status){setOpen(false);if(status){dispatch({type:DELETE_COLUMN,payload:{columnId:column.id}});dispatch({type:SNACKBAR_OPEN,open:true,message:'Column deleted successfully',variant:'alert',anchorOrigin:{vertical:'top',horizontal:'right'},alertSeverity:'success'});}};return/*#__PURE__*/_jsx(Draggable,{draggableId:column.id,index:index,children:function children(provided,snapshot){return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{style:getDragWrapper(snapshot.isDragging,provided.draggableProps.style,theme,\"\".concat(customization.borderRadius,\"px\")),children:/*#__PURE__*/_jsx(Droppable,{droppableId:column.id,type:\"item\",children:function children(providedDrop,snapshotDrop){return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({ref:providedDrop.innerRef},providedDrop.droppableProps),{},{style:getDropWrapper(snapshotDrop.isDraggingOver,theme,\"\".concat(customization.borderRadius,\"px\")),children:[/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:gridSpacing,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true,zeroMinWidth:true,children:/*#__PURE__*/_jsx(EditColumn,{column:column})}),/*#__PURE__*/_jsxs(Grid,{item:true,sx:{mb:1.5},children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleColumnDelete,size:\"large\",children:/*#__PURE__*/_jsx(DeleteTwoToneIcon,{fontSize:\"small\",\"aria-controls\":\"menu-simple-card\",\"aria-haspopup\":\"true\"})}),/*#__PURE__*/_jsx(AlertColumnDelete,{title:column.title,open:open,handleClose:handleClose})]})]}),columnItems.map(function(item,i){return/*#__PURE__*/_jsx(Items,{item:item,index:i},i);}),providedDrop.placeholder,/*#__PURE__*/_jsx(AddItem,{columnId:column.id})]}));}})}));}});};export default Columns;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/views/application/kanban/Board/Columns.js"],"names":["useState","useDispatch","useSelector","useTheme","Grid","IconButton","Droppable","Draggable","EditColumn","Items","AddItem","AlertColumnDelete","gridSpacing","DELETE_COLUMN","SNACKBAR_OPEN","DeleteTwoToneIcon","getDragWrapper","isDragging","draggableStyle","theme","radius","minWidth","border","borderColor","palette","mode","background","default","primary","backgroundColor","grey","light","borderRadius","userSelect","margin","height","getDropWrapper","isDraggingOver","padding","width","Columns","column","index","dispatch","customization","state","kanban","items","columnItems","itemIds","map","itemId","filter","item","id","open","setOpen","handleColumnDelete","handleClose","status","type","payload","columnId","message","variant","anchorOrigin","vertical","horizontal","alertSeverity","provided","snapshot","innerRef","draggableProps","dragHandleProps","style","providedDrop","snapshotDrop","droppableProps","mb","title","i","placeholder"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n// material-ui\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { Grid, IconButton } from '@mui/material';\r\n\r\n// third-party\r\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\r\n\r\n// project imports\r\nimport EditColumn from './EditColumn';\r\nimport Items from './Items';\r\nimport AddItem from './AddItem';\r\nimport AlertColumnDelete from './AlertColumnDelete';\r\nimport { gridSpacing } from 'store/constant';\r\nimport { DELETE_COLUMN, SNACKBAR_OPEN } from 'store/actions';\r\n\r\n// assets\r\nimport DeleteTwoToneIcon from '@mui/icons-material/DeleteTwoTone';\r\n\r\n// column drag wrapper\r\nconst getDragWrapper = (isDragging, draggableStyle, theme, radius) => ({\r\n    minWidth: 250,\r\n    border: '1px solid',\r\n    borderColor: theme.palette.mode === 'dark' ? theme.palette.background.default : theme.palette.primary[200] + 75,\r\n    backgroundColor: isDragging ? theme.palette.grey[50] : theme.palette.primary.light,\r\n    borderRadius: radius,\r\n    userSelect: 'none',\r\n    margin: `0 ${16}px 0 0`,\r\n    height: '100%',\r\n    ...draggableStyle\r\n});\r\n\r\n// column drop wrapper\r\nconst getDropWrapper = (isDraggingOver, theme, radius) => ({\r\n    background: isDraggingOver ? theme.palette.primary[200] : theme.palette.primary.light,\r\n    padding: '8px 16px 14px',\r\n    width: 'auto',\r\n    borderRadius: radius\r\n});\r\n\r\n// ==============================|| KANBAN BOARD - COLUMN ||============================== //\r\n\r\nconst Columns = ({ column, index }) => {\r\n    const theme = useTheme();\r\n    const dispatch = useDispatch();\r\n\r\n    const customization = useSelector((state) => state.customization);\r\n    const kanban = useSelector((state) => state.kanban);\r\n    const { items } = kanban;\r\n    const columnItems = column.itemIds.map((itemId) => items.filter((item) => item.id === itemId)[0]);\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const handleColumnDelete = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = (status) => {\r\n        setOpen(false);\r\n        if (status) {\r\n            dispatch({\r\n                type: DELETE_COLUMN,\r\n                payload: {\r\n                    columnId: column.id\r\n                }\r\n            });\r\n\r\n            dispatch({\r\n                type: SNACKBAR_OPEN,\r\n                open: true,\r\n                message: 'Column deleted successfully',\r\n                variant: 'alert',\r\n                anchorOrigin: { vertical: 'top', horizontal: 'right' },\r\n                alertSeverity: 'success'\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Draggable draggableId={column.id} index={index}>\r\n            {(provided, snapshot) => (\r\n                <div\r\n                    ref={provided.innerRef}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    style={getDragWrapper(snapshot.isDragging, provided.draggableProps.style, theme, `${customization.borderRadius}px`)}\r\n                >\r\n                    <Droppable droppableId={column.id} type=\"item\">\r\n                        {(providedDrop, snapshotDrop) => (\r\n                            <div\r\n                                ref={providedDrop.innerRef}\r\n                                {...providedDrop.droppableProps}\r\n                                style={getDropWrapper(snapshotDrop.isDraggingOver, theme, `${customization.borderRadius}px`)}\r\n                            >\r\n                                <Grid container alignItems=\"center\" spacing={gridSpacing}>\r\n                                    <Grid item xs zeroMinWidth>\r\n                                        <EditColumn column={column} />\r\n                                    </Grid>\r\n                                    <Grid item sx={{ mb: 1.5 }}>\r\n                                        <IconButton onClick={handleColumnDelete} size=\"large\">\r\n                                            <DeleteTwoToneIcon fontSize=\"small\" aria-controls=\"menu-simple-card\" aria-haspopup=\"true\" />\r\n                                        </IconButton>\r\n                                        <AlertColumnDelete title={column.title} open={open} handleClose={handleClose} />\r\n                                    </Grid>\r\n                                </Grid>\r\n                                {columnItems.map((item, i) => (\r\n                                    <Items key={i} item={item} index={i} />\r\n                                ))}\r\n                                {providedDrop.placeholder}\r\n                                <AddItem columnId={column.id} />\r\n                            </div>\r\n                        )}\r\n                    </Droppable>\r\n                </div>\r\n            )}\r\n        </Draggable>\r\n    );\r\n};\r\n\r\nColumns.propTypes = {\r\n    column: PropTypes.object,\r\n    index: PropTypes.number\r\n};\r\n\r\nexport default Columns;\r\n"]},"metadata":{},"sourceType":"module"}