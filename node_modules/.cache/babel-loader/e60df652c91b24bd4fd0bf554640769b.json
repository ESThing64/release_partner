{"ast":null,"code":"import _slicedToArray from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{Link}from'react-router-dom';// material-ui\nimport{useTheme}from'@mui/material/styles';import{Button,ButtonGroup,Grid,IconButton,Stack,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Typography,useMediaQuery}from'@mui/material';// third-party\nimport{sum}from'lodash';import CurrencyFormat from'react-currency-format';// project imports\nimport CartDiscount from'./CartDiscount';import ColorOptions from'../ColorOptions';import OrderSummary from'./OrderSummary';import Avatar from'ui-component/extended/Avatar';import{gridSpacing}from'store/constant';// assets\nimport AddIcon from'@mui/icons-material/Add';import RemoveIcon from'@mui/icons-material/Remove';import DeleteTwoToneIcon from'@mui/icons-material/DeleteTwoTone';import KeyboardBackspaceIcon from'@mui/icons-material/KeyboardBackspace';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var prodImage=require.context('assets/images/e-commerce',true);// product color select\nfunction getColor(color){return ColorOptions.filter(function(item){return item.value===color;});}// ==============================|| CART - INCREMENT QUANTITY ||============================== //\nvar Increment=function Increment(_ref){var itemId=_ref.itemId,quantity=_ref.quantity,updateQuantity=_ref.updateQuantity;var _useState=useState(quantity),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var incrementHandler=function incrementHandler(){setValue(value-1);updateQuantity(itemId,value-1);};var decrementHandler=function decrementHandler(){setValue(value+1);updateQuantity(itemId,value+1);};return/*#__PURE__*/_jsxs(ButtonGroup,{size:\"large\",variant:\"text\",color:\"inherit\",sx:{border:'1px solid',borderColor:'grey.400'},children:[/*#__PURE__*/_jsx(Button,{disabled:value<=1,onClick:incrementHandler,sx:{pr:0.75,pl:0.75,minWidth:'0px !important'},children:/*#__PURE__*/_jsx(RemoveIcon,{fontSize:\"inherit\"})},\"three\"),/*#__PURE__*/_jsx(Button,{sx:{pl:0.5,pr:0.5},children:value},\"two\"),/*#__PURE__*/_jsx(Button,{onClick:decrementHandler,sx:{pl:0.75,pr:0.75,minWidth:'0px !important'},children:/*#__PURE__*/_jsx(AddIcon,{fontSize:\"inherit\"})},\"one\")]});};// ==============================|| CART - MAIN ||============================== //\nvar Cart=function Cart(_ref2){var checkout=_ref2.checkout,onNext=_ref2.onNext,removeProduct=_ref2.removeProduct,updateQuantity=_ref2.updateQuantity;var theme=useTheme();var matchDownMD=useMediaQuery(theme.breakpoints.down('lg'));var totalQuantity=sum(checkout.products.map(function(item){return item.quantity;}));var _useState3=useState(checkout.products),_useState4=_slicedToArray(_useState3,2),rows=_useState4[0],setRows=_useState4[1];useEffect(function(){setRows(checkout.products);},[checkout.products]);return/*#__PURE__*/_jsxs(Grid,{container:true,spacing:gridSpacing,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Cart Item\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{fontSize:'0.875rem'},children:[\"(\",totalQuantity,\")\"]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:650},\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{sx:{borderTop:'1px solid',color:theme.palette.mode==='dark'?theme.palette.dark.light+15:'grey.200'},children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Product\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Price\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Quantity\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Total\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:rows.map(function(row,index){var colorsData=row.color?getColor(row.color):false;return/*#__PURE__*/_jsxs(TableRow,{sx:{'&:last-child td, &:last-child th':{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Avatar,{size:\"md\",variant:\"rounded\",src:row.image?prodImage(\"./\".concat(row.image)).default:''})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Stack,{spacing:0,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:row.name}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle2\",sx:{fontWeight:500},children:[\"Size:\",' ',/*#__PURE__*/_jsx(Typography,{variant:\"caption\",component:\"span\",children:row.size})]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{fontSize:'1rem'},children:\"|\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle2\",sx:{fontWeight:500},children:[\"Color:\",' ',/*#__PURE__*/_jsx(Typography,{variant:\"caption\",component:\"span\",children:colorsData?colorsData[0].label:'Multicolor'})]})]})]})})]})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsxs(Stack,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:/*#__PURE__*/_jsx(CurrencyFormat,{decimalScale:2,fixedDecimalScale:true,value:row.offerPrice,displayType:\"text\",thousandSeparator:true,prefix:\"$\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{textDecoration:'line-through'},children:/*#__PURE__*/_jsx(CurrencyFormat,{decimalScale:2,fixedDecimalScale:true,value:row.salePrice,displayType:\"text\",thousandSeparator:true,prefix:\"$\"})})]})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Increment,{quantity:row.quantity,itemId:row.itemId,updateQuantity:updateQuantity})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:/*#__PURE__*/_jsx(CurrencyFormat,{decimalScale:2,fixedDecimalScale:true,value:row.offerPrice*row.quantity,displayType:\"text\",thousandSeparator:true,prefix:\"$\"})})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return removeProduct(row.itemId);},size:\"large\",children:/*#__PURE__*/_jsx(DeleteTwoToneIcon,{sx:{color:'grey.500'}})})})]},index);})})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(OrderSummary,{checkout:checkout})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{direction:matchDownMD?'column-reverse':'row',container:true,spacing:3,alignItems:matchDownMD?'':'center',children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:7,lg:8,children:/*#__PURE__*/_jsx(Button,{component:Link,to:\"/e-commerce/products\",variant:\"text\",startIcon:/*#__PURE__*/_jsx(KeyboardBackspaceIcon,{}),children:\"Continue Shopping\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:5,lg:4,children:/*#__PURE__*/_jsxs(Stack,{spacing:gridSpacing,children:[/*#__PURE__*/_jsx(CartDiscount,{}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",fullWidth:true,onClick:onNext,children:\"Check Out\"})]})})]})})]});};export default Cart;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/views/application/e-commerce/Checkout/Cart.js"],"names":["useState","useEffect","Link","useTheme","Button","ButtonGroup","Grid","IconButton","Stack","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Typography","useMediaQuery","sum","CurrencyFormat","CartDiscount","ColorOptions","OrderSummary","Avatar","gridSpacing","AddIcon","RemoveIcon","DeleteTwoToneIcon","KeyboardBackspaceIcon","prodImage","require","context","getColor","color","filter","item","value","Increment","itemId","quantity","updateQuantity","setValue","incrementHandler","decrementHandler","border","borderColor","pr","pl","minWidth","Cart","checkout","onNext","removeProduct","theme","matchDownMD","breakpoints","down","totalQuantity","products","map","rows","setRows","fontSize","borderTop","palette","mode","dark","light","row","index","colorsData","image","default","name","fontWeight","size","label","offerPrice","textDecoration","salePrice"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// material-ui\r\nimport { useTheme } from '@mui/material/styles';\r\nimport {\r\n    Button,\r\n    ButtonGroup,\r\n    Grid,\r\n    IconButton,\r\n    Stack,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow,\r\n    Typography,\r\n    useMediaQuery\r\n} from '@mui/material';\r\n\r\n// third-party\r\nimport { sum } from 'lodash';\r\nimport CurrencyFormat from 'react-currency-format';\r\n\r\n// project imports\r\nimport CartDiscount from './CartDiscount';\r\nimport ColorOptions from '../ColorOptions';\r\nimport OrderSummary from './OrderSummary';\r\nimport Avatar from 'ui-component/extended/Avatar';\r\nimport { gridSpacing } from 'store/constant';\r\n\r\n// assets\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport RemoveIcon from '@mui/icons-material/Remove';\r\nimport DeleteTwoToneIcon from '@mui/icons-material/DeleteTwoTone';\r\nimport KeyboardBackspaceIcon from '@mui/icons-material/KeyboardBackspace';\r\n\r\nconst prodImage = require.context('assets/images/e-commerce', true);\r\n\r\n// product color select\r\nfunction getColor(color) {\r\n    return ColorOptions.filter((item) => item.value === color);\r\n}\r\n\r\n// ==============================|| CART - INCREMENT QUANTITY ||============================== //\r\n\r\nconst Increment = ({ itemId, quantity, updateQuantity }) => {\r\n    const [value, setValue] = useState(quantity);\r\n\r\n    const incrementHandler = () => {\r\n        setValue(value - 1);\r\n        updateQuantity(itemId, value - 1);\r\n    };\r\n\r\n    const decrementHandler = () => {\r\n        setValue(value + 1);\r\n        updateQuantity(itemId, value + 1);\r\n    };\r\n\r\n    return (\r\n        <ButtonGroup size=\"large\" variant=\"text\" color=\"inherit\" sx={{ border: '1px solid', borderColor: 'grey.400' }}>\r\n            <Button key=\"three\" disabled={value <= 1} onClick={incrementHandler} sx={{ pr: 0.75, pl: 0.75, minWidth: '0px !important' }}>\r\n                <RemoveIcon fontSize=\"inherit\" />\r\n            </Button>\r\n            <Button key=\"two\" sx={{ pl: 0.5, pr: 0.5 }}>\r\n                {value}\r\n            </Button>\r\n            <Button key=\"one\" onClick={decrementHandler} sx={{ pl: 0.75, pr: 0.75, minWidth: '0px !important' }}>\r\n                <AddIcon fontSize=\"inherit\" />\r\n            </Button>\r\n        </ButtonGroup>\r\n    );\r\n};\r\n\r\nIncrement.propTypes = {\r\n    itemId: PropTypes.number,\r\n    quantity: PropTypes.number,\r\n    updateQuantity: PropTypes.func\r\n};\r\n\r\n// ==============================|| CART - MAIN ||============================== //\r\n\r\nconst Cart = ({ checkout, onNext, removeProduct, updateQuantity }) => {\r\n    const theme = useTheme();\r\n    const matchDownMD = useMediaQuery(theme.breakpoints.down('lg'));\r\n    const totalQuantity = sum(checkout.products.map((item) => item.quantity));\r\n    const [rows, setRows] = useState(checkout.products);\r\n\r\n    useEffect(() => {\r\n        setRows(checkout.products);\r\n    }, [checkout.products]);\r\n\r\n    return (\r\n        <Grid container spacing={gridSpacing}>\r\n            <Grid item xs={12}>\r\n                <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                    <Typography variant=\"subtitle1\">Cart Item</Typography>\r\n                    <Typography variant=\"caption\" sx={{ fontSize: '0.875rem' }}>\r\n                        ({totalQuantity})\r\n                    </Typography>\r\n                </Stack>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <TableContainer>\r\n                    <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n                        <TableHead\r\n                            sx={{\r\n                                borderTop: '1px solid',\r\n                                color: theme.palette.mode === 'dark' ? theme.palette.dark.light + 15 : 'grey.200'\r\n                            }}\r\n                        >\r\n                            <TableRow>\r\n                                <TableCell>Product</TableCell>\r\n                                <TableCell align=\"right\">Price</TableCell>\r\n                                <TableCell align=\"center\">Quantity</TableCell>\r\n                                <TableCell align=\"right\">Total</TableCell>\r\n                                <TableCell align=\"right\" />\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {rows.map((row, index) => {\r\n                                const colorsData = row.color ? getColor(row.color) : false;\r\n                                return (\r\n                                    <TableRow key={index} sx={{ '&:last-child td, &:last-child th': { border: 0 } }}>\r\n                                        <TableCell component=\"th\" scope=\"row\">\r\n                                            <Grid container alignItems=\"center\" spacing={2}>\r\n                                                <Grid item>\r\n                                                    <Avatar\r\n                                                        size=\"md\"\r\n                                                        variant=\"rounded\"\r\n                                                        src={row.image ? prodImage(`./${row.image}`).default : ''}\r\n                                                    />\r\n                                                </Grid>\r\n                                                <Grid item>\r\n                                                    <Stack spacing={0}>\r\n                                                        <Typography variant=\"subtitle1\">{row.name}</Typography>\r\n                                                        <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                                                            <Typography variant=\"subtitle2\" sx={{ fontWeight: 500 }}>\r\n                                                                Size:{' '}\r\n                                                                <Typography variant=\"caption\" component=\"span\">\r\n                                                                    {row.size}\r\n                                                                </Typography>\r\n                                                            </Typography>\r\n                                                            <Typography variant=\"caption\" sx={{ fontSize: '1rem' }}>\r\n                                                                |\r\n                                                            </Typography>\r\n\r\n                                                            <Typography variant=\"subtitle2\" sx={{ fontWeight: 500 }}>\r\n                                                                Color:{' '}\r\n                                                                <Typography variant=\"caption\" component=\"span\">\r\n                                                                    {colorsData ? colorsData[0].label : 'Multicolor'}\r\n                                                                </Typography>\r\n                                                            </Typography>\r\n                                                        </Stack>\r\n                                                    </Stack>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </TableCell>\r\n                                        <TableCell align=\"right\">\r\n                                            <Stack>\r\n                                                <Typography variant=\"subtitle1\">\r\n                                                    <CurrencyFormat\r\n                                                        decimalScale={2}\r\n                                                        fixedDecimalScale\r\n                                                        value={row.offerPrice}\r\n                                                        displayType=\"text\"\r\n                                                        thousandSeparator\r\n                                                        prefix=\"$\"\r\n                                                    />\r\n                                                </Typography>\r\n                                                <Typography variant=\"caption\" sx={{ textDecoration: 'line-through' }}>\r\n                                                    <CurrencyFormat\r\n                                                        decimalScale={2}\r\n                                                        fixedDecimalScale\r\n                                                        value={row.salePrice}\r\n                                                        displayType=\"text\"\r\n                                                        thousandSeparator\r\n                                                        prefix=\"$\"\r\n                                                    />\r\n                                                </Typography>\r\n                                            </Stack>\r\n                                        </TableCell>\r\n                                        <TableCell align=\"right\">\r\n                                            <Increment quantity={row.quantity} itemId={row.itemId} updateQuantity={updateQuantity} />\r\n                                        </TableCell>\r\n                                        <TableCell align=\"right\">\r\n                                            <Typography variant=\"subtitle1\">\r\n                                                <CurrencyFormat\r\n                                                    decimalScale={2}\r\n                                                    fixedDecimalScale\r\n                                                    value={row.offerPrice * row.quantity}\r\n                                                    displayType=\"text\"\r\n                                                    thousandSeparator\r\n                                                    prefix=\"$\"\r\n                                                />\r\n                                            </Typography>\r\n                                        </TableCell>\r\n                                        <TableCell align=\"right\">\r\n                                            <IconButton onClick={() => removeProduct(row.itemId)} size=\"large\">\r\n                                                <DeleteTwoToneIcon sx={{ color: 'grey.500' }} />\r\n                                            </IconButton>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                );\r\n                            })}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <OrderSummary checkout={checkout} />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <Grid direction={matchDownMD ? 'column-reverse' : 'row'} container spacing={3} alignItems={matchDownMD ? '' : 'center'}>\r\n                    <Grid item xs={12} md={7} lg={8}>\r\n                        <Button component={Link} to=\"/e-commerce/products\" variant=\"text\" startIcon={<KeyboardBackspaceIcon />}>\r\n                            Continue Shopping\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={5} lg={4}>\r\n                        <Stack spacing={gridSpacing}>\r\n                            <CartDiscount />\r\n                            <Button variant=\"contained\" fullWidth onClick={onNext}>\r\n                                Check Out\r\n                            </Button>\r\n                        </Stack>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nCart.propTypes = {\r\n    checkout: PropTypes.object,\r\n    updateQuantity: PropTypes.func,\r\n    removeProduct: PropTypes.func,\r\n    onNext: PropTypes.func\r\n};\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}