{"ast":null,"code":"import _objectSpread from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import{useDispatch,useSelector}from'react-redux';// material-ui\nimport{Box,Button,Divider,Drawer,Grid,Typography,Autocomplete,CardMedia,FormControl,FormControlLabel,MenuItem,Radio,RadioGroup,Select,Stack,TextField}from'@mui/material';import AdapterDateFns from'@mui/lab/AdapterDateFns';import LocalizationProvider from'@mui/lab/LocalizationProvider';import DesktopDatePicker from'@mui/lab/DesktopDatePicker';// third party\nimport*as yup from'yup';import PerfectScrollbar from'react-perfect-scrollbar';import{useFormik}from'formik';// project imports\nimport AddStoryComment from'./AddStoryComment';import StoryComment from'./StoryComment';import AlertStoryDelete from'./AlertStoryDelete';import AnimateButton from'ui-component/extended/AnimateButton';import{DELETE_STORY,EDIT_STORY,SNACKBAR_OPEN}from'store/actions';// assets\nimport DeleteTwoToneIcon from'@mui/icons-material/DeleteTwoTone';import HighlightOffIcon from'@mui/icons-material/HighlightOff';import imgMain from'assets/images/profile/profile-back-1.png';import AddRoundedIcon from'@mui/icons-material/AddRounded';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var avatarImage=require.context('assets/images/users',true);var validationSchema=yup.object({title:yup.string().required('User story title is required'),dueDate:yup.date()});// ==============================|| KANBAN BACKLOGS - EDIT STORY ||============================== //\nvar EditStory=function EditStory(_ref){var story=_ref.story,open=_ref.open,handleDrawerOpen=_ref.handleDrawerOpen;var dispatch=useDispatch();var kanban=useSelector(function(state){return state.kanban;});var profiles=kanban.profiles,columns=kanban.columns,comments=kanban.comments;var formik=useFormik({enableReinitialize:true,initialValues:{id:story.id,title:story.title,assign:story.assign,columnId:story.columnId,priority:story.priority,dueDate:story.dueDate?new Date(story.dueDate):new Date(),acceptance:story.acceptance,description:story.description,commentIds:story.commentIds,image:false,itemIds:story.itemIds},validationSchema:validationSchema,onSubmit:function onSubmit(values){dispatch({type:EDIT_STORY,payload:{story:values}});dispatch({type:SNACKBAR_OPEN,open:true,message:'Submit Success',variant:'alert',alertSeverity:'success'});handleDrawerOpen();}});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openModal=_useState2[0],setOpenModal=_useState2[1];var handleModalClose=function handleModalClose(status){setOpenModal(false);if(status){handleDrawerOpen();dispatch({type:DELETE_STORY,payload:{storyId:story.id}});dispatch({type:SNACKBAR_OPEN,open:true,message:'Story Deleted successfully',variant:'alert',anchorOrigin:{vertical:'top',horizontal:'right'},alertSeverity:'success'});}};return/*#__PURE__*/_jsxs(Drawer,{sx:{ml:open?3:0,flexShrink:0,zIndex:1200,overflowX:'hidden',width:{xs:320,md:450},'& .MuiDrawer-paper':{height:'100vh',width:{xs:320,md:450},position:'fixed',border:'none',borderRadius:'0px'}},variant:\"temporary\",anchor:\"right\",open:open,ModalProps:{keepMounted:true},onClose:function onClose(){handleDrawerOpen();formik.resetForm();},children:[/*#__PURE__*/_jsx(Box,{sx:{p:3},children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:0.5,justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(Grid,{item:true,sx:{width:'calc(100% - 50px)'},children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:0.5,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Button,{variant:\"text\",color:\"error\",sx:{p:0.5,minWidth:32,display:{xs:'block',md:'none'}},onClick:handleDrawerOpen,children:/*#__PURE__*/_jsx(HighlightOffIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{display:'inline-block',width:'calc(100% - 34px)',textOverflow:'ellipsis',whiteSpace:'nowrap',overflow:'hidden',verticalAlign:'middle'},children:story.title})]})}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[/*#__PURE__*/_jsx(Button,{variant:\"text\",color:\"error\",sx:{p:0.5,minWidth:32},onClick:function onClick(){return setOpenModal(true);},children:/*#__PURE__*/_jsx(DeleteTwoToneIcon,{})}),/*#__PURE__*/_jsx(AlertStoryDelete,{title:story.title,open:openModal,handleClose:handleModalClose})]})]})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(PerfectScrollbar,{component:\"div\",children:/*#__PURE__*/_jsx(Box,{sx:{p:3},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(\"form\",{onSubmit:formik.handleSubmit,children:/*#__PURE__*/_jsx(LocalizationProvider,{dateAdapter:AdapterDateFns,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"title\",name:\"title\",label:\"Title\",defaultValue:formik.values.title,onChange:formik.handleChange,error:formik.touched.title&&Boolean(formik.errors.title),helperText:formik.touched.title&&formik.errors.title})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Assign to:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"flex-start\",children:/*#__PURE__*/_jsx(Autocomplete,{id:\"assign\",value:profiles.find(function(profile){return profile.id===formik.values.assign;})||null,onChange:function onChange(event,value){formik.setFieldValue('assign',value===null||value===void 0?void 0:value.id);},options:profiles,fullWidth:true,autoHighlight:true,getOptionLabel:function getOptionLabel(option){return option.name;},renderOption:function renderOption(props,option){return/*#__PURE__*/_jsxs(Box,_objectSpread(_objectSpread({component:\"li\",sx:{'& > img':{mr:2,flexShrink:0}}},props),{},{children:[/*#__PURE__*/_jsx(\"img\",{loading:\"lazy\",width:\"20\",src:avatarImage(\"./\".concat(option.avatar)).default,alt:\"\"}),option.name]}));},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"Choose a assignee\",inputProps:_objectSpread(_objectSpread({},params.inputProps),{},{autoComplete:'new-password'// disable autocomplete and autofill\n})}));}})})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Prioritize:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsxs(RadioGroup,{row:true,\"aria-label\":\"color\",value:formik.values.priority,onChange:formik.handleChange,name:\"priority\",id:\"priority\",children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"low\",control:/*#__PURE__*/_jsx(Radio,{color:\"primary\",sx:{color:'primary.main'}}),label:\"Low\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"medium\",control:/*#__PURE__*/_jsx(Radio,{color:\"warning\",sx:{color:'warning.main'}}),label:\"Medium\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"high\",control:/*#__PURE__*/_jsx(Radio,{color:\"error\",sx:{color:'error.main'}}),label:\"High\"})]})})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Due date:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsx(DesktopDatePicker,{label:\"Due Date\",value:formik.values.dueDate,inputFormat:\"dd/MM/yyyy\",onChange:function onChange(date){formik.setFieldValue('dueDate',date);},renderInput:function renderInput(props){return/*#__PURE__*/_jsx(TextField,_objectSpread({fullWidth:true},props));}})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Acceptance:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"acceptance\",name:\"acceptance\",multiline:true,rows:3,defaultValue:formik.values.acceptance,onChange:formik.handleChange,error:formik.touched.acceptance&&Boolean(formik.errors.acceptance),helperText:formik.touched.acceptance&&formik.errors.acceptance})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Description:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"description\",name:\"description\",multiline:true,rows:3,defaultValue:formik.values.description,onChange:formik.handleChange,error:formik.touched.description&&Boolean(formik.errors.description),helperText:formik.touched.description&&formik.errors.description})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"State:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsx(FormControl,{fullWidth:true,sx:{m:1},children:/*#__PURE__*/_jsx(Select,{id:\"columnId\",name:\"columnId\",displayEmpty:true,value:formik.values.columnId,onChange:formik.handleChange,inputProps:{'aria-label':'Without label'},children:columns.map(function(column,index){return/*#__PURE__*/_jsx(MenuItem,{value:column.id,children:column.title},index);})})})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Attachments:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(CardMedia,{component:\"img\",image:imgMain,sx:{width:60,height:60,borderRadius:1},title:\"Slider5 image\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"large\",sx:{p:2},children:/*#__PURE__*/_jsx(AddRoundedIcon,{})})})]})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(AnimateButton,{children:/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"contained\",type:\"submit\",children:\"Save\"})})})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:(story===null||story===void 0?void 0:story.commentIds)&&(story===null||story===void 0?void 0:story.commentIds.reverse().map(function(commentId,index){var commentData=comments.filter(function(comment){return comment.id===commentId;})[0];var profile=profiles.filter(function(item){return item.id===commentData.profileId;})[0];return/*#__PURE__*/_jsx(StoryComment,{comment:commentData,profile:profile},index);}))}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(AddStoryComment,{storyId:story.id})})]})})})]});};export default EditStory;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/views/application/kanban/Backlogs/EditStory.js"],"names":["useState","useDispatch","useSelector","Box","Button","Divider","Drawer","Grid","Typography","Autocomplete","CardMedia","FormControl","FormControlLabel","MenuItem","Radio","RadioGroup","Select","Stack","TextField","AdapterDateFns","LocalizationProvider","DesktopDatePicker","yup","PerfectScrollbar","useFormik","AddStoryComment","StoryComment","AlertStoryDelete","AnimateButton","DELETE_STORY","EDIT_STORY","SNACKBAR_OPEN","DeleteTwoToneIcon","HighlightOffIcon","imgMain","AddRoundedIcon","avatarImage","require","context","validationSchema","object","title","string","required","dueDate","date","EditStory","story","open","handleDrawerOpen","dispatch","kanban","state","profiles","columns","comments","formik","enableReinitialize","initialValues","id","assign","columnId","priority","Date","acceptance","description","commentIds","image","itemIds","onSubmit","values","type","payload","message","variant","alertSeverity","openModal","setOpenModal","handleModalClose","status","storyId","anchorOrigin","vertical","horizontal","ml","flexShrink","zIndex","overflowX","width","xs","md","height","position","border","borderRadius","keepMounted","resetForm","p","minWidth","display","textOverflow","whiteSpace","overflow","verticalAlign","handleSubmit","handleChange","touched","Boolean","errors","find","profile","event","value","setFieldValue","option","name","props","mr","avatar","default","params","inputProps","autoComplete","color","m","map","column","index","reverse","commentId","commentData","filter","comment","item","profileId"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n// material-ui\r\nimport {\r\n    Box,\r\n    Button,\r\n    Divider,\r\n    Drawer,\r\n    Grid,\r\n    Typography,\r\n    Autocomplete,\r\n    CardMedia,\r\n    FormControl,\r\n    FormControlLabel,\r\n    MenuItem,\r\n    Radio,\r\n    RadioGroup,\r\n    Select,\r\n    Stack,\r\n    TextField\r\n} from '@mui/material';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DesktopDatePicker from '@mui/lab/DesktopDatePicker';\r\n\r\n// third party\r\nimport * as yup from 'yup';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { useFormik } from 'formik';\r\n\r\n// project imports\r\nimport AddStoryComment from './AddStoryComment';\r\nimport StoryComment from './StoryComment';\r\nimport AlertStoryDelete from './AlertStoryDelete';\r\nimport AnimateButton from 'ui-component/extended/AnimateButton';\r\nimport { DELETE_STORY, EDIT_STORY, SNACKBAR_OPEN } from 'store/actions';\r\n\r\n// assets\r\nimport DeleteTwoToneIcon from '@mui/icons-material/DeleteTwoTone';\r\nimport HighlightOffIcon from '@mui/icons-material/HighlightOff';\r\nimport imgMain from 'assets/images/profile/profile-back-1.png';\r\nimport AddRoundedIcon from '@mui/icons-material/AddRounded';\r\n\r\nconst avatarImage = require.context('assets/images/users', true);\r\nconst validationSchema = yup.object({\r\n    title: yup.string().required('User story title is required'),\r\n    dueDate: yup.date()\r\n});\r\n\r\n// ==============================|| KANBAN BACKLOGS - EDIT STORY ||============================== //\r\n\r\nconst EditStory = ({ story, open, handleDrawerOpen }) => {\r\n    const dispatch = useDispatch();\r\n    const kanban = useSelector((state) => state.kanban);\r\n    const { profiles, columns, comments } = kanban;\r\n\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            id: story.id,\r\n            title: story.title,\r\n            assign: story.assign,\r\n            columnId: story.columnId,\r\n            priority: story.priority,\r\n            dueDate: story.dueDate ? new Date(story.dueDate) : new Date(),\r\n            acceptance: story.acceptance,\r\n            description: story.description,\r\n            commentIds: story.commentIds,\r\n            image: false,\r\n            itemIds: story.itemIds\r\n        },\r\n        validationSchema,\r\n        onSubmit: (values) => {\r\n            dispatch({\r\n                type: EDIT_STORY,\r\n                payload: { story: values }\r\n            });\r\n            dispatch({\r\n                type: SNACKBAR_OPEN,\r\n                open: true,\r\n                message: 'Submit Success',\r\n                variant: 'alert',\r\n                alertSeverity: 'success'\r\n            });\r\n            handleDrawerOpen();\r\n        }\r\n    });\r\n\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const handleModalClose = (status) => {\r\n        setOpenModal(false);\r\n        if (status) {\r\n            handleDrawerOpen();\r\n            dispatch({\r\n                type: DELETE_STORY,\r\n                payload: {\r\n                    storyId: story.id\r\n                }\r\n            });\r\n\r\n            dispatch({\r\n                type: SNACKBAR_OPEN,\r\n                open: true,\r\n                message: 'Story Deleted successfully',\r\n                variant: 'alert',\r\n                anchorOrigin: { vertical: 'top', horizontal: 'right' },\r\n                alertSeverity: 'success'\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Drawer\r\n            sx={{\r\n                ml: open ? 3 : 0,\r\n                flexShrink: 0,\r\n                zIndex: 1200,\r\n                overflowX: 'hidden',\r\n                width: { xs: 320, md: 450 },\r\n                '& .MuiDrawer-paper': {\r\n                    height: '100vh',\r\n                    width: { xs: 320, md: 450 },\r\n                    position: 'fixed',\r\n                    border: 'none',\r\n                    borderRadius: '0px'\r\n                }\r\n            }}\r\n            variant=\"temporary\"\r\n            anchor=\"right\"\r\n            open={open}\r\n            ModalProps={{ keepMounted: true }}\r\n            onClose={() => {\r\n                handleDrawerOpen();\r\n                formik.resetForm();\r\n            }}\r\n        >\r\n            <Box sx={{ p: 3 }}>\r\n                <Grid container alignItems=\"center\" spacing={0.5} justifyContent=\"space-between\">\r\n                    <Grid item sx={{ width: 'calc(100% - 50px)' }}>\r\n                        <Stack direction=\"row\" spacing={0.5} alignItems=\"center\">\r\n                            <Button\r\n                                variant=\"text\"\r\n                                color=\"error\"\r\n                                sx={{ p: 0.5, minWidth: 32, display: { xs: 'block', md: 'none' } }}\r\n                                onClick={handleDrawerOpen}\r\n                            >\r\n                                <HighlightOffIcon />\r\n                            </Button>\r\n                            <Typography\r\n                                variant=\"h4\"\r\n                                sx={{\r\n                                    display: 'inline-block',\r\n                                    width: 'calc(100% - 34px)',\r\n                                    textOverflow: 'ellipsis',\r\n                                    whiteSpace: 'nowrap',\r\n                                    overflow: 'hidden',\r\n                                    verticalAlign: 'middle'\r\n                                }}\r\n                            >\r\n                                {story.title}\r\n                            </Typography>\r\n                        </Stack>\r\n                    </Grid>\r\n\r\n                    <Grid item>\r\n                        <Button variant=\"text\" color=\"error\" sx={{ p: 0.5, minWidth: 32 }} onClick={() => setOpenModal(true)}>\r\n                            <DeleteTwoToneIcon />\r\n                        </Button>\r\n                        <AlertStoryDelete title={story.title} open={openModal} handleClose={handleModalClose} />\r\n                    </Grid>\r\n                </Grid>\r\n            </Box>\r\n            <Divider />\r\n            <PerfectScrollbar component=\"div\">\r\n                <Box sx={{ p: 3 }}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <form onSubmit={formik.handleSubmit}>\r\n                                <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                                    <Grid container spacing={3}>\r\n                                        <Grid item xs={12}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                id=\"title\"\r\n                                                name=\"title\"\r\n                                                label=\"Title\"\r\n                                                defaultValue={formik.values.title}\r\n                                                onChange={formik.handleChange}\r\n                                                error={formik.touched.title && Boolean(formik.errors.title)}\r\n                                                helperText={formik.touched.title && formik.errors.title}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <Grid container alignItems=\"center\" spacing={2}>\r\n                                                <Grid item xs={12} sm={4}>\r\n                                                    <Typography variant=\"subtitle1\">Assign to:</Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8}>\r\n                                                    <Grid container justifyContent=\"flex-start\">\r\n                                                        <Autocomplete\r\n                                                            id=\"assign\"\r\n                                                            value={profiles.find((profile) => profile.id === formik.values.assign) || null}\r\n                                                            onChange={(event, value) => {\r\n                                                                formik.setFieldValue('assign', value?.id);\r\n                                                            }}\r\n                                                            options={profiles}\r\n                                                            fullWidth\r\n                                                            autoHighlight\r\n                                                            getOptionLabel={(option) => option.name}\r\n                                                            renderOption={(props, option) => (\r\n                                                                <Box component=\"li\" sx={{ '& > img': { mr: 2, flexShrink: 0 } }} {...props}>\r\n                                                                    <img\r\n                                                                        loading=\"lazy\"\r\n                                                                        width=\"20\"\r\n                                                                        src={avatarImage(`./${option.avatar}`).default}\r\n                                                                        alt=\"\"\r\n                                                                    />\r\n                                                                    {option.name}\r\n                                                                </Box>\r\n                                                            )}\r\n                                                            renderInput={(params) => (\r\n                                                                <TextField\r\n                                                                    {...params}\r\n                                                                    label=\"Choose a assignee\"\r\n                                                                    inputProps={{\r\n                                                                        ...params.inputProps,\r\n                                                                        autoComplete: 'new-password' // disable autocomplete and autofill\r\n                                                                    }}\r\n                                                                />\r\n                                                            )}\r\n                                                        />\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <Grid container alignItems=\"center\" spacing={2}>\r\n                                                <Grid item xs={12} sm={4}>\r\n                                                    <Typography variant=\"subtitle1\">Prioritize:</Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8}>\r\n                                                    <FormControl>\r\n                                                        <RadioGroup\r\n                                                            row\r\n                                                            aria-label=\"color\"\r\n                                                            value={formik.values.priority}\r\n                                                            onChange={formik.handleChange}\r\n                                                            name=\"priority\"\r\n                                                            id=\"priority\"\r\n                                                        >\r\n                                                            <FormControlLabel\r\n                                                                value=\"low\"\r\n                                                                control={<Radio color=\"primary\" sx={{ color: 'primary.main' }} />}\r\n                                                                label=\"Low\"\r\n                                                            />\r\n                                                            <FormControlLabel\r\n                                                                value=\"medium\"\r\n                                                                control={<Radio color=\"warning\" sx={{ color: 'warning.main' }} />}\r\n                                                                label=\"Medium\"\r\n                                                            />\r\n                                                            <FormControlLabel\r\n                                                                value=\"high\"\r\n                                                                control={<Radio color=\"error\" sx={{ color: 'error.main' }} />}\r\n                                                                label=\"High\"\r\n                                                            />\r\n                                                        </RadioGroup>\r\n                                                    </FormControl>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <Grid container alignItems=\"center\" spacing={2}>\r\n                                                <Grid item xs={12} sm={4}>\r\n                                                    <Typography variant=\"subtitle1\">Due date:</Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8}>\r\n                                                    <DesktopDatePicker\r\n                                                        label=\"Due Date\"\r\n                                                        value={formik.values.dueDate}\r\n                                                        inputFormat=\"dd/MM/yyyy\"\r\n                                                        onChange={(date) => {\r\n                                                            formik.setFieldValue('dueDate', date);\r\n                                                        }}\r\n                                                        renderInput={(props) => <TextField fullWidth {...props} />}\r\n                                                    />\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <Grid container alignItems=\"center\" spacing={2}>\r\n                                                <Grid item xs={12} sm={4}>\r\n                                                    <Typography variant=\"subtitle1\">Acceptance:</Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8}>\r\n                                                    <TextField\r\n                                                        fullWidth\r\n                                                        id=\"acceptance\"\r\n                                                        name=\"acceptance\"\r\n                                                        multiline\r\n                                                        rows={3}\r\n                                                        defaultValue={formik.values.acceptance}\r\n                                                        onChange={formik.handleChange}\r\n                                                        error={formik.touched.acceptance && Boolean(formik.errors.acceptance)}\r\n                                                        helperText={formik.touched.acceptance && formik.errors.acceptance}\r\n                                                    />\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <Grid container alignItems=\"center\" spacing={2}>\r\n                                                <Grid item xs={12} sm={4}>\r\n                                                    <Typography variant=\"subtitle1\">Description:</Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8}>\r\n                                                    <TextField\r\n                                                        fullWidth\r\n                                                        id=\"description\"\r\n                                                        name=\"description\"\r\n                                                        multiline\r\n                                                        rows={3}\r\n                                                        defaultValue={formik.values.description}\r\n                                                        onChange={formik.handleChange}\r\n                                                        error={formik.touched.description && Boolean(formik.errors.description)}\r\n                                                        helperText={formik.touched.description && formik.errors.description}\r\n                                                    />\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <Grid container alignItems=\"center\" spacing={2}>\r\n                                                <Grid item xs={12} sm={4}>\r\n                                                    <Typography variant=\"subtitle1\">State:</Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8}>\r\n                                                    <FormControl fullWidth sx={{ m: 1 }}>\r\n                                                        <Select\r\n                                                            id=\"columnId\"\r\n                                                            name=\"columnId\"\r\n                                                            displayEmpty\r\n                                                            value={formik.values.columnId}\r\n                                                            onChange={formik.handleChange}\r\n                                                            inputProps={{ 'aria-label': 'Without label' }}\r\n                                                        >\r\n                                                            {columns.map((column, index) => (\r\n                                                                <MenuItem key={index} value={column.id}>\r\n                                                                    {column.title}\r\n                                                                </MenuItem>\r\n                                                            ))}\r\n                                                        </Select>\r\n                                                    </FormControl>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <Grid container alignItems=\"center\" spacing={2}>\r\n                                                <Grid item xs={12} sm={4}>\r\n                                                    <Typography variant=\"subtitle1\">Attachments:</Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8}>\r\n                                                    <Grid container alignItems=\"center\" spacing={2}>\r\n                                                        <Grid item>\r\n                                                            <CardMedia\r\n                                                                component=\"img\"\r\n                                                                image={imgMain}\r\n                                                                sx={{ width: 60, height: 60, borderRadius: 1 }}\r\n                                                                title=\"Slider5 image\"\r\n                                                            />\r\n                                                        </Grid>\r\n                                                        <Grid item>\r\n                                                            <Button variant=\"outlined\" size=\"large\" sx={{ p: 2 }}>\r\n                                                                <AddRoundedIcon />\r\n                                                            </Button>\r\n                                                        </Grid>\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12}>\r\n                                            <AnimateButton>\r\n                                                <Button fullWidth variant=\"contained\" type=\"submit\">\r\n                                                    Save\r\n                                                </Button>\r\n                                            </AnimateButton>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </LocalizationProvider>\r\n                            </form>\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            {story?.commentIds &&\r\n                                story?.commentIds.reverse().map((commentId, index) => {\r\n                                    const commentData = comments.filter((comment) => comment.id === commentId)[0];\r\n                                    const profile = profiles.filter((item) => item.id === commentData.profileId)[0];\r\n                                    return <StoryComment key={index} comment={commentData} profile={profile} />;\r\n                                })}\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <AddStoryComment storyId={story.id} />\r\n                        </Grid>\r\n                    </Grid>\r\n                </Box>\r\n            </PerfectScrollbar>\r\n        </Drawer>\r\n    );\r\n};\r\n\r\nEditStory.propTypes = {\r\n    open: PropTypes.bool,\r\n    handleDrawerOpen: PropTypes.func,\r\n    story: PropTypes.object\r\n};\r\n\r\nexport default EditStory;\r\n"]},"metadata":{},"sourceType":"module"}