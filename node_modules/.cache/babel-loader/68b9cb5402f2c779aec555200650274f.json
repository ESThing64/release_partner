{"ast":null,"code":"import _objectSpread from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useDispatch,useSelector}from'react-redux';// material-ui\nimport{Box,Button,Drawer,Grid,Typography,Autocomplete,CardMedia,FormControl,FormControlLabel,MenuItem,Radio,RadioGroup,Select,TextField}from'@mui/material';import AdapterDateFns from'@mui/lab/AdapterDateFns';import LocalizationProvider from'@mui/lab/LocalizationProvider';import DesktopDatePicker from'@mui/lab/DesktopDatePicker';// third party\nimport*as yup from'yup';import{Chance}from'chance';import{useFormik}from'formik';// project imports\nimport AnimateButton from'ui-component/extended/AnimateButton';import{ADD_ITEM,SNACKBAR_OPEN}from'store/actions';// assets\nimport imgMain from'assets/images/profile/profile-back-1.png';import AddRoundedIcon from'@mui/icons-material/AddRounded';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var chance=new Chance();var avatarImage=require.context('assets/images/users',true);var validationSchema=yup.object({title:yup.string().required('Task title is required'),dueDate:yup.date()});// ==============================|| KANBAN BACKLOGS - ADD ITEM ||============================== //\nvar AddItem=function AddItem(_ref){var open=_ref.open,handleDrawerOpen=_ref.handleDrawerOpen,storyId=_ref.storyId;var dispatch=useDispatch();var kanban=useSelector(function(state){return state.kanban;});var profiles=kanban.profiles,columns=kanban.columns;var formik=useFormik({initialValues:{id:\"\".concat(chance.integer({min:1000,max:9999})),title:'',assign:null,priority:'low',dueDate:new Date(),description:'',commentIds:'',image:false,storyId:'',columnId:columns[0].id},validationSchema:validationSchema,onSubmit:function onSubmit(values){dispatch({type:ADD_ITEM,payload:{item:{id:values.id,title:values.title,assign:values.assign,priority:values.priority,dueDate:values.dueDate?new Date(values.dueDate):new Date(),description:values.description,commentIds:values.commentIds,image:values.image},storyId:storyId,columnId:values.columnId}});dispatch({type:SNACKBAR_OPEN,open:true,message:'Submit Success',variant:'alert',alertSeverity:'success'});handleDrawerOpen();}});return/*#__PURE__*/_jsx(Drawer,{sx:{ml:open?3:0,flexShrink:0,zIndex:1200,overflowX:'hidden',width:{xs:320,md:450},'& .MuiDrawer-paper':{height:'100vh',width:{xs:320,md:450},position:'fixed',border:'none',borderRadius:'0px'}},variant:\"temporary\",anchor:\"right\",open:open,ModalProps:{keepMounted:true},onClose:handleDrawerOpen,children:/*#__PURE__*/_jsx(Box,{sx:{p:3},children:/*#__PURE__*/_jsx(\"form\",{onSubmit:formik.handleSubmit,children:/*#__PURE__*/_jsx(LocalizationProvider,{dateAdapter:AdapterDateFns,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Add Task\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"title\",name:\"title\",label:\"Title\",defaultValue:formik.values.title,onChange:formik.handleChange,error:formik.touched.title&&Boolean(formik.errors.title),helperText:formik.touched.title&&formik.errors.title})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Assign to:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"flex-start\",children:/*#__PURE__*/_jsx(Autocomplete,{id:\"assign\",value:profiles.find(function(profile){return profile.id===formik.values.assign;})||null,onChange:function onChange(event,value){formik.setFieldValue('assign',value===null||value===void 0?void 0:value.id);},options:profiles,fullWidth:true,autoHighlight:true,getOptionLabel:function getOptionLabel(option){return option.name;},renderOption:function renderOption(props,option){return/*#__PURE__*/_jsxs(Box,_objectSpread(_objectSpread({component:\"li\",sx:{'& > img':{mr:2,flexShrink:0}}},props),{},{children:[/*#__PURE__*/_jsx(\"img\",{loading:\"lazy\",width:\"20\",src:avatarImage(\"./\".concat(option.avatar)).default,alt:\"\"}),option.name]}));},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"Choose a assignee\",inputProps:_objectSpread(_objectSpread({},params.inputProps),{},{autoComplete:'new-password'// disable autocomplete and autofill\n})}));}})})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Prioritize:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsxs(RadioGroup,{row:true,\"aria-label\":\"color\",value:formik.values.priority,onChange:formik.handleChange,name:\"priority\",id:\"priority\",children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"low\",control:/*#__PURE__*/_jsx(Radio,{color:\"primary\",sx:{color:'primary.main'}}),label:\"Low\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"medium\",control:/*#__PURE__*/_jsx(Radio,{color:\"warning\",sx:{color:'warning.main'}}),label:\"Medium\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"high\",control:/*#__PURE__*/_jsx(Radio,{color:\"error\",sx:{color:'error.main'}}),label:\"High\"})]})})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Due date:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsx(DesktopDatePicker,{label:\"Due Date\",value:formik.values.dueDate,inputFormat:\"dd/MM/yyyy\",onChange:function onChange(date){formik.setFieldValue('dueDate',date);},renderInput:function renderInput(props){return/*#__PURE__*/_jsx(TextField,_objectSpread({fullWidth:true},props));}})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Description:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"description\",name:\"description\",multiline:true,rows:3,defaultValue:formik.values.description,onChange:formik.handleChange,error:formik.touched.description&&Boolean(formik.errors.description),helperText:formik.touched.description&&formik.errors.description})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"State:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsx(FormControl,{fullWidth:true,sx:{m:1},children:/*#__PURE__*/_jsx(Select,{id:\"columnId\",name:\"columnId\",displayEmpty:true,value:formik.values.columnId,onChange:formik.handleChange,inputProps:{'aria-label':'Without label'},children:columns.map(function(column,index){return/*#__PURE__*/_jsx(MenuItem,{value:column.id,children:column.title},index);})})})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Attachments:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(CardMedia,{component:\"img\",image:imgMain,sx:{width:60,height:60,borderRadius:1},title:\"Slider5 image\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"large\",sx:{p:2},children:/*#__PURE__*/_jsx(AddRoundedIcon,{})})})]})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(AnimateButton,{children:/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"contained\",type:\"submit\",children:\"Save\"})})})]})})})})});};export default AddItem;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/views/application/kanban/Backlogs/AddItem.js"],"names":["useDispatch","useSelector","Box","Button","Drawer","Grid","Typography","Autocomplete","CardMedia","FormControl","FormControlLabel","MenuItem","Radio","RadioGroup","Select","TextField","AdapterDateFns","LocalizationProvider","DesktopDatePicker","yup","Chance","useFormik","AnimateButton","ADD_ITEM","SNACKBAR_OPEN","imgMain","AddRoundedIcon","chance","avatarImage","require","context","validationSchema","object","title","string","required","dueDate","date","AddItem","open","handleDrawerOpen","storyId","dispatch","kanban","state","profiles","columns","formik","initialValues","id","integer","min","max","assign","priority","Date","description","commentIds","image","columnId","onSubmit","values","type","payload","item","message","variant","alertSeverity","ml","flexShrink","zIndex","overflowX","width","xs","md","height","position","border","borderRadius","keepMounted","p","handleSubmit","handleChange","touched","Boolean","errors","find","profile","event","value","setFieldValue","option","name","props","mr","avatar","default","params","inputProps","autoComplete","color","m","map","column","index"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n// material-ui\r\nimport {\r\n    Box,\r\n    Button,\r\n    Drawer,\r\n    Grid,\r\n    Typography,\r\n    Autocomplete,\r\n    CardMedia,\r\n    FormControl,\r\n    FormControlLabel,\r\n    MenuItem,\r\n    Radio,\r\n    RadioGroup,\r\n    Select,\r\n    TextField\r\n} from '@mui/material';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DesktopDatePicker from '@mui/lab/DesktopDatePicker';\r\n\r\n// third party\r\nimport * as yup from 'yup';\r\nimport { Chance } from 'chance';\r\nimport { useFormik } from 'formik';\r\n\r\n// project imports\r\nimport AnimateButton from 'ui-component/extended/AnimateButton';\r\nimport { ADD_ITEM, SNACKBAR_OPEN } from 'store/actions';\r\n\r\n// assets\r\nimport imgMain from 'assets/images/profile/profile-back-1.png';\r\nimport AddRoundedIcon from '@mui/icons-material/AddRounded';\r\n\r\nconst chance = new Chance();\r\nconst avatarImage = require.context('assets/images/users', true);\r\nconst validationSchema = yup.object({\r\n    title: yup.string().required('Task title is required'),\r\n    dueDate: yup.date()\r\n});\r\n\r\n// ==============================|| KANBAN BACKLOGS - ADD ITEM ||============================== //\r\n\r\nconst AddItem = ({ open, handleDrawerOpen, storyId }) => {\r\n    const dispatch = useDispatch();\r\n    const kanban = useSelector((state) => state.kanban);\r\n    const { profiles, columns } = kanban;\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            id: `${chance.integer({ min: 1000, max: 9999 })}`,\r\n            title: '',\r\n            assign: null,\r\n            priority: 'low',\r\n            dueDate: new Date(),\r\n            description: '',\r\n            commentIds: '',\r\n            image: false,\r\n            storyId: '',\r\n            columnId: columns[0].id\r\n        },\r\n        validationSchema,\r\n        onSubmit: (values) => {\r\n            dispatch({\r\n                type: ADD_ITEM,\r\n                payload: {\r\n                    item: {\r\n                        id: values.id,\r\n                        title: values.title,\r\n                        assign: values.assign,\r\n                        priority: values.priority,\r\n                        dueDate: values.dueDate ? new Date(values.dueDate) : new Date(),\r\n                        description: values.description,\r\n                        commentIds: values.commentIds,\r\n                        image: values.image\r\n                    },\r\n                    storyId,\r\n                    columnId: values.columnId\r\n                }\r\n            });\r\n            dispatch({\r\n                type: SNACKBAR_OPEN,\r\n                open: true,\r\n                message: 'Submit Success',\r\n                variant: 'alert',\r\n                alertSeverity: 'success'\r\n            });\r\n            handleDrawerOpen();\r\n        }\r\n    });\r\n\r\n    return (\r\n        <Drawer\r\n            sx={{\r\n                ml: open ? 3 : 0,\r\n                flexShrink: 0,\r\n                zIndex: 1200,\r\n                overflowX: 'hidden',\r\n                width: { xs: 320, md: 450 },\r\n                '& .MuiDrawer-paper': {\r\n                    height: '100vh',\r\n                    width: { xs: 320, md: 450 },\r\n                    position: 'fixed',\r\n                    border: 'none',\r\n                    borderRadius: '0px'\r\n                }\r\n            }}\r\n            variant=\"temporary\"\r\n            anchor=\"right\"\r\n            open={open}\r\n            ModalProps={{ keepMounted: true }}\r\n            onClose={handleDrawerOpen}\r\n        >\r\n            <Box sx={{ p: 3 }}>\r\n                <form onSubmit={formik.handleSubmit}>\r\n                    <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                        <Grid container spacing={3}>\r\n                            <Grid item xs={12}>\r\n                                <Typography variant=\"h4\">Add Task</Typography>\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    id=\"title\"\r\n                                    name=\"title\"\r\n                                    label=\"Title\"\r\n                                    defaultValue={formik.values.title}\r\n                                    onChange={formik.handleChange}\r\n                                    error={formik.touched.title && Boolean(formik.errors.title)}\r\n                                    helperText={formik.touched.title && formik.errors.title}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <Grid container alignItems=\"center\" spacing={2}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                        <Typography variant=\"subtitle1\">Assign to:</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={8}>\r\n                                        <Grid container justifyContent=\"flex-start\">\r\n                                            <Autocomplete\r\n                                                id=\"assign\"\r\n                                                value={profiles.find((profile) => profile.id === formik.values.assign) || null}\r\n                                                onChange={(event, value) => {\r\n                                                    formik.setFieldValue('assign', value?.id);\r\n                                                }}\r\n                                                options={profiles}\r\n                                                fullWidth\r\n                                                autoHighlight\r\n                                                getOptionLabel={(option) => option.name}\r\n                                                renderOption={(props, option) => (\r\n                                                    <Box component=\"li\" sx={{ '& > img': { mr: 2, flexShrink: 0 } }} {...props}>\r\n                                                        <img\r\n                                                            loading=\"lazy\"\r\n                                                            width=\"20\"\r\n                                                            src={avatarImage(`./${option.avatar}`).default}\r\n                                                            alt=\"\"\r\n                                                        />\r\n                                                        {option.name}\r\n                                                    </Box>\r\n                                                )}\r\n                                                renderInput={(params) => (\r\n                                                    <TextField\r\n                                                        {...params}\r\n                                                        label=\"Choose a assignee\"\r\n                                                        inputProps={{\r\n                                                            ...params.inputProps,\r\n                                                            autoComplete: 'new-password' // disable autocomplete and autofill\r\n                                                        }}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <Grid container alignItems=\"center\" spacing={2}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                        <Typography variant=\"subtitle1\">Prioritize:</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={8}>\r\n                                        <FormControl>\r\n                                            <RadioGroup\r\n                                                row\r\n                                                aria-label=\"color\"\r\n                                                value={formik.values.priority}\r\n                                                onChange={formik.handleChange}\r\n                                                name=\"priority\"\r\n                                                id=\"priority\"\r\n                                            >\r\n                                                <FormControlLabel\r\n                                                    value=\"low\"\r\n                                                    control={<Radio color=\"primary\" sx={{ color: 'primary.main' }} />}\r\n                                                    label=\"Low\"\r\n                                                />\r\n                                                <FormControlLabel\r\n                                                    value=\"medium\"\r\n                                                    control={<Radio color=\"warning\" sx={{ color: 'warning.main' }} />}\r\n                                                    label=\"Medium\"\r\n                                                />\r\n                                                <FormControlLabel\r\n                                                    value=\"high\"\r\n                                                    control={<Radio color=\"error\" sx={{ color: 'error.main' }} />}\r\n                                                    label=\"High\"\r\n                                                />\r\n                                            </RadioGroup>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <Grid container alignItems=\"center\" spacing={2}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                        <Typography variant=\"subtitle1\">Due date:</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={8}>\r\n                                        <DesktopDatePicker\r\n                                            label=\"Due Date\"\r\n                                            value={formik.values.dueDate}\r\n                                            inputFormat=\"dd/MM/yyyy\"\r\n                                            onChange={(date) => {\r\n                                                formik.setFieldValue('dueDate', date);\r\n                                            }}\r\n                                            renderInput={(props) => <TextField fullWidth {...props} />}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <Grid container alignItems=\"center\" spacing={2}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                        <Typography variant=\"subtitle1\">Description:</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={8}>\r\n                                        <TextField\r\n                                            fullWidth\r\n                                            id=\"description\"\r\n                                            name=\"description\"\r\n                                            multiline\r\n                                            rows={3}\r\n                                            defaultValue={formik.values.description}\r\n                                            onChange={formik.handleChange}\r\n                                            error={formik.touched.description && Boolean(formik.errors.description)}\r\n                                            helperText={formik.touched.description && formik.errors.description}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <Grid container alignItems=\"center\" spacing={2}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                        <Typography variant=\"subtitle1\">State:</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={8}>\r\n                                        <FormControl fullWidth sx={{ m: 1 }}>\r\n                                            <Select\r\n                                                id=\"columnId\"\r\n                                                name=\"columnId\"\r\n                                                displayEmpty\r\n                                                value={formik.values.columnId}\r\n                                                onChange={formik.handleChange}\r\n                                                inputProps={{ 'aria-label': 'Without label' }}\r\n                                            >\r\n                                                {columns.map((column, index) => (\r\n                                                    <MenuItem key={index} value={column.id}>\r\n                                                        {column.title}\r\n                                                    </MenuItem>\r\n                                                ))}\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <Grid container alignItems=\"center\" spacing={2}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                        <Typography variant=\"subtitle1\">Attachments:</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={8}>\r\n                                        <Grid container alignItems=\"center\" spacing={2}>\r\n                                            <Grid item>\r\n                                                <CardMedia\r\n                                                    component=\"img\"\r\n                                                    image={imgMain}\r\n                                                    sx={{ width: 60, height: 60, borderRadius: 1 }}\r\n                                                    title=\"Slider5 image\"\r\n                                                />\r\n                                            </Grid>\r\n                                            <Grid item>\r\n                                                <Button variant=\"outlined\" size=\"large\" sx={{ p: 2 }}>\r\n                                                    <AddRoundedIcon />\r\n                                                </Button>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <AnimateButton>\r\n                                    <Button fullWidth variant=\"contained\" type=\"submit\">\r\n                                        Save\r\n                                    </Button>\r\n                                </AnimateButton>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </LocalizationProvider>\r\n                </form>\r\n            </Box>\r\n        </Drawer>\r\n    );\r\n};\r\n\r\nAddItem.propTypes = {\r\n    open: PropTypes.bool,\r\n    handleDrawerOpen: PropTypes.func,\r\n    storyId: PropTypes.string\r\n};\r\n\r\nexport default AddItem;\r\n"]},"metadata":{},"sourceType":"module"}