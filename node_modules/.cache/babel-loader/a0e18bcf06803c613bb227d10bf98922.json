{"ast":null,"code":"import _defineProperty from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/johncoakley/development/projects/release_partner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useRef,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useSelector}from'react-redux';// material-ui\nimport{useTheme}from'@mui/material/styles';import{Avatar,Box,Card,CardContent,Chip,ClickAwayListener,Divider,Grid,InputAdornment,List,ListItemButton,ListItemIcon,ListItemText,OutlinedInput,Paper,Popper,Stack,Switch,Typography}from'@mui/material';// third-party\nimport PerfectScrollbar from'react-perfect-scrollbar';// project imports\nimport MainCard from'ui-component/cards/MainCard';import Transitions from'ui-component/extended/Transitions';import UpgradePlanCard from'./UpgradePlanCard';import useAuth from'hooks/useAuth';import User1 from\"assets/images/users/user-round.svg\";// assets\nimport{IconLogout,IconSearch,IconSettings,IconUser}from'@tabler/icons';// ==============================|| PROFILE MENU ||============================== //\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProfileSection=function ProfileSection(){var theme=useTheme();var customization=useSelector(function(state){return state.customization;});var navigate=useNavigate();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),sdm=_useState2[0],setSdm=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),notification=_useState6[0],setNotification=_useState6[1];var _useState7=useState(-1),_useState8=_slicedToArray(_useState7,2),selectedIndex=_useState8[0],setSelectedIndex=_useState8[1];var _useAuth=useAuth(),logout=_useAuth.logout,user=_useAuth.user;var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),open=_useState10[0],setOpen=_useState10[1];/**\r\n     * anchorRef is used on different componets and specifying one type leads to other components throwing an error\r\n     * */var anchorRef=useRef(null);var handleLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return logout();case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function handleLogout(){return _ref.apply(this,arguments);};}();var handleClose=function handleClose(event){if(anchorRef.current&&anchorRef.current.contains(event.target)){return;}setOpen(false);};var handleListItemClick=function handleListItemClick(event,index){var route=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';setSelectedIndex(index);handleClose(event);if(route&&route!==''){navigate(route);}};var handleToggle=function handleToggle(){setOpen(function(prevOpen){return!prevOpen;});};var prevOpen=useRef(open);useEffect(function(){if(prevOpen.current===true&&open===false){anchorRef.current.focus();}prevOpen.current=open;},[open]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Chip,{sx:{height:'48px',alignItems:'center',borderRadius:'27px',transition:'all .2s ease-in-out',borderColor:theme.palette.mode==='dark'?theme.palette.dark.main:theme.palette.primary.light,backgroundColor:theme.palette.mode==='dark'?theme.palette.dark.main:theme.palette.primary.light,'&[aria-controls=\"menu-list-grow\"], &:hover':{borderColor:theme.palette.primary.main,background:\"\".concat(theme.palette.primary.main,\"!important\"),color:theme.palette.primary.light,'& svg':{stroke:theme.palette.primary.light}},'& .MuiChip-label':{lineHeight:0}},icon:/*#__PURE__*/_jsx(Avatar,{src:User1,sx:_objectSpread(_objectSpread({},theme.typography.mediumAvatar),{},{margin:'8px 0 8px 8px !important',cursor:'pointer'}),ref:anchorRef,\"aria-controls\":open?'menu-list-grow':undefined,\"aria-haspopup\":\"true\",color:\"inherit\"}),label:/*#__PURE__*/_jsx(IconSettings,{stroke:1.5,size:\"1.5rem\",color:theme.palette.primary.main}),variant:\"outlined\",ref:anchorRef,\"aria-controls\":open?'menu-list-grow':undefined,\"aria-haspopup\":\"true\",onClick:handleToggle,color:\"primary\"}),/*#__PURE__*/_jsx(Popper,{placement:\"bottom-end\",open:open,anchorEl:anchorRef.current,role:undefined,transition:true,disablePortal:true,popperOptions:{modifiers:[{name:'offset',options:{offset:[0,14]}}]},children:function children(_ref2){var _ref3;var TransitionProps=_ref2.TransitionProps;return/*#__PURE__*/_jsx(Transitions,_objectSpread(_objectSpread({in:open},TransitionProps),{},{children:/*#__PURE__*/_jsx(Paper,{children:/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleClose,children:/*#__PURE__*/_jsxs(MainCard,{border:false,elevation:16,content:false,boxShadow:true,shadow:theme.shadows[16],children:[/*#__PURE__*/_jsxs(Box,{sx:{p:2},children:[/*#__PURE__*/_jsxs(Stack,{children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:0.5,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Good Morning,\"}),/*#__PURE__*/_jsx(Typography,{component:\"span\",variant:\"h4\",sx:{fontWeight:400},children:user===null||user===void 0?void 0:user.name})]}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Project Admin\"})]}),/*#__PURE__*/_jsx(OutlinedInput,{sx:{width:'100%',pr:1,pl:2,my:2},id:\"input-search-profile\",value:value,onChange:function onChange(e){return setValue(e.target.value);},placeholder:\"Search profile options\",startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(IconSearch,{stroke:1.5,size:\"1rem\",color:theme.palette.grey[500]})}),\"aria-describedby\":\"search-helper-text\",inputProps:{'aria-label':'weight'}}),/*#__PURE__*/_jsx(Divider,{})]}),/*#__PURE__*/_jsx(PerfectScrollbar,{style:{height:'100%',maxHeight:'calc(100vh - 250px)',overflowX:'hidden'},children:/*#__PURE__*/_jsxs(Box,{sx:{p:2},children:[/*#__PURE__*/_jsx(UpgradePlanCard,{}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Card,{sx:{bgcolor:theme.palette.mode==='dark'?theme.palette.dark[800]:theme.palette.primary.light,my:2},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,direction:\"column\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Grid,{item:true,container:true,alignItems:\"center\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Start DND Mode\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Switch,{color:\"primary\",checked:sdm,onChange:function onChange(e){return setSdm(e.target.checked);},name:\"sdm\",size:\"small\"})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Grid,{item:true,container:true,alignItems:\"center\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Allow Notifications\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Switch,{checked:notification,onChange:function onChange(e){return setNotification(e.target.checked);},name:\"sdm\",size:\"small\"})})]})})]})})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(List,{component:\"nav\",sx:(_ref3={width:'100%',maxWidth:350,minWidth:300,backgroundColor:theme.palette.background.paper,borderRadius:'10px'},_defineProperty(_ref3,theme.breakpoints.down('md'),{minWidth:'100%'}),_defineProperty(_ref3,'& .MuiListItemButton-root',{mt:0.5}),_ref3),children:[/*#__PURE__*/_jsxs(ListItemButton,{sx:{borderRadius:\"\".concat(customization.borderRadius,\"px\")},selected:selectedIndex===0,onClick:function onClick(event){return handleListItemClick(event,0,'/user/account-profile/profile1');},children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(IconSettings,{stroke:1.5,size:\"1.3rem\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Account Settings\"})})]}),/*#__PURE__*/_jsxs(ListItemButton,{sx:{borderRadius:\"\".concat(customization.borderRadius,\"px\")},selected:selectedIndex===1,onClick:function onClick(event){return handleListItemClick(event,1,'/user/social-profile/posts');},children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(IconUser,{stroke:1.5,size:\"1.3rem\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Social Profile\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Chip,{label:\"02\",size:\"small\",sx:{bgcolor:theme.palette.mode==='dark'?theme.palette.dark.dark:theme.palette.warning.dark,color:theme.palette.background.default}})})]})})]}),/*#__PURE__*/_jsxs(ListItemButton,{sx:{borderRadius:\"\".concat(customization.borderRadius,\"px\")},selected:selectedIndex===4,onClick:handleLogout,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(IconLogout,{stroke:1.5,size:\"1.3rem\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Logout\"})})]})]})]})})]})})})}));}})]});};export default ProfileSection;","map":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/layout/MainLayout/Header/ProfileSection/index.js"],"names":["useState","useRef","useEffect","useNavigate","useSelector","useTheme","Avatar","Box","Card","CardContent","Chip","ClickAwayListener","Divider","Grid","InputAdornment","List","ListItemButton","ListItemIcon","ListItemText","OutlinedInput","Paper","Popper","Stack","Switch","Typography","PerfectScrollbar","MainCard","Transitions","UpgradePlanCard","useAuth","IconLogout","IconSearch","IconSettings","IconUser","ProfileSection","theme","customization","state","navigate","sdm","setSdm","value","setValue","notification","setNotification","selectedIndex","setSelectedIndex","logout","user","open","setOpen","anchorRef","handleLogout","console","error","handleClose","event","current","contains","target","handleListItemClick","index","route","handleToggle","prevOpen","focus","height","alignItems","borderRadius","transition","borderColor","palette","mode","dark","main","primary","light","backgroundColor","background","color","stroke","lineHeight","User1","typography","mediumAvatar","margin","cursor","undefined","modifiers","name","options","offset","TransitionProps","shadows","p","fontWeight","width","pr","pl","my","e","grey","maxHeight","overflowX","bgcolor","checked","maxWidth","minWidth","paper","breakpoints","down","mt","warning","default"],"mappings":"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","sourcesContent":["import { useState, useRef, useEffect } from 'react';\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\n// material-ui\r\nimport { useTheme } from '@mui/material/styles';\r\nimport {\r\n    Avatar,\r\n    Box,\r\n    Card,\r\n    CardContent,\r\n    Chip,\r\n    ClickAwayListener,\r\n    Divider,\r\n    Grid,\r\n    InputAdornment,\r\n    List,\r\n    ListItemButton,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    OutlinedInput,\r\n    Paper,\r\n    Popper,\r\n    Stack,\r\n    Switch,\r\n    Typography\r\n} from '@mui/material';\r\n\r\n// third-party\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\n\r\n// project imports\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport Transitions from 'ui-component/extended/Transitions';\r\nimport UpgradePlanCard from './UpgradePlanCard';\r\nimport useAuth from 'hooks/useAuth';\r\nimport User1 from 'assets/images/users/user-round.svg';\r\n\r\n// assets\r\nimport { IconLogout, IconSearch, IconSettings, IconUser } from '@tabler/icons';\r\n\r\n// ==============================|| PROFILE MENU ||============================== //\r\n\r\nconst ProfileSection = () => {\r\n    const theme = useTheme();\r\n    const customization = useSelector((state) => state.customization);\r\n    const navigate = useNavigate();\r\n\r\n    const [sdm, setSdm] = useState(true);\r\n    const [value, setValue] = useState('');\r\n    const [notification, setNotification] = useState(false);\r\n    const [selectedIndex, setSelectedIndex] = useState(-1);\r\n    const { logout, user } = useAuth();\r\n    const [open, setOpen] = useState(false);\r\n    /**\r\n     * anchorRef is used on different componets and specifying one type leads to other components throwing an error\r\n     * */\r\n    const anchorRef = useRef(null);\r\n    const handleLogout = async () => {\r\n        try {\r\n            await logout();\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const handleClose = (event) => {\r\n        if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n            return;\r\n        }\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleListItemClick = (event, index, route = '') => {\r\n        setSelectedIndex(index);\r\n        handleClose(event);\r\n\r\n        if (route && route !== '') {\r\n            navigate(route);\r\n        }\r\n    };\r\n    const handleToggle = () => {\r\n        setOpen((prevOpen) => !prevOpen);\r\n    };\r\n\r\n    const prevOpen = useRef(open);\r\n    useEffect(() => {\r\n        if (prevOpen.current === true && open === false) {\r\n            anchorRef.current.focus();\r\n        }\r\n\r\n        prevOpen.current = open;\r\n    }, [open]);\r\n\r\n    return (\r\n        <>\r\n            <Chip\r\n                sx={{\r\n                    height: '48px',\r\n                    alignItems: 'center',\r\n                    borderRadius: '27px',\r\n                    transition: 'all .2s ease-in-out',\r\n                    borderColor: theme.palette.mode === 'dark' ? theme.palette.dark.main : theme.palette.primary.light,\r\n                    backgroundColor: theme.palette.mode === 'dark' ? theme.palette.dark.main : theme.palette.primary.light,\r\n                    '&[aria-controls=\"menu-list-grow\"], &:hover': {\r\n                        borderColor: theme.palette.primary.main,\r\n                        background: `${theme.palette.primary.main}!important`,\r\n                        color: theme.palette.primary.light,\r\n                        '& svg': {\r\n                            stroke: theme.palette.primary.light\r\n                        }\r\n                    },\r\n                    '& .MuiChip-label': {\r\n                        lineHeight: 0\r\n                    }\r\n                }}\r\n                icon={\r\n                    <Avatar\r\n                        src={User1}\r\n                        sx={{\r\n                            ...theme.typography.mediumAvatar,\r\n                            margin: '8px 0 8px 8px !important',\r\n                            cursor: 'pointer'\r\n                        }}\r\n                        ref={anchorRef}\r\n                        aria-controls={open ? 'menu-list-grow' : undefined}\r\n                        aria-haspopup=\"true\"\r\n                        color=\"inherit\"\r\n                    />\r\n                }\r\n                label={<IconSettings stroke={1.5} size=\"1.5rem\" color={theme.palette.primary.main} />}\r\n                variant=\"outlined\"\r\n                ref={anchorRef}\r\n                aria-controls={open ? 'menu-list-grow' : undefined}\r\n                aria-haspopup=\"true\"\r\n                onClick={handleToggle}\r\n                color=\"primary\"\r\n            />\r\n            <Popper\r\n                placement=\"bottom-end\"\r\n                open={open}\r\n                anchorEl={anchorRef.current}\r\n                role={undefined}\r\n                transition\r\n                disablePortal\r\n                popperOptions={{\r\n                    modifiers: [\r\n                        {\r\n                            name: 'offset',\r\n                            options: {\r\n                                offset: [0, 14]\r\n                            }\r\n                        }\r\n                    ]\r\n                }}\r\n            >\r\n                {({ TransitionProps }) => (\r\n                    <Transitions in={open} {...TransitionProps}>\r\n                        <Paper>\r\n                            <ClickAwayListener onClickAway={handleClose}>\r\n                                <MainCard border={false} elevation={16} content={false} boxShadow shadow={theme.shadows[16]}>\r\n                                    <Box sx={{ p: 2 }}>\r\n                                        <Stack>\r\n                                            <Stack direction=\"row\" spacing={0.5} alignItems=\"center\">\r\n                                                <Typography variant=\"h4\">Good Morning,</Typography>\r\n                                                <Typography component=\"span\" variant=\"h4\" sx={{ fontWeight: 400 }}>\r\n                                                    {user?.name}\r\n                                                </Typography>\r\n                                            </Stack>\r\n                                            <Typography variant=\"subtitle2\">Project Admin</Typography>\r\n                                        </Stack>\r\n                                        <OutlinedInput\r\n                                            sx={{ width: '100%', pr: 1, pl: 2, my: 2 }}\r\n                                            id=\"input-search-profile\"\r\n                                            value={value}\r\n                                            onChange={(e) => setValue(e.target.value)}\r\n                                            placeholder=\"Search profile options\"\r\n                                            startAdornment={\r\n                                                <InputAdornment position=\"start\">\r\n                                                    <IconSearch stroke={1.5} size=\"1rem\" color={theme.palette.grey[500]} />\r\n                                                </InputAdornment>\r\n                                            }\r\n                                            aria-describedby=\"search-helper-text\"\r\n                                            inputProps={{\r\n                                                'aria-label': 'weight'\r\n                                            }}\r\n                                        />\r\n                                        <Divider />\r\n                                    </Box>\r\n                                    <PerfectScrollbar style={{ height: '100%', maxHeight: 'calc(100vh - 250px)', overflowX: 'hidden' }}>\r\n                                        <Box sx={{ p: 2 }}>\r\n                                            <UpgradePlanCard />\r\n                                            <Divider />\r\n                                            <Card\r\n                                                sx={{\r\n                                                    bgcolor:\r\n                                                        theme.palette.mode === 'dark'\r\n                                                            ? theme.palette.dark[800]\r\n                                                            : theme.palette.primary.light,\r\n                                                    my: 2\r\n                                                }}\r\n                                            >\r\n                                                <CardContent>\r\n                                                    <Grid container spacing={3} direction=\"column\">\r\n                                                        <Grid item>\r\n                                                            <Grid item container alignItems=\"center\" justifyContent=\"space-between\">\r\n                                                                <Grid item>\r\n                                                                    <Typography variant=\"subtitle1\">Start DND Mode</Typography>\r\n                                                                </Grid>\r\n                                                                <Grid item>\r\n                                                                    <Switch\r\n                                                                        color=\"primary\"\r\n                                                                        checked={sdm}\r\n                                                                        onChange={(e) => setSdm(e.target.checked)}\r\n                                                                        name=\"sdm\"\r\n                                                                        size=\"small\"\r\n                                                                    />\r\n                                                                </Grid>\r\n                                                            </Grid>\r\n                                                        </Grid>\r\n                                                        <Grid item>\r\n                                                            <Grid item container alignItems=\"center\" justifyContent=\"space-between\">\r\n                                                                <Grid item>\r\n                                                                    <Typography variant=\"subtitle1\">Allow Notifications</Typography>\r\n                                                                </Grid>\r\n                                                                <Grid item>\r\n                                                                    <Switch\r\n                                                                        checked={notification}\r\n                                                                        onChange={(e) => setNotification(e.target.checked)}\r\n                                                                        name=\"sdm\"\r\n                                                                        size=\"small\"\r\n                                                                    />\r\n                                                                </Grid>\r\n                                                            </Grid>\r\n                                                        </Grid>\r\n                                                    </Grid>\r\n                                                </CardContent>\r\n                                            </Card>\r\n                                            <Divider />\r\n                                            <List\r\n                                                component=\"nav\"\r\n                                                sx={{\r\n                                                    width: '100%',\r\n                                                    maxWidth: 350,\r\n                                                    minWidth: 300,\r\n                                                    backgroundColor: theme.palette.background.paper,\r\n                                                    borderRadius: '10px',\r\n                                                    [theme.breakpoints.down('md')]: {\r\n                                                        minWidth: '100%'\r\n                                                    },\r\n                                                    '& .MuiListItemButton-root': {\r\n                                                        mt: 0.5\r\n                                                    }\r\n                                                }}\r\n                                            >\r\n                                                <ListItemButton\r\n                                                    sx={{ borderRadius: `${customization.borderRadius}px` }}\r\n                                                    selected={selectedIndex === 0}\r\n                                                    onClick={(event) => handleListItemClick(event, 0, '/user/account-profile/profile1')}\r\n                                                >\r\n                                                    <ListItemIcon>\r\n                                                        <IconSettings stroke={1.5} size=\"1.3rem\" />\r\n                                                    </ListItemIcon>\r\n                                                    <ListItemText primary={<Typography variant=\"body2\">Account Settings</Typography>} />\r\n                                                </ListItemButton>\r\n                                                <ListItemButton\r\n                                                    sx={{ borderRadius: `${customization.borderRadius}px` }}\r\n                                                    selected={selectedIndex === 1}\r\n                                                    onClick={(event) => handleListItemClick(event, 1, '/user/social-profile/posts')}\r\n                                                >\r\n                                                    <ListItemIcon>\r\n                                                        <IconUser stroke={1.5} size=\"1.3rem\" />\r\n                                                    </ListItemIcon>\r\n                                                    <ListItemText\r\n                                                        primary={\r\n                                                            <Grid container spacing={1} justifyContent=\"space-between\">\r\n                                                                <Grid item>\r\n                                                                    <Typography variant=\"body2\">Social Profile</Typography>\r\n                                                                </Grid>\r\n                                                                <Grid item>\r\n                                                                    <Chip\r\n                                                                        label=\"02\"\r\n                                                                        size=\"small\"\r\n                                                                        sx={{\r\n                                                                            bgcolor:\r\n                                                                                theme.palette.mode === 'dark'\r\n                                                                                    ? theme.palette.dark.dark\r\n                                                                                    : theme.palette.warning.dark,\r\n                                                                            color: theme.palette.background.default\r\n                                                                        }}\r\n                                                                    />\r\n                                                                </Grid>\r\n                                                            </Grid>\r\n                                                        }\r\n                                                    />\r\n                                                </ListItemButton>\r\n                                                <ListItemButton\r\n                                                    sx={{ borderRadius: `${customization.borderRadius}px` }}\r\n                                                    selected={selectedIndex === 4}\r\n                                                    onClick={handleLogout}\r\n                                                >\r\n                                                    <ListItemIcon>\r\n                                                        <IconLogout stroke={1.5} size=\"1.3rem\" />\r\n                                                    </ListItemIcon>\r\n                                                    <ListItemText primary={<Typography variant=\"body2\">Logout</Typography>} />\r\n                                                </ListItemButton>\r\n                                            </List>\r\n                                        </Box>\r\n                                    </PerfectScrollbar>\r\n                                </MainCard>\r\n                            </ClickAwayListener>\r\n                        </Paper>\r\n                    </Transitions>\r\n                )}\r\n            </Popper>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ProfileSection;\r\n"]},"metadata":{},"sourceType":"module"}