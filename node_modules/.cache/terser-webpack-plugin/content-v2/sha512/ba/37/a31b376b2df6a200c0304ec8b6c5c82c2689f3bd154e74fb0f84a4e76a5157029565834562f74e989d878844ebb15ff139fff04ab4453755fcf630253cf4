{"code":"(this[\"webpackJsonpberry-material-react\"]=this[\"webpackJsonpberry-material-react\"]||[]).push([[158],{2048:function(e,t,n){\"use strict\";n.r(t);var a=n(64),c=n.n(a),i=n(99),r=n(13),s=n(0),o=n(49),j=n(665),l=n(666),d=n(670),x=n(55),b=n(1407),h=n(1410),u=n(5),p=n(6),m=n(29),O=n(602),f=n(681),v=n(56),g=n(730),y=n.n(g),k=n(1044),w=n.n(k),C=n(1),S=n(736),z=Object(p.a)(\"div\")((function(e){var t=e.theme;return{padding:\"15px 0\",borderBottom:\"dark\"===t.palette.mode?\"none\":\"1px solid\",borderTop:\"dark\"===t.palette.mode?\"none\":\"1px solid\",borderColor:\"\".concat(t.palette.grey[100],\"!important\")}})),W=function(e){var t=e.avatar,n=e.name,a=e.role,c=e.onActive,i=Object(m.a)(),r=t&&S(\"./\".concat(t)).default;return Object(C.jsx)(z,{children:Object(C.jsxs)(o.a,{container:!0,alignItems:\"center\",spacing:v.c,children:[Object(C.jsx)(o.a,{item:!0,xs:12,sm:6,onClick:function(){c()},style:{cursor:\"pointer\"},children:Object(C.jsxs)(o.a,{container:!0,alignItems:\"center\",spacing:v.c,sx:{flexWrap:\"nowrap\"},children:[Object(C.jsx)(o.a,{item:!0,children:Object(C.jsx)(f.a,{alt:n,src:r,sx:{width:48,height:48}})}),Object(C.jsx)(o.a,{item:!0,sm:!0,zeroMinWidth:!0,children:Object(C.jsxs)(o.a,{container:!0,spacing:0,children:[Object(C.jsx)(o.a,{item:!0,xs:12,children:Object(C.jsx)(x.a,{variant:\"h4\",component:\"div\",children:n})}),Object(C.jsx)(o.a,{item:!0,xs:12,children:Object(C.jsx)(x.a,{variant:\"caption\",children:a})})]})})]})}),Object(C.jsx)(o.a,{item:!0,xs:12,sm:6,children:Object(C.jsxs)(o.a,{container:!0,spacing:1,sx:Object(u.a)({justifyContent:\"flex-end\"},i.breakpoints.down(\"md\"),{justifyContent:\"flex-start\"}),children:[Object(C.jsx)(o.a,{item:!0,children:Object(C.jsx)(O.a,{placement:\"top\",title:\"Message\",children:Object(C.jsx)(d.a,{variant:\"outlined\",sx:{minWidth:32,height:32,p:0},children:Object(C.jsx)(y.a,{fontSize:\"small\"})})})}),Object(C.jsx)(o.a,{item:!0,children:Object(C.jsx)(O.a,{placement:\"top\",title:\"Call\",children:Object(C.jsx)(d.a,{variant:\"outlined\",color:\"secondary\",sx:{minWidth:32,height:32,p:0},children:Object(C.jsx)(w.a,{fontSize:\"small\"})})})})]})})]})})},I=n(179),A=n(269),M=n(711),_=n(14),U=n(1411),E=n.n(U);t.default=function(){var e=Object(s.useState)({}),t=Object(r.a)(e,2),n=t[0],a=t[1],u=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get(\"/api/chat/users\");case 2:return t=e.sent,a(t.data.users.reduce((function(e,t){var n=t.name[0].toUpperCase();return Object.prototype.hasOwnProperty.call(e,n)?e[n].push(t):e[n]=[t],e}),{})),e.abrupt(\"return\",t.data.users);case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){u()}),[]);var p=Object(s.useState)({}),m=Object(r.a)(p,2),O=m[0],f=m[1],g=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post(\"/api/chat/users/modify\",t);case 2:u().then((function(e){if(O){var t=e.findIndex((function(e){return e.id===O.id}));t>-1&&f(e[t])}}));case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=Object(s.useState)(!1),k=Object(r.a)(y,2),w=k[0],S=k[1],z=Object(s.useState)(!1),U=Object(r.a)(z,2),J=U[0],T=U[1];return Object(C.jsx)(I.a,{title:\"Contact List\",children:Object(C.jsxs)(o.a,{container:!0,spacing:v.c,children:[Object(C.jsx)(o.a,{item:!0,xs:!0,zeroMinWidth:!0,sx:{display:w||J?{xs:\"none\",md:\"block\"}:\"block\"},children:Object(C.jsxs)(o.a,{container:!0,alignItems:\"center\",spacing:v.c,children:[Object(C.jsx)(o.a,{item:!0,xs:!0,zeroMinWidth:!0,children:Object(C.jsx)(j.a,{id:\"input-search-card-style1\",placeholder:\"Search Contact\",fullWidth:!0,startAdornment:Object(C.jsx)(l.a,{position:\"start\",children:Object(C.jsx)(_.lb,{stroke:1.5,size:\"1rem\"})})})}),Object(C.jsx)(o.a,{item:!0,children:Object(C.jsx)(d.a,{variant:\"contained\",size:\"large\",startIcon:Object(C.jsx)(E.a,{}),sx:{px:2.75,py:1.5},onClick:function(){f({name:\"\",company:\"\",role:\"\",work_email:\"\",personal_email:\"\",work_phone:\"\",personal_phone:\"\",location:\"USA\",image:M.default,status:\"I am online\",lastMessage:\"2h ago\",birthdayText:\"\"}),S(!1),T(!0)},children:\"Add\"})}),Object.keys(n).map((function(e,t){return Object(C.jsxs)(s.Fragment,{children:[Object(C.jsx)(o.a,{item:!0,xs:12,children:Object(C.jsx)(x.a,{variant:\"h4\",color:\"primary\",sx:{fontSize:\"1rem\"},children:e.toUpperCase()})}),Object(C.jsx)(o.a,{item:!0,xs:12,children:Object(C.jsx)(o.a,{container:!0,direction:\"row\",spacing:0,children:n[e].map((function(e,t){return Object(C.jsx)(o.a,{item:!0,xs:12,children:Object(C.jsx)(W,{avatar:e.avatar,name:e.name,role:e.role,email:e.work_email,contact:e.phone,location:e.location,onActive:function(){f(e),S(!0),T(!1)}})},t)}))})})]},t)}))]})}),w&&Object(C.jsx)(o.a,{item:!0,sx:{width:342,margin:{xs:\"0 auto\",md:\"initial\"}},children:Object(C.jsx)(b.a,{user:O,onEditClick:function(){S(!1),T(!0)},onClose:function(){S(!1),T(!1)}})}),J&&Object(C.jsx)(o.a,{item:!0,sx:{width:342,margin:{xs:\"0 auto\",md:\"initial\"}},children:Object(C.jsx)(h.a,{user:O,onSave:function(e){e.id&&S(!0),T(!1),g(e)},onCancel:function(e){e.id&&S(!0),T(!1)}})})]})})}}}]);","name":"static/js/158.dfc83b9c.chunk.js","map":{"version":3,"sources":["static/js/158.dfc83b9c.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","regenerator","regenerator_default","n","asyncToGenerator","slicedToArray","react","Grid","OutlinedInput","InputAdornment","Button","Typography","UserDetails","UserEdit","defineProperty","styled","useTheme","Tooltip","Avatar","constant","ChatBubbleTwoTone","ChatBubbleTwoTone_default","PhoneTwoTone","PhoneTwoTone_default","jsx_runtime","avatarImage","ListWrapper","Object","_ref","theme","padding","borderBottom","palette","mode","borderTop","borderColor","concat","grey","cards_ContactList","_ref2","avatar","name","role","onActive","avatarProfile","default","children","container","alignItems","spacing","item","xs","sm","onClick","style","cursor","sx","flexWrap","alt","src","width","height","zeroMinWidth","variant","component","justifyContent","breakpoints","down","placement","title","minWidth","p","a","fontSize","color","MainCard","axios","avatar_1","index_esm","AddCircleOutlineOutlined","AddCircleOutlineOutlined_default","_useState","_useState2","data","setData","getData","mark","_callee","response","wrap","_context","prev","next","get","sent","users","reduce","curr","firstLatter","toUpperCase","prototype","hasOwnProperty","call","abrupt","stop","apply","arguments","_useState3","_useState4","user","setUser","modifyUser","_callee2","u","_context2","post","then","d","idx","findIndex","id","_x","_useState5","_useState6","userDetails","setUserDetails","_useState7","_useState8","userEdit","setUserEdit","display","md","placeholder","fullWidth","startAdornment","position","stroke","size","startIcon","px","py","company","work_email","personal_email","work_phone","personal_phone","location","image","status","lastMessage","birthdayText","keys","map","key","index","direction","userRow","i","email","contact","phone","margin","onEditClick","onClose","onSave","onCancel"],"mappings":"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"},"input":"(this[\"webpackJsonpberry-material-react\"] = this[\"webpackJsonpberry-material-react\"] || []).push([[158],{\n\n/***/ 2048:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(64);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Grid/Grid.js + 2 modules\nvar Grid = __webpack_require__(49);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/OutlinedInput/OutlinedInput.js + 1 modules\nvar OutlinedInput = __webpack_require__(665);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/InputAdornment/InputAdornment.js + 1 modules\nvar InputAdornment = __webpack_require__(666);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 1 modules\nvar Button = __webpack_require__(670);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Typography/Typography.js + 1 modules\nvar Typography = __webpack_require__(55);\n\n// EXTERNAL MODULE: ./src/views/application/contact/UserDetails.js\nvar UserDetails = __webpack_require__(1407);\n\n// EXTERNAL MODULE: ./src/views/application/contact/UserEdit.js\nvar UserEdit = __webpack_require__(1410);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/styles/styled.js\nvar styled = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/styles/useTheme.js\nvar useTheme = __webpack_require__(29);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Tooltip/Tooltip.js + 1 modules\nvar Tooltip = __webpack_require__(602);\n\n// EXTERNAL MODULE: ./src/ui-component/extended/Avatar.js\nvar Avatar = __webpack_require__(681);\n\n// EXTERNAL MODULE: ./src/store/constant.js\nvar constant = __webpack_require__(56);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/ChatBubbleTwoTone.js\nvar ChatBubbleTwoTone = __webpack_require__(730);\nvar ChatBubbleTwoTone_default = /*#__PURE__*/__webpack_require__.n(ChatBubbleTwoTone);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/PhoneTwoTone.js\nvar PhoneTwoTone = __webpack_require__(1044);\nvar PhoneTwoTone_default = /*#__PURE__*/__webpack_require__.n(PhoneTwoTone);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/ui-component/cards/ContactList.js\n// material-ui\n// project imports\n// assets\nvar avatarImage=__webpack_require__(736);// styles\nvar ListWrapper=Object(styled[\"a\" /* default */])('div')(function(_ref){var theme=_ref.theme;return{padding:'15px 0',borderBottom:theme.palette.mode==='dark'?'none':'1px solid',borderTop:theme.palette.mode==='dark'?'none':'1px solid',borderColor:\"\".concat(theme.palette.grey[100],\"!important\")};});// ==============================|| USER CONTACT LIST ||============================== //\nvar ContactList_ContactList=function ContactList(_ref2){var avatar=_ref2.avatar,name=_ref2.name,role=_ref2.role,onActive=_ref2.onActive;var theme=Object(useTheme[\"a\" /* default */])();var avatarProfile=avatar&&avatarImage(\"./\".concat(avatar)).default;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListWrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,alignItems:\"center\",spacing:constant[\"c\" /* gridSpacing */],children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,sm:6,onClick:function onClick(){onActive();},style:{cursor:'pointer'},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,alignItems:\"center\",spacing:constant[\"c\" /* gridSpacing */],sx:{flexWrap:'nowrap'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{alt:name,src:avatarProfile,sx:{width:48,height:48}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,sm:true,zeroMinWidth:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,spacing:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h4\",component:\"div\",children:name})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"caption\",children:role})})]})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,sm:6,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,spacing:1,sx:Object(defineProperty[\"a\" /* default */])({justifyContent:'flex-end'},theme.breakpoints.down('md'),{justifyContent:'flex-start'}),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tooltip[\"a\" /* default */],{placement:\"top\",title:\"Message\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",sx:{minWidth:32,height:32,p:0},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatBubbleTwoTone_default.a,{fontSize:\"small\"})})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tooltip[\"a\" /* default */],{placement:\"top\",title:\"Call\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",color:\"secondary\",sx:{minWidth:32,height:32,p:0},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PhoneTwoTone_default.a,{fontSize:\"small\"})})})})]})})]})});};/* harmony default export */ var cards_ContactList = (ContactList_ContactList);\n// EXTERNAL MODULE: ./src/ui-component/cards/MainCard.js\nvar MainCard = __webpack_require__(179);\n\n// EXTERNAL MODULE: ./src/utils/axios.js\nvar axios = __webpack_require__(269);\n\n// EXTERNAL MODULE: ./src/assets/images/users/avatar-1.png\nvar avatar_1 = __webpack_require__(711);\n\n// EXTERNAL MODULE: ./node_modules/@tabler/icons/icons-react/dist/index.esm.js\nvar index_esm = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/AddCircleOutlineOutlined.js\nvar AddCircleOutlineOutlined = __webpack_require__(1411);\nvar AddCircleOutlineOutlined_default = /*#__PURE__*/__webpack_require__.n(AddCircleOutlineOutlined);\n\n// CONCATENATED MODULE: ./src/views/application/contact/List/index.js\n// material-ui\n// project imports\n// assets\n// ==============================|| CONTACT LIST ||============================== //\nvar List_CardListPage=function CardListPage(){// get all users details\nvar _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),data=_useState2[0],setData=_useState2[1];var convertData=function convertData(userData){return userData.reduce(function(a,curr){var firstLatter=curr.name[0].toUpperCase();if(Object.prototype.hasOwnProperty.call(a,firstLatter)){a[firstLatter].push(curr);}else{a[firstLatter]=[curr];}return a;},{});};var getData=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios[\"a\" /* default */].get('/api/chat/users');case 2:response=_context.sent;setData(convertData(response.data.users));return _context.abrupt(\"return\",response.data.users);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){getData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);// edit selected user and modify users data\nvar _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),user=_useState4[0],setUser=_useState4[1];var modifyUser=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(u){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios[\"a\" /* default */].post('/api/chat/users/modify',u);case 2:getData().then(function(d){if(user){var idx=d.findIndex(function(item){return item.id===user.id;});if(idx>-1)setUser(d[idx]);}});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function modifyUser(_x){return _ref2.apply(this,arguments);};}();// handle new user insert action\nvar _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),userDetails=_useState6[0],setUserDetails=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),userEdit=_useState8[0],setUserEdit=_useState8[1];var handleOnAdd=function handleOnAdd(){setUser({name:'',company:'',role:'',work_email:'',personal_email:'',work_phone:'',personal_phone:'',location:'USA',image:avatar_1[\"default\"],status:'I am online',lastMessage:'2h ago',birthdayText:''});setUserDetails(false);setUserEdit(true);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MainCard[\"a\" /* default */],{title:\"Contact List\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,spacing:constant[\"c\" /* gridSpacing */],children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:true,zeroMinWidth:true,sx:{display:userDetails||userEdit?{xs:'none',md:'block'}:'block'},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,alignItems:\"center\",spacing:constant[\"c\" /* gridSpacing */],children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:true,zeroMinWidth:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(OutlinedInput[\"a\" /* default */],{id:\"input-search-card-style1\",placeholder:\"Search Contact\",fullWidth:true,startAdornment:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputAdornment[\"a\" /* default */],{position:\"start\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"lb\" /* IconSearch */],{stroke:1.5,size:\"1rem\"})})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",size:\"large\",startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddCircleOutlineOutlined_default.a,{}),sx:{px:2.75,py:1.5},onClick:handleOnAdd,children:\"Add\"})}),Object.keys(data).map(function(key,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h4\",color:\"primary\",sx:{fontSize:'1rem'},children:key.toUpperCase()})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,direction:\"row\",spacing:0,children:data[key].map(function(userRow,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cards_ContactList,{avatar:userRow.avatar,name:userRow.name,role:userRow.role,email:userRow.work_email,contact:userRow.phone,location:userRow.location,onActive:function onActive(){setUser(userRow);setUserDetails(true);setUserEdit(false);}})},i);})})})]},index);})]})}),userDetails&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,sx:{width:342,margin:{xs:'0 auto',md:'initial'}},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserDetails[\"a\" /* default */],{user:user,onEditClick:function onEditClick(){setUserDetails(false);setUserEdit(true);},onClose:function onClose(){setUserDetails(false);setUserEdit(false);}})}),userEdit&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,sx:{width:342,margin:{xs:'0 auto',md:'initial'}},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserEdit[\"a\" /* default */],{user:user,onSave:function onSave(u){if(u.id)setUserDetails(true);setUserEdit(false);modifyUser(u);},onCancel:function onCancel(u){if(u.id)setUserDetails(true);setUserEdit(false);}})})]})});};/* harmony default export */ var List = __webpack_exports__[\"default\"] = (List_CardListPage);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/johncoakley/development/projects/release_partner/src/ui-component/cards/ContactList.js","/Users/johncoakley/development/projects/release_partner/src/views/application/contact/List/index.js"],"names":["avatarImage","require","ListWrapper","styled","theme","padding","borderBottom","palette","mode","borderTop","borderColor","grey","ContactList","avatar","name","role","onActive","useTheme","avatarProfile","default","gridSpacing","cursor","flexWrap","width","height","justifyContent","breakpoints","down","minWidth","p","CardListPage","useState","data","setData","convertData","userData","reduce","a","curr","firstLatter","toUpperCase","Object","prototype","hasOwnProperty","call","push","getData","axios","get","response","users","useEffect","user","setUser","modifyUser","u","post","then","d","idx","findIndex","item","id","userDetails","setUserDetails","userEdit","setUserEdit","handleOnAdd","company","work_email","personal_email","work_phone","personal_phone","location","image","User1","status","lastMessage","birthdayText","display","xs","md","px","py","keys","map","key","index","fontSize","userRow","i","phone","margin"],"mappings":"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","file":"x","sourcesContent":["import PropTypes from 'prop-types';\r\n\r\n// material-ui\r\nimport { styled, useTheme } from '@mui/material/styles';\r\nimport { Button, Grid, Tooltip, Typography } from '@mui/material';\r\n\r\n// project imports\r\nimport Avatar from '../extended/Avatar';\r\nimport { gridSpacing } from 'store/constant';\r\n\r\n// assets\r\nimport ChatBubbleTwoToneIcon from '@mui/icons-material/ChatBubbleTwoTone';\r\nimport PhoneTwoToneIcon from '@mui/icons-material/PhoneTwoTone';\r\n\r\nconst avatarImage = require.context('assets/images/users', true);\r\n\r\n// styles\r\nconst ListWrapper = styled('div')(({ theme }) => ({\r\n    padding: '15px 0',\r\n    borderBottom: theme.palette.mode === 'dark' ? 'none' : '1px solid',\r\n    borderTop: theme.palette.mode === 'dark' ? 'none' : '1px solid',\r\n    borderColor: `${theme.palette.grey[100]}!important`\r\n}));\r\n\r\n// ==============================|| USER CONTACT LIST ||============================== //\r\n\r\nconst ContactList = ({ avatar, name, role, onActive }) => {\r\n    const theme = useTheme();\r\n    const avatarProfile = avatar && avatarImage(`./${avatar}`).default;\r\n\r\n    return (\r\n        <ListWrapper>\r\n            <Grid container alignItems=\"center\" spacing={gridSpacing}>\r\n                <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={6}\r\n                    onClick={() => {\r\n                        onActive();\r\n                    }}\r\n                    style={{ cursor: 'pointer' }}\r\n                >\r\n                    <Grid container alignItems=\"center\" spacing={gridSpacing} sx={{ flexWrap: 'nowrap' }}>\r\n                        <Grid item>\r\n                            <Avatar alt={name} src={avatarProfile} sx={{ width: 48, height: 48 }} />\r\n                        </Grid>\r\n                        <Grid item sm zeroMinWidth>\r\n                            <Grid container spacing={0}>\r\n                                <Grid item xs={12}>\r\n                                    <Typography variant=\"h4\" component=\"div\">\r\n                                        {name}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                    <Typography variant=\"caption\">{role}</Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                    <Grid\r\n                        container\r\n                        spacing={1}\r\n                        sx={{ justifyContent: 'flex-end', [theme.breakpoints.down('md')]: { justifyContent: 'flex-start' } }}\r\n                    >\r\n                        <Grid item>\r\n                            <Tooltip placement=\"top\" title=\"Message\">\r\n                                <Button variant=\"outlined\" sx={{ minWidth: 32, height: 32, p: 0 }}>\r\n                                    <ChatBubbleTwoToneIcon fontSize=\"small\" />\r\n                                </Button>\r\n                            </Tooltip>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Tooltip placement=\"top\" title=\"Call\">\r\n                                <Button variant=\"outlined\" color=\"secondary\" sx={{ minWidth: 32, height: 32, p: 0 }}>\r\n                                    <PhoneTwoToneIcon fontSize=\"small\" />\r\n                                </Button>\r\n                            </Tooltip>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </ListWrapper>\r\n    );\r\n};\r\n\r\nContactList.propTypes = {\r\n    avatar: PropTypes.string,\r\n    name: PropTypes.string,\r\n    onActive: PropTypes.func,\r\n    role: PropTypes.string\r\n};\r\n\r\nexport default ContactList;\r\n","import { useState, useEffect, Fragment } from 'react';\r\n\r\n// material-ui\r\nimport { Button, Grid, InputAdornment, OutlinedInput, Typography } from '@mui/material';\r\n\r\n// project imports\r\nimport UserDetails from '../UserDetails';\r\nimport UserEdit from '../UserEdit';\r\nimport ContactList from 'ui-component/cards/ContactList';\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport axios from 'utils/axios';\r\nimport { gridSpacing } from 'store/constant';\r\nimport User1 from 'assets/images/users/avatar-1.png';\r\n\r\n// assets\r\nimport { IconSearch } from '@tabler/icons';\r\nimport AddCircleOutlineOutlinedIcon from '@mui/icons-material/AddCircleOutlineOutlined';\r\n\r\n// ==============================|| CONTACT LIST ||============================== //\r\n\r\nconst CardListPage = () => {\r\n    // get all users details\r\n    const [data, setData] = useState({});\r\n    const convertData = (userData) =>\r\n        userData.reduce((a, curr) => {\r\n            const firstLatter = curr.name[0].toUpperCase();\r\n            if (Object.prototype.hasOwnProperty.call(a, firstLatter)) {\r\n                a[firstLatter].push(curr);\r\n            } else {\r\n                a[firstLatter] = [curr];\r\n            }\r\n            return a;\r\n        }, {});\r\n\r\n    const getData = async () => {\r\n        const response = await axios.get('/api/chat/users');\r\n        setData(convertData(response.data.users));\r\n        return response.data.users;\r\n    };\r\n\r\n    useEffect(() => {\r\n        getData();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    // edit selected user and modify users data\r\n    const [user, setUser] = useState({});\r\n    const modifyUser = async (u) => {\r\n        await axios.post('/api/chat/users/modify', u);\r\n        getData().then((d) => {\r\n            if (user) {\r\n                const idx = d.findIndex((item) => item.id === user.id);\r\n                if (idx > -1) setUser(d[idx]);\r\n            }\r\n        });\r\n    };\r\n\r\n    // handle new user insert action\r\n    const [userDetails, setUserDetails] = useState(false);\r\n    const [userEdit, setUserEdit] = useState(false);\r\n    const handleOnAdd = () => {\r\n        setUser({\r\n            name: '',\r\n            company: '',\r\n            role: '',\r\n            work_email: '',\r\n            personal_email: '',\r\n            work_phone: '',\r\n            personal_phone: '',\r\n            location: 'USA',\r\n            image: User1,\r\n            status: 'I am online',\r\n            lastMessage: '2h ago',\r\n            birthdayText: ''\r\n        });\r\n        setUserDetails(false);\r\n        setUserEdit(true);\r\n    };\r\n\r\n    return (\r\n        <MainCard title=\"Contact List\">\r\n            <Grid container spacing={gridSpacing}>\r\n                <Grid item xs zeroMinWidth sx={{ display: userDetails || userEdit ? { xs: 'none', md: 'block' } : 'block' }}>\r\n                    <Grid container alignItems=\"center\" spacing={gridSpacing}>\r\n                        <Grid item xs zeroMinWidth>\r\n                            <OutlinedInput\r\n                                id=\"input-search-card-style1\"\r\n                                placeholder=\"Search Contact\"\r\n                                fullWidth\r\n                                startAdornment={\r\n                                    <InputAdornment position=\"start\">\r\n                                        <IconSearch stroke={1.5} size=\"1rem\" />\r\n                                    </InputAdornment>\r\n                                }\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                size=\"large\"\r\n                                startIcon={<AddCircleOutlineOutlinedIcon />}\r\n                                sx={{ px: 2.75, py: 1.5 }}\r\n                                onClick={handleOnAdd}\r\n                            >\r\n                                Add\r\n                            </Button>\r\n                        </Grid>\r\n\r\n                        {Object.keys(data).map((key, index) => (\r\n                            <Fragment key={index}>\r\n                                <Grid item xs={12}>\r\n                                    <Typography variant=\"h4\" color=\"primary\" sx={{ fontSize: '1rem' }}>\r\n                                        {key.toUpperCase()}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                    <Grid container direction=\"row\" spacing={0}>\r\n                                        {data[key].map((userRow, i) => (\r\n                                            <Grid item xs={12} key={i}>\r\n                                                <ContactList\r\n                                                    avatar={userRow.avatar}\r\n                                                    name={userRow.name}\r\n                                                    role={userRow.role}\r\n                                                    email={userRow.work_email}\r\n                                                    contact={userRow.phone}\r\n                                                    location={userRow.location}\r\n                                                    onActive={() => {\r\n                                                        setUser(userRow);\r\n                                                        setUserDetails(true);\r\n                                                        setUserEdit(false);\r\n                                                    }}\r\n                                                />\r\n                                            </Grid>\r\n                                        ))}\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Fragment>\r\n                        ))}\r\n                    </Grid>\r\n                </Grid>\r\n                {userDetails && (\r\n                    <Grid item sx={{ width: 342, margin: { xs: '0 auto', md: 'initial' } }}>\r\n                        <UserDetails\r\n                            user={user}\r\n                            onEditClick={() => {\r\n                                setUserDetails(false);\r\n                                setUserEdit(true);\r\n                            }}\r\n                            onClose={() => {\r\n                                setUserDetails(false);\r\n                                setUserEdit(false);\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n                )}\r\n\r\n                {userEdit && (\r\n                    <Grid item sx={{ width: 342, margin: { xs: '0 auto', md: 'initial' } }}>\r\n                        <UserEdit\r\n                            user={user}\r\n                            onSave={(u) => {\r\n                                if (u.id) setUserDetails(true);\r\n                                setUserEdit(false);\r\n                                modifyUser(u);\r\n                            }}\r\n                            onCancel={(u) => {\r\n                                if (u.id) setUserDetails(true);\r\n                                setUserEdit(false);\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n                )}\r\n            </Grid>\r\n        </MainCard>\r\n    );\r\n};\r\n\r\nexport default CardListPage;\r\n"]}}